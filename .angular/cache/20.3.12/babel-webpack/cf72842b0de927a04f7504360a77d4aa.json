{"ast":null,"code":"import _asyncToGenerator from \"/Users/pea/Desktop/work/my-workspace/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// src/react-18.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom/client\";\nvar nodes = /* @__PURE__ */new Map();\nfunction getIsReactActEnvironment() {\n  return globalThis.IS_REACT_ACT_ENVIRONMENT;\n}\nvar WithCallback = ({\n  callback,\n  children\n}) => {\n  let once = React.useRef();\n  return React.useLayoutEffect(() => {\n    once.current !== callback && (once.current = callback, callback());\n  }, [callback]), children;\n};\ntypeof Promise.withResolvers > \"u\" && (Promise.withResolvers = () => {\n  let resolve = null,\n    reject = null;\n  return {\n    promise: new Promise((res, rej) => {\n      resolve = res, reject = rej;\n    }),\n    resolve,\n    reject\n  };\n});\nvar renderElement = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(function* (node, el, rootOptions) {\n      let root = yield getReactRoot(el, rootOptions);\n      if (getIsReactActEnvironment()) {\n        root.render(node);\n        return;\n      }\n      let {\n        promise,\n        resolve\n      } = Promise.withResolvers();\n      return root.render(React.createElement(WithCallback, {\n        callback: resolve\n      }, node)), promise;\n    });\n    return function renderElement(_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }(),\n  unmountElement = (el, shouldUseNewRootApi) => {\n    let root = nodes.get(el);\n    root && (root.unmount(), nodes.delete(el));\n  },\n  getReactRoot = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator(function* (el, rootOptions) {\n      let root = nodes.get(el);\n      return root || (root = ReactDOM.createRoot(el, rootOptions), nodes.set(el, root)), root;\n    });\n    return function getReactRoot(_x4, _x5) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\nexport { renderElement, unmountElement };","map":{"version":3,"names":["React","ReactDOM","nodes","Map","getIsReactActEnvironment","globalThis","IS_REACT_ACT_ENVIRONMENT","WithCallback","callback","children","once","useRef","useLayoutEffect","current","Promise","withResolvers","resolve","reject","promise","res","rej","renderElement","_ref","_asyncToGenerator","node","el","rootOptions","root","getReactRoot","render","createElement","_x","_x2","_x3","apply","arguments","unmountElement","shouldUseNewRootApi","get","unmount","delete","_ref2","createRoot","set","_x4","_x5"],"sources":["/Users/pea/Desktop/work/my-workspace/node_modules/@storybook/react-dom-shim/dist/react-18.js"],"sourcesContent":["// src/react-18.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom/client\";\nvar nodes = /* @__PURE__ */ new Map();\nfunction getIsReactActEnvironment() {\n  return globalThis.IS_REACT_ACT_ENVIRONMENT;\n}\nvar WithCallback = ({\n  callback,\n  children\n}) => {\n  let once = React.useRef();\n  return React.useLayoutEffect(() => {\n    once.current !== callback && (once.current = callback, callback());\n  }, [callback]), children;\n};\ntypeof Promise.withResolvers > \"u\" && (Promise.withResolvers = () => {\n  let resolve = null, reject = null;\n  return { promise: new Promise((res, rej) => {\n    resolve = res, reject = rej;\n  }), resolve, reject };\n});\nvar renderElement = async (node, el, rootOptions) => {\n  let root = await getReactRoot(el, rootOptions);\n  if (getIsReactActEnvironment()) {\n    root.render(node);\n    return;\n  }\n  let { promise, resolve } = Promise.withResolvers();\n  return root.render(React.createElement(WithCallback, { callback: resolve }, node)), promise;\n}, unmountElement = (el, shouldUseNewRootApi) => {\n  let root = nodes.get(el);\n  root && (root.unmount(), nodes.delete(el));\n}, getReactRoot = async (el, rootOptions) => {\n  let root = nodes.get(el);\n  return root || (root = ReactDOM.createRoot(el, rootOptions), nodes.set(el, root)), root;\n};\nexport {\n  renderElement,\n  unmountElement\n};\n"],"mappings":";AAAA;AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,QAAQ,MAAM,kBAAkB;AAC5C,IAAIC,KAAK,GAAG,eAAgB,IAAIC,GAAG,CAAC,CAAC;AACrC,SAASC,wBAAwBA,CAAA,EAAG;EAClC,OAAOC,UAAU,CAACC,wBAAwB;AAC5C;AACA,IAAIC,YAAY,GAAGA,CAAC;EAClBC,QAAQ;EACRC;AACF,CAAC,KAAK;EACJ,IAAIC,IAAI,GAAGV,KAAK,CAACW,MAAM,CAAC,CAAC;EACzB,OAAOX,KAAK,CAACY,eAAe,CAAC,MAAM;IACjCF,IAAI,CAACG,OAAO,KAAKL,QAAQ,KAAKE,IAAI,CAACG,OAAO,GAAGL,QAAQ,EAAEA,QAAQ,CAAC,CAAC,CAAC;EACpE,CAAC,EAAE,CAACA,QAAQ,CAAC,CAAC,EAAEC,QAAQ;AAC1B,CAAC;AACD,OAAOK,OAAO,CAACC,aAAa,GAAG,GAAG,KAAKD,OAAO,CAACC,aAAa,GAAG,MAAM;EACnE,IAAIC,OAAO,GAAG,IAAI;IAAEC,MAAM,GAAG,IAAI;EACjC,OAAO;IAAEC,OAAO,EAAE,IAAIJ,OAAO,CAAC,CAACK,GAAG,EAAEC,GAAG,KAAK;MAC1CJ,OAAO,GAAGG,GAAG,EAAEF,MAAM,GAAGG,GAAG;IAC7B,CAAC,CAAC;IAAEJ,OAAO;IAAEC;EAAO,CAAC;AACvB,CAAC,CAAC;AACF,IAAII,aAAa;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,IAAI,EAAEC,EAAE,EAAEC,WAAW,EAAK;MACnD,IAAIC,IAAI,SAASC,YAAY,CAACH,EAAE,EAAEC,WAAW,CAAC;MAC9C,IAAItB,wBAAwB,CAAC,CAAC,EAAE;QAC9BuB,IAAI,CAACE,MAAM,CAACL,IAAI,CAAC;QACjB;MACF;MACA,IAAI;QAAEN,OAAO;QAAEF;MAAQ,CAAC,GAAGF,OAAO,CAACC,aAAa,CAAC,CAAC;MAClD,OAAOY,IAAI,CAACE,MAAM,CAAC7B,KAAK,CAAC8B,aAAa,CAACvB,YAAY,EAAE;QAAEC,QAAQ,EAAEQ;MAAQ,CAAC,EAAEQ,IAAI,CAAC,CAAC,EAAEN,OAAO;IAC7F,CAAC;IAAA,gBARGG,aAAaA,CAAAU,EAAA,EAAAC,GAAA,EAAAC,GAAA;MAAA,OAAAX,IAAA,CAAAY,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQhB;EAAEC,cAAc,GAAGA,CAACX,EAAE,EAAEY,mBAAmB,KAAK;IAC/C,IAAIV,IAAI,GAAGzB,KAAK,CAACoC,GAAG,CAACb,EAAE,CAAC;IACxBE,IAAI,KAAKA,IAAI,CAACY,OAAO,CAAC,CAAC,EAAErC,KAAK,CAACsC,MAAM,CAACf,EAAE,CAAC,CAAC;EAC5C,CAAC;EAAEG,YAAY;IAAA,IAAAa,KAAA,GAAAlB,iBAAA,CAAG,WAAOE,EAAE,EAAEC,WAAW,EAAK;MAC3C,IAAIC,IAAI,GAAGzB,KAAK,CAACoC,GAAG,CAACb,EAAE,CAAC;MACxB,OAAOE,IAAI,KAAKA,IAAI,GAAG1B,QAAQ,CAACyC,UAAU,CAACjB,EAAE,EAAEC,WAAW,CAAC,EAAExB,KAAK,CAACyC,GAAG,CAAClB,EAAE,EAAEE,IAAI,CAAC,CAAC,EAAEA,IAAI;IACzF,CAAC;IAAA,gBAHEC,YAAYA,CAAAgB,GAAA,EAAAC,GAAA;MAAA,OAAAJ,KAAA,CAAAP,KAAA,OAAAC,SAAA;IAAA;EAAA,GAGd;AACD,SACEd,aAAa,EACbe,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}