{"ast":null,"code":"import _asyncToGenerator from \"/Users/pea/Desktop/work/my-workspace copy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// src/preview-api/modules/preview-web/render/animation-utils.ts\nfunction isTestEnvironment() {\n  try {\n    return (\n      // @ts-expect-error This property exists in Vitest browser mode\n      !!globalThis.__vitest_browser__ || !!globalThis.window?.navigator?.userAgent?.match(/StorybookTestRunner/)\n    );\n  } catch {\n    return !1;\n  }\n}\nfunction pauseAnimations(atEnd = !0) {\n  if (!(\"document\" in globalThis && \"createElement\" in globalThis.document)) return () => {};\n  let disableStyle = document.createElement(\"style\");\n  disableStyle.textContent = `*, *:before, *:after {\n    animation: none !important;\n  }`, document.head.appendChild(disableStyle);\n  let pauseStyle = document.createElement(\"style\");\n  return pauseStyle.textContent = `*, *:before, *:after {\n    animation-delay: 0s !important;\n    animation-direction: ${atEnd ? \"reverse\" : \"normal\"} !important;\n    animation-play-state: paused !important;\n    transition: none !important;\n  }`, document.head.appendChild(pauseStyle), document.body.clientHeight, document.head.removeChild(disableStyle), () => {\n    pauseStyle.parentNode?.removeChild(pauseStyle);\n  };\n}\nfunction waitForAnimations(_x) {\n  return _waitForAnimations.apply(this, arguments);\n}\nfunction _waitForAnimations() {\n  _waitForAnimations = _asyncToGenerator(function* (signal) {\n    if (!(\"document\" in globalThis && \"getAnimations\" in globalThis.document && \"querySelectorAll\" in globalThis.document)) return;\n    let timedOut = !1;\n    yield Promise.race([\n    // After 50ms, retrieve any running animations and wait for them to finish\n    // If new animations are created while waiting, we'll wait for them too\n    new Promise(resolve => {\n      setTimeout(() => {\n        let animationRoots = [globalThis.document, ...getShadowRoots(globalThis.document)],\n          _checkAnimationsFinished = /*#__PURE__*/function () {\n            var _ref = _asyncToGenerator(function* () {\n              if (timedOut || signal?.aborted) return;\n              let runningAnimations = animationRoots.flatMap(el => el?.getAnimations?.() || []).filter(a => a.playState === \"running\" && !isInfiniteAnimation(a));\n              runningAnimations.length > 0 && (yield Promise.all(runningAnimations.map(a => a.finished)), yield _checkAnimationsFinished());\n            });\n            return function checkAnimationsFinished() {\n              return _ref.apply(this, arguments);\n            };\n          }();\n        _checkAnimationsFinished().then(resolve);\n      }, 100);\n    }),\n    // If animations don't finish within the timeout, continue without waiting\n    new Promise(resolve => setTimeout(() => {\n      timedOut = !0, resolve(void 0);\n    }, 5e3))]);\n  });\n  return _waitForAnimations.apply(this, arguments);\n}\nfunction getShadowRoots(doc) {\n  return [doc, ...doc.querySelectorAll(\"*\")].reduce((acc, el) => (\"shadowRoot\" in el && el.shadowRoot && acc.push(el.shadowRoot, ...getShadowRoots(el.shadowRoot)), acc), []);\n}\nfunction isInfiniteAnimation(anim) {\n  if (anim instanceof CSSAnimation && anim.effect instanceof KeyframeEffect && anim.effect.target) {\n    let style = getComputedStyle(anim.effect.target, anim.effect.pseudoElement),\n      index = style.animationName?.split(\", \").indexOf(anim.animationName);\n    return style.animationIterationCount.split(\", \")[index] === \"infinite\";\n  }\n  return !1;\n}\nexport { isTestEnvironment, pauseAnimations, waitForAnimations };","map":{"version":3,"names":["isTestEnvironment","globalThis","__vitest_browser__","window","navigator","userAgent","match","pauseAnimations","atEnd","document","disableStyle","createElement","textContent","head","appendChild","pauseStyle","body","clientHeight","removeChild","parentNode","waitForAnimations","_x","_waitForAnimations","apply","arguments","_asyncToGenerator","signal","timedOut","Promise","race","resolve","setTimeout","animationRoots","getShadowRoots","checkAnimationsFinished","_ref","aborted","runningAnimations","flatMap","el","getAnimations","filter","a","playState","isInfiniteAnimation","length","all","map","finished","then","doc","querySelectorAll","reduce","acc","shadowRoot","push","anim","CSSAnimation","effect","KeyframeEffect","target","style","getComputedStyle","pseudoElement","index","animationName","split","indexOf","animationIterationCount"],"sources":["/Users/pea/Desktop/work/my-workspace copy/node_modules/storybook/dist/_browser-chunks/chunk-IPA5A322.js"],"sourcesContent":["// src/preview-api/modules/preview-web/render/animation-utils.ts\nfunction isTestEnvironment() {\n  try {\n    return (\n      // @ts-expect-error This property exists in Vitest browser mode\n      !!globalThis.__vitest_browser__ || !!globalThis.window?.navigator?.userAgent?.match(/StorybookTestRunner/)\n    );\n  } catch {\n    return !1;\n  }\n}\nfunction pauseAnimations(atEnd = !0) {\n  if (!(\"document\" in globalThis && \"createElement\" in globalThis.document))\n    return () => {\n    };\n  let disableStyle = document.createElement(\"style\");\n  disableStyle.textContent = `*, *:before, *:after {\n    animation: none !important;\n  }`, document.head.appendChild(disableStyle);\n  let pauseStyle = document.createElement(\"style\");\n  return pauseStyle.textContent = `*, *:before, *:after {\n    animation-delay: 0s !important;\n    animation-direction: ${atEnd ? \"reverse\" : \"normal\"} !important;\n    animation-play-state: paused !important;\n    transition: none !important;\n  }`, document.head.appendChild(pauseStyle), document.body.clientHeight, document.head.removeChild(disableStyle), () => {\n    pauseStyle.parentNode?.removeChild(pauseStyle);\n  };\n}\nasync function waitForAnimations(signal) {\n  if (!(\"document\" in globalThis && \"getAnimations\" in globalThis.document && \"querySelectorAll\" in globalThis.document))\n    return;\n  let timedOut = !1;\n  await Promise.race([\n    // After 50ms, retrieve any running animations and wait for them to finish\n    // If new animations are created while waiting, we'll wait for them too\n    new Promise((resolve) => {\n      setTimeout(() => {\n        let animationRoots = [globalThis.document, ...getShadowRoots(globalThis.document)], checkAnimationsFinished = async () => {\n          if (timedOut || signal?.aborted)\n            return;\n          let runningAnimations = animationRoots.flatMap((el) => el?.getAnimations?.() || []).filter((a) => a.playState === \"running\" && !isInfiniteAnimation(a));\n          runningAnimations.length > 0 && (await Promise.all(runningAnimations.map((a) => a.finished)), await checkAnimationsFinished());\n        };\n        checkAnimationsFinished().then(resolve);\n      }, 100);\n    }),\n    // If animations don't finish within the timeout, continue without waiting\n    new Promise(\n      (resolve) => setTimeout(() => {\n        timedOut = !0, resolve(void 0);\n      }, 5e3)\n    )\n  ]);\n}\nfunction getShadowRoots(doc) {\n  return [doc, ...doc.querySelectorAll(\"*\")].reduce((acc, el) => (\"shadowRoot\" in el && el.shadowRoot && acc.push(el.shadowRoot, ...getShadowRoots(el.shadowRoot)), acc), []);\n}\nfunction isInfiniteAnimation(anim) {\n  if (anim instanceof CSSAnimation && anim.effect instanceof KeyframeEffect && anim.effect.target) {\n    let style = getComputedStyle(anim.effect.target, anim.effect.pseudoElement), index = style.animationName?.split(\", \").indexOf(anim.animationName);\n    return style.animationIterationCount.split(\", \")[index] === \"infinite\";\n  }\n  return !1;\n}\n\nexport {\n  isTestEnvironment,\n  pauseAnimations,\n  waitForAnimations\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}