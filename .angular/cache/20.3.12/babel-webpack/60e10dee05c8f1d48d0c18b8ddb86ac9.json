{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./searchfield.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./searchfield.component.scss?ngResource\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nlet SearchfieldComponent = class SearchfieldComponent {\n  label = '';\n  placeholder = '';\n  control;\n  size = 'sm';\n  color = 'primary';\n  iconStart;\n  iconEnd;\n  valueChange = new EventEmitter();\n  iconClick = new EventEmitter();\n  // Track focus\n  inputFocused = false;\n  onInput() {\n    const val = this.control.value || '';\n    if (val.length > 15) {\n      this.control.setErrors({\n        ...this.control.errors,\n        maxlength: {\n          requiredLength: 15,\n          actualLength: val.length\n        }\n      });\n    } else {\n      if (this.control.errors) {\n        const {\n          maxlength,\n          ...rest\n        } = this.control.errors;\n        this.control.setErrors(Object.keys(rest).length ? rest : null);\n      }\n    }\n    this.valueChange.emit(val);\n  }\n  clearInput() {\n    this.control.setValue('');\n    this.control.markAsUntouched();\n    this.valueChange.emit('');\n  }\n  clickIcon(position) {\n    this.iconClick.emit(position);\n  }\n  hasText() {\n    return !!this.control.value;\n  }\n  onFocus() {\n    this.inputFocused = true;\n  }\n  onBlur() {\n    this.inputFocused = false;\n  }\n  get inputClasses() {\n    return {\n      'has-icon-start': !!this.iconStart,\n      'has-icon-end': !!this.iconEnd || this.hasText()\n    };\n  }\n  get clearButtonClasses() {\n    return {\n      'with-end-icon': !!this.iconEnd,\n      'without-end-icon': !this.iconEnd\n    };\n  }\n  get state() {\n    if (this.inputFocused) return 'focus';\n    if (this.control?.invalid) return 'error';\n    if (this.control?.valid && this.control?.touched) return 'success';\n    return this.color || 'default'; // <-- คืนค่า color\n  }\n  get errorText() {\n    if (!this.control?.errors) return '';\n    if (this.control.errors['required']) return 'This field is required';\n    if (this.control.errors['maxlength']) return `Maximum ${this.control.errors['maxlength'].requiredLength} characters`;\n    if (this.control.errors['pattern']) return 'Number only';\n    return 'Invalid format';\n  }\n  static propDecorators = {\n    label: [{\n      type: Input\n    }],\n    placeholder: [{\n      type: Input\n    }],\n    control: [{\n      type: Input\n    }],\n    size: [{\n      type: Input\n    }],\n    color: [{\n      type: Input\n    }],\n    iconStart: [{\n      type: Input\n    }],\n    iconEnd: [{\n      type: Input\n    }],\n    valueChange: [{\n      type: Output\n    }],\n    iconClick: [{\n      type: Output\n    }]\n  };\n};\nSearchfieldComponent = __decorate([Component({\n  selector: 'app-searchfield',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], SearchfieldComponent);\nexport { SearchfieldComponent };","map":{"version":3,"names":["__decorate","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","Input","Output","EventEmitter","CommonModule","ReactiveFormsModule","SearchfieldComponent","label","placeholder","control","size","color","iconStart","iconEnd","valueChange","iconClick","inputFocused","onInput","val","value","length","setErrors","errors","maxlength","requiredLength","actualLength","rest","Object","keys","emit","clearInput","setValue","markAsUntouched","clickIcon","position","hasText","onFocus","onBlur","inputClasses","clearButtonClasses","state","invalid","valid","touched","errorText","propDecorators","type","selector","standalone","imports","template","styles"],"sources":["/Users/pea/Desktop/work/my-workspace/projects/my-lib/src/lib/searchfield/searchfield.component.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./searchfield.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./searchfield.component.scss?ngResource\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nlet SearchfieldComponent = class SearchfieldComponent {\n    label = '';\n    placeholder = '';\n    control;\n    size = 'sm';\n    color = 'primary';\n    iconStart;\n    iconEnd;\n    valueChange = new EventEmitter();\n    iconClick = new EventEmitter();\n    // Track focus\n    inputFocused = false;\n    onInput() {\n        const val = this.control.value || '';\n        if (val.length > 15) {\n            this.control.setErrors({\n                ...this.control.errors,\n                maxlength: { requiredLength: 15, actualLength: val.length },\n            });\n        }\n        else {\n            if (this.control.errors) {\n                const { maxlength, ...rest } = this.control.errors;\n                this.control.setErrors(Object.keys(rest).length ? rest : null);\n            }\n        }\n        this.valueChange.emit(val);\n    }\n    clearInput() {\n        this.control.setValue('');\n        this.control.markAsUntouched();\n        this.valueChange.emit('');\n    }\n    clickIcon(position) {\n        this.iconClick.emit(position);\n    }\n    hasText() {\n        return !!this.control.value;\n    }\n    onFocus() {\n        this.inputFocused = true;\n    }\n    onBlur() {\n        this.inputFocused = false;\n    }\n    get inputClasses() {\n        return {\n            'has-icon-start': !!this.iconStart,\n            'has-icon-end': !!this.iconEnd || this.hasText(),\n        };\n    }\n    get clearButtonClasses() {\n        return {\n            'with-end-icon': !!this.iconEnd,\n            'without-end-icon': !this.iconEnd,\n        };\n    }\n    get state() {\n        if (this.inputFocused)\n            return 'focus';\n        if (this.control?.invalid)\n            return 'error';\n        if (this.control?.valid && this.control?.touched)\n            return 'success';\n        return this.color || 'default'; // <-- คืนค่า color\n    }\n    get errorText() {\n        if (!this.control?.errors)\n            return '';\n        if (this.control.errors['required'])\n            return 'This field is required';\n        if (this.control.errors['maxlength'])\n            return `Maximum ${this.control.errors['maxlength'].requiredLength} characters`;\n        if (this.control.errors['pattern'])\n            return 'Number only';\n        return 'Invalid format';\n    }\n    static propDecorators = {\n        label: [{ type: Input }],\n        placeholder: [{ type: Input }],\n        control: [{ type: Input }],\n        size: [{ type: Input }],\n        color: [{ type: Input }],\n        iconStart: [{ type: Input }],\n        iconEnd: [{ type: Input }],\n        valueChange: [{ type: Output }],\n        iconClick: [{ type: Output }]\n    };\n};\nSearchfieldComponent = __decorate([\n    Component({\n        selector: 'app-searchfield',\n        standalone: true,\n        imports: [CommonModule, ReactiveFormsModule],\n        template: __NG_CLI_RESOURCE__0,\n        styles: [__NG_CLI_RESOURCE__1]\n    })\n], SearchfieldComponent);\nexport { SearchfieldComponent };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}