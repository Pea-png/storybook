{"ast":null,"code":"import { FormsModule, ReactiveFormsModule, FormControl, Validators } from '@angular/forms';\nimport { TextfieldComponent } from './textfield.component';\nconst meta = {\n  title: 'Components/Textfield',\n  component: TextfieldComponent,\n  decorators: [story => ({\n    moduleMetadata: {\n      imports: [FormsModule, ReactiveFormsModule, TextfieldComponent]\n    },\n    template: `<div style=\"width: 300px;\">${story()}</div>`\n  })],\n  argTypes: {\n    size: {\n      control: {\n        type: 'select',\n        options: ['sm', 'md', 'lg']\n      }\n    },\n    color: {\n      control: {\n        type: 'select',\n        options: ['primary', 'secondary', 'success', 'error']\n      }\n    },\n    value: {\n      control: 'text'\n    },\n    placeholder: {\n      control: 'text'\n    },\n    label: {\n      control: 'text'\n    },\n    helperText: {\n      control: 'text'\n    },\n    onlyNumbers: {\n      control: 'boolean'\n    },\n    disabled: {\n      control: 'boolean'\n    },\n    valueChange: {\n      action: 'valueChange'\n    } // events\n  }\n};\nexport default meta;\n// helper: create FormControl with optional validators\nconst createControl = (value = '', required = false) => {\n  const validators = required ? [Validators.required, Validators.maxLength(10)] : [Validators.maxLength(10)];\n  return new FormControl(value, validators);\n};\n// shared render function for story\nconst renderTemplate = args => {\n  const control = createControl(args.value, args.color === 'error');\n  control.valueChanges.subscribe(() => {\n    console.groupCollapsed(`Field Update: ${args.label || 'Field'}`);\n    console.table({\n      value: control.value,\n      valid: control.valid,\n      invalid: control.invalid,\n      touched: control.touched,\n      dirty: control.dirty,\n      pristine: control.pristine,\n      errors: control.errors\n    });\n    console.groupEnd();\n  });\n  return {\n    props: {\n      ...args,\n      control,\n      valueChange: args.valueChange\n    },\n    template: `\n      <app-textfield\n        [label]=\"label\"\n        [placeholder]=\"placeholder\"\n        [size]=\"size\"\n        [color]=\"color\"\n        [helperText]=\"helperText\"\n        [disabled]=\"disabled\"\n        [onlyNumbers]=\"onlyNumbers\"\n        [control]=\"control\"\n        (valueChange)=\"valueChange($event)\"\n      ></app-textfield>\n    `\n  };\n};\n// Stories\nexport const Default = {\n  render: renderTemplate,\n  args: {\n    label: 'Username',\n    placeholder: 'Enter text',\n    helperText: 'Max 10 characters',\n    size: 'sm',\n    color: 'primary',\n    value: '',\n    onlyNumbers: false,\n    disabled: false\n  }\n};\nexport const WithValue = {\n  render: renderTemplate,\n  args: {\n    ...Default.args,\n    value: 'Hello',\n    size: 'md',\n    color: 'primary'\n  }\n};\nexport const ErrorState = {\n  render: renderTemplate,\n  args: {\n    ...Default.args,\n    value: '',\n    color: 'error',\n    helperText: 'This field is required'\n  }\n};","map":{"version":3,"names":["FormsModule","ReactiveFormsModule","FormControl","Validators","TextfieldComponent","meta","title","component","decorators","story","moduleMetadata","imports","template","argTypes","size","control","type","options","color","value","placeholder","label","helperText","onlyNumbers","disabled","valueChange","action","createControl","required","validators","maxLength","renderTemplate","args","valueChanges","subscribe","console","groupCollapsed","table","valid","invalid","touched","dirty","pristine","errors","groupEnd","props","Default","render","WithValue","ErrorState"],"sources":["/Users/pea/Desktop/work/my-workspace/projects/my-lib/src/lib/textfield/textfield.stories.ts"],"sourcesContent":["import { FormsModule, ReactiveFormsModule, FormControl, Validators } from '@angular/forms';\nimport { TextfieldComponent } from './textfield.component';\nconst meta = {\n    title: 'Components/Textfield',\n    component: TextfieldComponent,\n    decorators: [\n        (story) => ({\n            moduleMetadata: {\n                imports: [FormsModule, ReactiveFormsModule, TextfieldComponent],\n            },\n            template: `<div style=\"width: 300px;\">${story()}</div>`,\n        }),\n    ],\n    argTypes: {\n        size: { control: { type: 'select', options: ['sm', 'md', 'lg'] } },\n        color: { control: { type: 'select', options: ['primary', 'secondary', 'success', 'error'] } },\n        value: { control: 'text' },\n        placeholder: { control: 'text' },\n        label: { control: 'text' },\n        helperText: { control: 'text' },\n        onlyNumbers: { control: 'boolean' },\n        disabled: { control: 'boolean' },\n        valueChange: { action: 'valueChange' }, // events\n    },\n};\nexport default meta;\n// helper: create FormControl with optional validators\nconst createControl = (value = '', required = false) => {\n    const validators = required ? [Validators.required, Validators.maxLength(10)] : [Validators.maxLength(10)];\n    return new FormControl(value, validators);\n};\n// shared render function for story\nconst renderTemplate = (args) => {\n    const control = createControl(args.value, args.color === 'error');\n    control.valueChanges.subscribe(() => {\n        console.groupCollapsed(`Field Update: ${args.label || 'Field'}`);\n        console.table({\n            value: control.value,\n            valid: control.valid,\n            invalid: control.invalid,\n            touched: control.touched,\n            dirty: control.dirty,\n            pristine: control.pristine,\n            errors: control.errors,\n        });\n        console.groupEnd();\n    });\n    return {\n        props: {\n            ...args,\n            control,\n            valueChange: args.valueChange,\n        },\n        template: `\n      <app-textfield\n        [label]=\"label\"\n        [placeholder]=\"placeholder\"\n        [size]=\"size\"\n        [color]=\"color\"\n        [helperText]=\"helperText\"\n        [disabled]=\"disabled\"\n        [onlyNumbers]=\"onlyNumbers\"\n        [control]=\"control\"\n        (valueChange)=\"valueChange($event)\"\n      ></app-textfield>\n    `,\n    };\n};\n// Stories\nexport const Default = {\n    render: renderTemplate,\n    args: {\n        label: 'Username',\n        placeholder: 'Enter text',\n        helperText: 'Max 10 characters',\n        size: 'sm',\n        color: 'primary',\n        value: '',\n        onlyNumbers: false,\n        disabled: false,\n    },\n};\nexport const WithValue = {\n    render: renderTemplate,\n    args: {\n        ...Default.args,\n        value: 'Hello',\n        size: 'md',\n        color: 'primary',\n    },\n};\nexport const ErrorState = {\n    render: renderTemplate,\n    args: {\n        ...Default.args,\n        value: '',\n        color: 'error',\n        helperText: 'This field is required',\n    },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}