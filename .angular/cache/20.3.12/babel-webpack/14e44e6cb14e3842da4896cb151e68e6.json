{"ast":null,"code":"import _asyncToGenerator from \"/Users/pea/Desktop/work/my-workspace copy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { UniversalStore, parse, stringify } from \"../_browser-chunks/chunk-UD6FQLAF.js\";\nimport { StatusTypeIdMismatchError } from \"../_browser-chunks/chunk-GFY5R5EY.js\";\nimport { StatusTypeIdMismatchError as StatusTypeIdMismatchError2 } from \"../_browser-chunks/chunk-2XZMBGTA.js\";\nimport { StorybookError } from \"../_browser-chunks/chunk-FQ7SLVLR.js\";\nimport { countBy, dequal, partition } from \"../_browser-chunks/chunk-XJNX76GA.js\";\nimport { require_picocolors_browser } from \"../_browser-chunks/chunk-EZSQOHRI.js\";\nimport { isEqual } from \"../_browser-chunks/chunk-3IAH5M2U.js\";\nimport \"../_browser-chunks/chunk-QKODTO7K.js\";\nimport { mapValues, mergeWith, pick, toMerged } from \"../_browser-chunks/chunk-AIOS4NGK.js\";\nimport \"../_browser-chunks/chunk-GFLS4VP3.js\";\nimport { require_memoizerific } from \"../_browser-chunks/chunk-WJYERY3R.js\";\nimport { dedent } from \"../_browser-chunks/chunk-JP7NCOJX.js\";\nimport { __commonJS, __export, __toESM } from \"../_browser-chunks/chunk-A242L54C.js\";\n\n// ../node_modules/toggle-selection/index.js\nvar require_toggle_selection = __commonJS({\n  \"../node_modules/toggle-selection/index.js\"(exports, module) {\n    module.exports = function () {\n      var selection = document.getSelection();\n      if (!selection.rangeCount) return function () {};\n      for (var active = document.activeElement, ranges = [], i = 0; i < selection.rangeCount; i++) ranges.push(selection.getRangeAt(i));\n      switch (active.tagName.toUpperCase()) {\n        // .toUpperCase handles XHTML\n        case \"INPUT\":\n        case \"TEXTAREA\":\n          active.blur();\n          break;\n        default:\n          active = null;\n          break;\n      }\n      return selection.removeAllRanges(), function () {\n        selection.type === \"Caret\" && selection.removeAllRanges(), selection.rangeCount || ranges.forEach(function (range) {\n          selection.addRange(range);\n        }), active && active.focus();\n      };\n    };\n  }\n});\n\n// ../node_modules/copy-to-clipboard/index.js\nvar require_copy_to_clipboard = __commonJS({\n  \"../node_modules/copy-to-clipboard/index.js\"(exports, module) {\n    \"use strict\";\n\n    var deselectCurrent = require_toggle_selection(),\n      clipboardToIE11Formatting = {\n        \"text/plain\": \"Text\",\n        \"text/html\": \"Url\",\n        default: \"Text\"\n      },\n      defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n    function format(message) {\n      var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\\u2318\" : \"Ctrl\") + \"+C\";\n      return message.replace(/#{\\s*key\\s*}/g, copyKey);\n    }\n    function copy2(text, options) {\n      var debug,\n        message,\n        reselectPrevious,\n        range,\n        selection,\n        mark,\n        success = !1;\n      options || (options = {}), debug = options.debug || !1;\n      try {\n        reselectPrevious = deselectCurrent(), range = document.createRange(), selection = document.getSelection(), mark = document.createElement(\"span\"), mark.textContent = text, mark.ariaHidden = \"true\", mark.style.all = \"unset\", mark.style.position = \"fixed\", mark.style.top = 0, mark.style.clip = \"rect(0, 0, 0, 0)\", mark.style.whiteSpace = \"pre\", mark.style.webkitUserSelect = \"text\", mark.style.MozUserSelect = \"text\", mark.style.msUserSelect = \"text\", mark.style.userSelect = \"text\", mark.addEventListener(\"copy\", function (e) {\n          if (e.stopPropagation(), options.format) if (e.preventDefault(), typeof e.clipboardData > \"u\") {\n            debug && console.warn(\"unable to use e.clipboardData\"), debug && console.warn(\"trying IE specific stuff\"), window.clipboardData.clearData();\n            var format2 = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting.default;\n            window.clipboardData.setData(format2, text);\n          } else e.clipboardData.clearData(), e.clipboardData.setData(options.format, text);\n          options.onCopy && (e.preventDefault(), options.onCopy(e.clipboardData));\n        }), document.body.appendChild(mark), range.selectNodeContents(mark), selection.addRange(range);\n        var successful = document.execCommand(\"copy\");\n        if (!successful) throw new Error(\"copy command was unsuccessful\");\n        success = !0;\n      } catch (err) {\n        debug && console.error(\"unable to copy using execCommand: \", err), debug && console.warn(\"trying IE specific stuff\");\n        try {\n          window.clipboardData.setData(options.format || \"text\", text), options.onCopy && options.onCopy(window.clipboardData), success = !0;\n        } catch (err2) {\n          debug && console.error(\"unable to copy using clipboardData: \", err2), debug && console.error(\"falling back to prompt\"), message = format(\"message\" in options ? options.message : defaultMessage), window.prompt(message, text);\n        }\n      } finally {\n        selection && (typeof selection.removeRange == \"function\" ? selection.removeRange(range) : selection.removeAllRanges()), mark && document.body.removeChild(mark), reselectPrevious();\n      }\n      return success;\n    }\n    module.exports = copy2;\n  }\n});\n\n// ../node_modules/store2/dist/store2.js\nvar require_store2 = __commonJS({\n  \"../node_modules/store2/dist/store2.js\"(exports, module) {\n    (function (window2, define) {\n      var _ = {\n          version: \"2.14.4\",\n          areas: {},\n          apis: {},\n          nsdelim: \".\",\n          // utilities\n          inherit: function (api, o) {\n            for (var p in api) o.hasOwnProperty(p) || Object.defineProperty(o, p, Object.getOwnPropertyDescriptor(api, p));\n            return o;\n          },\n          stringify: function (d, fn) {\n            return d === void 0 || typeof d == \"function\" ? d + \"\" : JSON.stringify(d, fn || _.replace);\n          },\n          parse: function (s, fn) {\n            try {\n              return JSON.parse(s, fn || _.revive);\n            } catch {\n              return s;\n            }\n          },\n          // extension hooks\n          fn: function (name, fn) {\n            _.storeAPI[name] = fn;\n            for (var api in _.apis) _.apis[api][name] = fn;\n          },\n          get: function (area, key) {\n            return area.getItem(key);\n          },\n          set: function (area, key, string) {\n            area.setItem(key, string);\n          },\n          remove: function (area, key) {\n            area.removeItem(key);\n          },\n          key: function (area, i) {\n            return area.key(i);\n          },\n          length: function (area) {\n            return area.length;\n          },\n          clear: function (area) {\n            area.clear();\n          },\n          // core functions\n          Store: function (id, area, namespace) {\n            var store3 = _.inherit(_.storeAPI, function (key, data, overwrite) {\n              return arguments.length === 0 ? store3.getAll() : typeof data == \"function\" ? store3.transact(key, data, overwrite) : data !== void 0 ? store3.set(key, data, overwrite) : typeof key == \"string\" || typeof key == \"number\" ? store3.get(key) : typeof key == \"function\" ? store3.each(key) : key ? store3.setAll(key, data) : store3.clear();\n            });\n            store3._id = id;\n            try {\n              var testKey = \"__store2_test\";\n              area.setItem(testKey, \"ok\"), store3._area = area, area.removeItem(testKey);\n            } catch {\n              store3._area = _.storage(\"fake\");\n            }\n            return store3._ns = namespace || \"\", _.areas[id] || (_.areas[id] = store3._area), _.apis[store3._ns + store3._id] || (_.apis[store3._ns + store3._id] = store3), store3;\n          },\n          storeAPI: {\n            // admin functions\n            area: function (id, area) {\n              var store3 = this[id];\n              return (!store3 || !store3.area) && (store3 = _.Store(id, area, this._ns), this[id] || (this[id] = store3)), store3;\n            },\n            namespace: function (namespace, singleArea, delim) {\n              if (delim = delim || this._delim || _.nsdelim, !namespace) return this._ns ? this._ns.substring(0, this._ns.length - delim.length) : \"\";\n              var ns = namespace,\n                store3 = this[ns];\n              if ((!store3 || !store3.namespace) && (store3 = _.Store(this._id, this._area, this._ns + ns + delim), store3._delim = delim, this[ns] || (this[ns] = store3), !singleArea)) for (var name in _.areas) store3.area(name, _.areas[name]);\n              return store3;\n            },\n            isFake: function (force) {\n              return force ? (this._real = this._area, this._area = _.storage(\"fake\")) : force === !1 && (this._area = this._real || this._area), this._area.name === \"fake\";\n            },\n            toString: function () {\n              return \"store\" + (this._ns ? \".\" + this.namespace() : \"\") + \"[\" + this._id + \"]\";\n            },\n            // storage functions\n            has: function (key) {\n              return this._area.has ? this._area.has(this._in(key)) : this._in(key) in this._area;\n            },\n            size: function () {\n              return this.keys().length;\n            },\n            each: function (fn, fill) {\n              for (var i = 0, m = _.length(this._area); i < m; i++) {\n                var key = this._out(_.key(this._area, i));\n                if (key !== void 0 && fn.call(this, key, this.get(key), fill) === !1) break;\n                m > _.length(this._area) && (m--, i--);\n              }\n              return fill || this;\n            },\n            keys: function (fillList) {\n              return this.each(function (k, v, list) {\n                list.push(k);\n              }, fillList || []);\n            },\n            get: function (key, alt) {\n              var s = _.get(this._area, this._in(key)),\n                fn;\n              return typeof alt == \"function\" && (fn = alt, alt = null), s !== null ? _.parse(s, fn) : alt ?? s;\n            },\n            getAll: function (fillObj) {\n              return this.each(function (k, v, all) {\n                all[k] = v;\n              }, fillObj || {});\n            },\n            transact: function (key, fn, alt) {\n              var val = this.get(key, alt),\n                ret = fn(val);\n              return this.set(key, ret === void 0 ? val : ret), this;\n            },\n            set: function (key, data, overwrite) {\n              var d = this.get(key),\n                replacer;\n              return d != null && overwrite === !1 ? data : (typeof overwrite == \"function\" && (replacer = overwrite, overwrite = void 0), _.set(this._area, this._in(key), _.stringify(data, replacer), overwrite) || d);\n            },\n            setAll: function (data, overwrite) {\n              var changed, val;\n              for (var key in data) val = data[key], this.set(key, val, overwrite) !== val && (changed = !0);\n              return changed;\n            },\n            add: function (key, data, replacer) {\n              var d = this.get(key);\n              if (d instanceof Array) data = d.concat(data);else if (d !== null) {\n                var type = typeof d;\n                if (type === typeof data && type === \"object\") {\n                  for (var k in data) d[k] = data[k];\n                  data = d;\n                } else data = d + data;\n              }\n              return _.set(this._area, this._in(key), _.stringify(data, replacer)), data;\n            },\n            remove: function (key, alt) {\n              var d = this.get(key, alt);\n              return _.remove(this._area, this._in(key)), d;\n            },\n            clear: function () {\n              return this._ns ? this.each(function (k) {\n                _.remove(this._area, this._in(k));\n              }, 1) : _.clear(this._area), this;\n            },\n            clearAll: function () {\n              var area = this._area;\n              for (var id in _.areas) _.areas.hasOwnProperty(id) && (this._area = _.areas[id], this.clear());\n              return this._area = area, this;\n            },\n            // internal use functions\n            _in: function (k) {\n              return typeof k != \"string\" && (k = _.stringify(k)), this._ns ? this._ns + k : k;\n            },\n            _out: function (k) {\n              return this._ns ? k && k.indexOf(this._ns) === 0 ? k.substring(this._ns.length) : void 0 :\n              // so each() knows to skip it\n              k;\n            }\n          },\n          // end _.storeAPI\n          storage: function (name) {\n            return _.inherit(_.storageAPI, {\n              items: {},\n              name\n            });\n          },\n          storageAPI: {\n            length: 0,\n            has: function (k) {\n              return this.items.hasOwnProperty(k);\n            },\n            key: function (i) {\n              var c = 0;\n              for (var k in this.items) if (this.has(k) && i === c++) return k;\n            },\n            setItem: function (k, v) {\n              this.has(k) || this.length++, this.items[k] = v;\n            },\n            removeItem: function (k) {\n              this.has(k) && (delete this.items[k], this.length--);\n            },\n            getItem: function (k) {\n              return this.has(k) ? this.items[k] : null;\n            },\n            clear: function () {\n              for (var k in this.items) this.removeItem(k);\n            }\n          }\n          // end _.storageAPI\n        },\n        store2 =\n        // safely set this up (throws error in IE10/32bit mode for local files)\n        _.Store(\"local\", function () {\n          try {\n            return localStorage;\n          } catch {}\n        }());\n      store2.local = store2, store2._ = _, store2.area(\"session\", function () {\n        try {\n          return sessionStorage;\n        } catch {}\n      }()), store2.area(\"page\", _.storage(\"page\")), typeof define == \"function\" && define.amd !== void 0 ? define(\"store2\", [], function () {\n        return store2;\n      }) : typeof module < \"u\" && module.exports ? module.exports = store2 : (window2.store && (_.conflict = window2.store), window2.store = store2);\n    })(exports, exports && exports.define);\n  }\n});\n\n// src/manager-api/root.tsx\nimport React4, { Component, Fragment, useCallback as useCallback2, useContext, useEffect, useMemo, useRef as useRef2, useState } from \"react\";\nimport { DOCS_PREPARED as DOCS_PREPARED2, SET_STORIES as SET_STORIES2, SHARED_STATE_CHANGED, SHARED_STATE_SET, STORY_CHANGED as STORY_CHANGED2, STORY_PREPARED as STORY_PREPARED2 } from \"storybook/internal/core-events\";\n\n// src/manager-api/context.ts\nimport { createContext as ReactCreateContext } from \"react\";\nvar createContext = ({\n  api,\n  state\n}) => ReactCreateContext({\n  api,\n  state\n});\n\n// src/manager-api/lib/merge.ts\nimport { logger } from \"storybook/internal/client-logger\";\nvar merge_default = (a, ...b) => {\n    let target = {};\n    target = mergeWith({}, a, (objValue, srcValue) => {\n      if (Array.isArray(srcValue) && Array.isArray(objValue)) return srcValue.forEach(s => {\n        objValue.find(o => o === s || isEqual(o, s)) || objValue.push(s);\n      }), objValue;\n      if (Array.isArray(objValue)) return logger.log([\"the types mismatch, picking\", objValue]), objValue;\n    });\n    for (let obj of b) target = mergeWith(target, obj, (objValue, srcValue) => {\n      if (Array.isArray(srcValue) && Array.isArray(objValue)) return srcValue.forEach(s => {\n        objValue.find(o => o === s || isEqual(o, s)) || objValue.push(s);\n      }), objValue;\n      if (Array.isArray(objValue)) return logger.log([\"the types mismatch, picking\", objValue]), objValue;\n    });\n    return target;\n  },\n  noArrayMerge = (a, ...b) => {\n    let target = {};\n    target = mergeWith({}, a, (objValue, srcValue) => {\n      if (Array.isArray(srcValue)) return srcValue;\n    });\n    for (let obj of b) target = mergeWith(target, obj, (objValue, srcValue) => {\n      if (Array.isArray(srcValue)) return srcValue;\n    });\n    return target;\n  };\n\n// src/manager-api/initial-state.ts\nvar main = (...additions) => additions.reduce((acc, item) => merge_default(acc, item), {}),\n  initial_state_default = main;\n\n// src/manager-api/lib/addons.ts\nimport { logger as logger2 } from \"storybook/internal/client-logger\";\nimport { SET_CONFIG } from \"storybook/internal/core-events\";\nimport { Addon_TypesEnum } from \"storybook/internal/types\";\nimport { global } from \"@storybook/global\";\n\n// src/manager-api/lib/storybook-channel-mock.ts\nimport { Channel } from \"storybook/internal/channels\";\nfunction mockChannel() {\n  let transport = {\n    setHandler: () => {},\n    send: () => {}\n  };\n  return new Channel({\n    transport\n  });\n}\n\n// src/manager-api/lib/addons.ts\nvar AddonStore = class {\n    constructor() {\n      this.loaders = {};\n      this.elements = {};\n      this.config = {};\n      this.getChannel = () => (this.channel || this.setChannel(mockChannel()), this.channel);\n      this.ready = () => this.promise;\n      this.hasChannel = () => !!this.channel;\n      this.setChannel = channel => {\n        this.channel = channel, this.resolve();\n      };\n      this.setConfig = value => {\n        Object.assign(this.config, value), this.hasChannel() ? this.getChannel().emit(SET_CONFIG, this.config) : this.ready().then(channel => {\n          channel.emit(SET_CONFIG, this.config);\n        });\n      };\n      this.getConfig = () => this.config;\n      /**\n       * Registers an addon loader function.\n       *\n       * @param {string} id - The id of the addon loader.\n       * @param {(api: API) => void} callback - The function that will be called to register the addon.\n       * @returns {void}\n       */\n      this.register = (id, callback) => {\n        this.loaders[id] && logger2.warn(`${id} was loaded twice, this could have bad side-effects`), this.loaders[id] = callback;\n      };\n      this.loadAddons = api => {\n        Object.values(this.loaders).forEach(value => value(api));\n      };\n      this.promise = new Promise(res => {\n        this.resolve = () => res(this.getChannel());\n      });\n    }\n    getElements(type) {\n      return this.elements[type] || (this.elements[type] = {}), this.elements[type];\n    }\n    /**\n     * Adds an addon to the addon store.\n     *\n     * @param {string} id - The id of the addon.\n     * @param {Addon_Type} addon - The addon to add.\n     * @returns {void}\n     */\n    add(id, addon) {\n      let {\n          type\n        } = addon,\n        collection = this.getElements(type);\n      collection[id] = {\n        ...addon,\n        id\n      };\n    }\n    experimental_getRegisteredAddons() {\n      return Object.keys(this.loaders);\n    }\n  },\n  KEY = \"__STORYBOOK_ADDONS_MANAGER\";\nfunction getAddonsStore() {\n  return global[KEY] || (global[KEY] = new AddonStore()), global[KEY];\n}\nvar addons = getAddonsStore();\n\n// src/manager-api/modules/addons.ts\nvar addons_exports = {};\n__export(addons_exports, {\n  ensurePanel: () => ensurePanel,\n  init: () => init\n});\nimport { Addon_TypesEnum as Addon_TypesEnum2 } from \"storybook/internal/types\";\nfunction ensurePanel(panels, selectedPanel, currentPanel) {\n  let keys2 = Object.keys(panels);\n  return keys2.indexOf(selectedPanel) >= 0 ? selectedPanel : keys2.length ? keys2[0] : currentPanel;\n}\nvar init = ({\n  provider,\n  store: store2,\n  fullAPI\n}) => {\n  let api = {\n    getElements: type => provider.getElements(type),\n    getSelectedPanel: () => {\n      let {\n        selectedPanel\n      } = store2.getState();\n      return ensurePanel(api.getElements(Addon_TypesEnum2.PANEL), selectedPanel, selectedPanel);\n    },\n    setSelectedPanel: panelName => {\n      store2.setState({\n        selectedPanel: panelName\n      }, {\n        persistence: \"session\"\n      });\n    },\n    setAddonState(addonId, newStateOrMerger, options) {\n      let merger = typeof newStateOrMerger == \"function\" ? newStateOrMerger : () => newStateOrMerger;\n      return store2.setState(s => ({\n        ...s,\n        addons: {\n          ...s.addons,\n          [addonId]: merger(s.addons[addonId])\n        }\n      }), options).then(() => api.getAddonState(addonId));\n    },\n    getAddonState: addonId => store2.getState().addons[addonId] || globalThis?.STORYBOOK_ADDON_STATE[addonId]\n  };\n  return {\n    api,\n    state: {\n      selectedPanel: ensurePanel(api.getElements(Addon_TypesEnum2.PANEL), store2.getState().selectedPanel),\n      addons: {}\n    }\n  };\n};\n\n// src/manager-api/modules/channel.ts\nvar channel_exports = {};\n__export(channel_exports, {\n  init: () => init2\n});\nvar init2 = ({\n  provider\n}) => ({\n  api: {\n    getChannel: () => provider.channel,\n    on: (type, handler) => (provider.channel?.on(type, handler), () => provider.channel?.off(type, handler)),\n    off: (type, handler) => provider.channel?.off(type, handler),\n    once: (type, handler) => provider.channel?.once(type, handler),\n    emit: (type, data, ...args) => {\n      data?.options?.target && data.options.target !== \"storybook-preview-iframe\" && !data.options.target.startsWith(\"storybook-ref-\") && (data.options.target = data.options.target !== \"storybook_internal\" ? `storybook-ref-${data.options.target}` : \"storybook-preview-iframe\"), provider.channel?.emit(type, data, ...args);\n    }\n  },\n  state: {}\n});\n\n// src/manager-api/modules/globals.ts\nvar globals_exports = {};\n__export(globals_exports, {\n  init: () => init4\n});\nimport { logger as logger4 } from \"storybook/internal/client-logger\";\nimport { GLOBALS_UPDATED, SET_GLOBALS, UPDATE_GLOBALS } from \"storybook/internal/core-events\";\n\n// src/manager-api/lib/events.ts\nimport { logger as logger3 } from \"storybook/internal/client-logger\";\n\n// src/manager-api/modules/refs.ts\nvar refs_exports = {};\n__export(refs_exports, {\n  defaultStoryMapper: () => defaultStoryMapper,\n  getSourceType: () => getSourceType,\n  init: () => init3\n});\nimport { global as global2 } from \"@storybook/global\";\n\n// src/manager-api/lib/stories.ts\nimport { sanitize } from \"storybook/internal/csf\";\nvar import_memoizerific = __toESM(require_memoizerific(), 1);\n\n// src/manager-api/lib/intersect.ts\nvar intersect_default = (a, b) => !Array.isArray(a) || !Array.isArray(b) || !a.length || !b.length ? [] : a.reduce((acc, aValue) => (b.includes(aValue) && acc.push(aValue), acc), []);\n\n// src/manager-api/lib/stories.ts\nvar TITLE_PATH_SEPARATOR = /\\s*\\/\\s*/,\n  denormalizeStoryParameters = ({\n    globalParameters,\n    kindParameters,\n    stories\n  }) => mapValues(stories, storyData => ({\n    ...storyData,\n    parameters: combineParameters(globalParameters, kindParameters[storyData.kind], storyData.parameters)\n  })),\n  transformSetStoriesStoryDataToPreparedStoryIndex = stories => ({\n    v: 5,\n    entries: Object.entries(stories).reduce((acc, [id, story]) => {\n      if (!story) return acc;\n      let {\n          docsOnly,\n          fileName,\n          ...parameters\n        } = story.parameters,\n        base = {\n          title: story.kind,\n          id,\n          name: story.name,\n          importPath: fileName\n        };\n      if (docsOnly) acc[id] = {\n        type: \"docs\",\n        tags: [\"stories-mdx\"],\n        storiesImports: [],\n        ...base\n      };else {\n        let {\n          argTypes,\n          args,\n          initialArgs\n        } = story;\n        acc[id] = {\n          type: \"story\",\n          subtype: \"story\",\n          ...base,\n          parameters,\n          argTypes,\n          args,\n          initialArgs\n        };\n      }\n      return acc;\n    }, {})\n  }),\n  transformStoryIndexV2toV3 = index => ({\n    v: 3,\n    stories: Object.values(index.stories).reduce((acc, entry) => (acc[entry.id] = {\n      ...entry,\n      title: entry.kind,\n      name: entry.name || entry.story,\n      importPath: entry.parameters.fileName || \"\"\n    }, acc), {})\n  }),\n  transformStoryIndexV3toV4 = index => {\n    let countByTitle = countBy(Object.values(index.stories), item => item.title);\n    return {\n      v: 4,\n      entries: Object.values(index.stories).reduce((acc, entry) => {\n        let type = \"story\";\n        return (entry.parameters?.docsOnly || entry.name === \"Page\" && countByTitle[entry.title] === 1) && (type = \"docs\"), acc[entry.id] = {\n          type,\n          ...(type === \"docs\" && {\n            tags: [\"stories-mdx\"],\n            storiesImports: []\n          }),\n          ...entry\n        }, delete acc[entry.id].story, delete acc[entry.id].kind, acc;\n      }, {})\n    };\n  },\n  transformStoryIndexV4toV5 = index => ({\n    v: 5,\n    entries: Object.values(index.entries).reduce((acc, entry) => (acc[entry.id] = {\n      ...entry,\n      tags: entry.tags ? [\"dev\", \"test\", ...entry.tags] : [\"dev\"]\n    }, acc), {})\n  }),\n  transformStoryIndexToStoriesHash = (input, {\n    provider,\n    docsOptions,\n    filters,\n    allStatuses\n  }) => {\n    if (!input.v) throw new Error(\"Composition: Missing stories.json version\");\n    let index = input;\n    index = index.v === 2 ? transformStoryIndexV2toV3(index) : index, index = index.v === 3 ? transformStoryIndexV3toV4(index) : index, index = index.v === 4 ? transformStoryIndexV4toV5(index) : index, index = index;\n    let indexEntries = Object.values(index.entries),\n      filterFunctions = Object.values(filters),\n      entryValues = indexEntries.filter(entry => {\n        let statuses = allStatuses[entry.id] ?? {};\n        return Object.values(statuses).some(({\n          value\n        }) => value === \"status-value:error\") || filterFunctions.every(fn => fn({\n          ...entry,\n          statuses\n        })) ? !0 : indexEntries.filter(item => \"parent\" in item && item.parent === entry.id).some(child => filterFunctions.every(fn => fn({\n          ...child,\n          statuses\n        })));\n      }),\n      {\n        sidebar = {}\n      } = provider.getConfig(),\n      {\n        showRoots,\n        collapsedRoots = [],\n        renderLabel\n      } = sidebar,\n      setShowRoots = typeof showRoots < \"u\",\n      storiesHashOutOfOrder = entryValues.reduce((acc, item) => {\n        if (docsOptions.docsMode && item.type !== \"docs\") return acc;\n        let {\n            title\n          } = item,\n          groups = title.trim().split(TITLE_PATH_SEPARATOR),\n          root = (!setShowRoots || showRoots) && groups.length > 1 ? [groups.shift()] : [],\n          names = [...root, ...groups],\n          paths = names.reduce((list, name, idx) => {\n            let parent = idx > 0 && list[idx - 1],\n              id = sanitize(parent ? `${parent}-${name}` : name);\n            if (name.trim() === \"\") throw new Error(dedent`Invalid title ${title} ending in slash.`);\n            if (parent === id) throw new Error(dedent`\n          Invalid part '${name}', leading to id === parentId ('${id}'), inside title '${title}'\n\n          Did you create a path that uses the separator char accidentally, such as 'Vue <docs/>' where '/' is a separator char? See https://github.com/storybookjs/storybook/issues/6128\n          `);\n            return list.push(id), list;\n          }, []);\n        return paths.forEach((id, idx) => {\n          let childId = paths[idx + 1] || item.id;\n          root.length && idx === 0 ? acc[id] = merge_default(acc[id] || {}, {\n            type: \"root\",\n            id,\n            name: names[idx],\n            tags: [],\n            depth: idx,\n            renderLabel,\n            startCollapsed: collapsedRoots.includes(id),\n            // Note that this will later get appended to the previous list of children (see below)\n            children: [childId]\n          }) : (!acc[id] || acc[id].type === \"component\") && idx === paths.length - 1 ? acc[id] = merge_default(acc[id] || {}, {\n            type: \"component\",\n            id,\n            name: names[idx],\n            tags: [],\n            parent: paths[idx - 1],\n            depth: idx,\n            renderLabel,\n            ...(childId && {\n              children: [childId]\n            })\n          }) : acc[id] = merge_default(acc[id] || {}, {\n            type: \"group\",\n            id,\n            name: names[idx],\n            tags: [],\n            parent: paths[idx - 1],\n            depth: idx,\n            renderLabel,\n            ...(childId && {\n              children: [childId]\n            })\n          });\n        }), acc[item.id] = {\n          tags: [],\n          ...item,\n          depth: paths.length,\n          parent: \"parent\" in item ? item.parent : paths[paths.length - 1],\n          renderLabel,\n          prepared: !!item.parameters\n        }, acc;\n      }, {});\n    function addItem(acc, item) {\n      if (acc[item.id] || (acc[item.id] = item, \"children\" in item && item.children && (item.children.forEach(childId => addItem(acc, storiesHashOutOfOrder[childId])), item.tags = item.children.reduce((currentTags, childId) => currentTags === null ? acc[childId].tags : intersect_default(currentTags, acc[childId].tags), null) || [])), item.type === \"component\") {\n        let firstChild = acc[item.children[0]];\n        firstChild && \"importPath\" in firstChild && (item.importPath = firstChild.importPath);\n      }\n      return acc;\n    }\n    let storiesHash = Object.values(storiesHashOutOfOrder).filter(i => i.type !== \"root\" && !i.parent).reduce((acc, item) => addItem(acc, item), {});\n    return storiesHash = Object.values(storiesHashOutOfOrder).filter(i => i.type === \"root\").reduce(addItem, storiesHash), storiesHash = Object.values(storiesHash).reduce((acc, item) => {\n      if (item.type === \"story\" && item.subtype === \"test\") {\n        let story = acc[item.parent],\n          component = acc[story.parent];\n        acc[component.id] = {\n          ...component,\n          // Remove test from the component node as it will be attached to the story node instead\n          children: component.children && component.children.filter(id => id !== item.id)\n        }, acc[story.id] = {\n          ...story,\n          // Add test to the story node\n          children: (story.children || []).concat(item.id)\n        }, acc[item.id] = {\n          ...item,\n          depth: item.depth + 1\n        };\n      } else acc[item.id] = item;\n      return acc;\n    }, {}), storiesHash;\n  },\n  addPreparedStories = (newHash, oldHash) => oldHash ? Object.fromEntries(Object.entries(newHash).map(([id, newEntry]) => {\n    let oldEntry = oldHash[id];\n    return newEntry.type === \"story\" && oldEntry?.type === \"story\" && oldEntry.prepared ? (\"children\" in oldEntry && delete oldEntry.children, [id, {\n      ...oldEntry,\n      ...newEntry,\n      prepared: !0\n    }]) : [id, newEntry];\n  })) : newHash,\n  getComponentLookupList = (0, import_memoizerific.default)(1)(hash => Object.entries(hash).reduce((acc, i) => {\n    let value = i[1];\n    return value.type === \"component\" && acc.push([...value.children]), acc;\n  }, [])),\n  getStoriesLookupList = (0, import_memoizerific.default)(1)(hash => Object.keys(hash).filter(k => [\"story\", \"docs\"].includes(hash[k].type)));\n\n// src/manager-api/modules/refs.ts\nvar {\n    location,\n    fetch\n  } = global2,\n  getSourceType = (source, refId) => {\n    let {\n        origin: localOrigin,\n        pathname: localPathname\n      } = location,\n      {\n        origin: sourceOrigin,\n        pathname: sourcePathname\n      } = new URL(source),\n      localFull = `${localOrigin + localPathname}`.replace(\"/iframe.html\", \"\").replace(/\\/$/, \"\"),\n      sourceFull = `${sourceOrigin + sourcePathname}`.replace(\"/iframe.html\", \"\").replace(/\\/$/, \"\");\n    return localFull === sourceFull ? [\"local\", sourceFull] : refId || source ? [\"external\", sourceFull] : [null, null];\n  },\n  defaultStoryMapper = (b, a) => ({\n    ...a,\n    kind: a.kind.replace(\"|\", \"/\")\n  }),\n  addRefIds = (input, ref) => Object.entries(input).reduce((acc, [id, item]) => ({\n    ...acc,\n    [id]: {\n      ...item,\n      refId: ref.id\n    }\n  }), {});\nfunction handleRequest(_x) {\n  return _handleRequest.apply(this, arguments);\n}\nfunction _handleRequest() {\n  _handleRequest = _asyncToGenerator(function* (request) {\n    if (!request) return {};\n    try {\n      let response = yield request;\n      if (response === !1 || response === !0) throw new Error(\"Unexpected boolean response\");\n      if (!response.ok) throw new Error(`Unexpected response not OK: ${response.statusText}`);\n      let json = yield response.json();\n      return json.entries || json.stories ? {\n        storyIndex: json\n      } : json;\n    } catch (err) {\n      return {\n        indexError: err\n      };\n    }\n  });\n  return _handleRequest.apply(this, arguments);\n}\nvar parseUrl = url => {\n    let credentialsRegex = /https?:\\/\\/(.+:.+)@/,\n      cleanUrl = url,\n      authorization,\n      [, credentials] = url.match(credentialsRegex) || [];\n    return credentials && (cleanUrl = url.replace(`${credentials}@`, \"\"), authorization = btoa(`${credentials}`)), {\n      url: cleanUrl,\n      authorization\n    };\n  },\n  map = (input, ref, options) => {\n    let {\n      storyMapper\n    } = options;\n    return storyMapper ? Object.entries(input).reduce((acc, [id, item]) => ({\n      ...acc,\n      [id]: storyMapper(ref, item)\n    }), {}) : input;\n  },\n  init3 = ({\n    store: store2,\n    provider,\n    singleStory,\n    docsOptions = {}\n  }, {\n    runCheck = !0\n  } = {}) => {\n    let api = {\n        findRef: source => {\n          let refs2 = api.getRefs();\n          return Object.values(refs2).find(({\n            url\n          }) => url.match(source));\n        },\n        changeRefVersion: function () {\n          var _ref = _asyncToGenerator(function* (id, url) {\n            let {\n                versions,\n                title\n              } = api.getRefs()[id],\n              ref = {\n                id,\n                url,\n                versions,\n                title,\n                index: {},\n                filteredIndex: {},\n                expanded: !0\n              };\n            yield api.setRef(id, {\n              ...ref,\n              type: \"unknown\"\n            }, !1), yield api.checkRef(ref);\n          });\n          return function changeRefVersion(_x2, _x3) {\n            return _ref.apply(this, arguments);\n          };\n        }(),\n        changeRefState: (id, previewInitialized) => {\n          let {\n            [id]: ref,\n            ...updated\n          } = api.getRefs();\n          updated[id] = {\n            ...ref,\n            previewInitialized\n          }, store2.setState({\n            refs: updated\n          });\n        },\n        checkRef: function () {\n          var _ref2 = _asyncToGenerator(function* (ref) {\n            let {\n                id,\n                url,\n                version: version2,\n                type\n              } = ref,\n              isPublic = type === \"server-checked\",\n              loadedData = {},\n              query = version2 ? `?version=${version2}` : \"\",\n              credentials = isPublic ? \"omit\" : \"include\",\n              urlParseResult = parseUrl(url),\n              headers = {\n                Accept: \"application/json\"\n              };\n            urlParseResult.authorization && Object.assign(headers, {\n              Authorization: `Basic ${urlParseResult.authorization}`\n            });\n            let [indexResult, storiesResult] = yield Promise.all([\"index.json\", \"stories.json\"].map(/*#__PURE__*/function () {\n              var _ref3 = _asyncToGenerator(function* (file) {\n                return handleRequest(fetch(`${urlParseResult.url}/${file}${query}`, {\n                  headers,\n                  credentials\n                }));\n              });\n              return function (_x5) {\n                return _ref3.apply(this, arguments);\n              };\n            }()));\n            if (!indexResult.indexError || !storiesResult.indexError) {\n              let metadata = yield handleRequest(fetch(`${urlParseResult.url}/metadata.json${query}`, {\n                headers,\n                credentials,\n                cache: \"no-cache\"\n              }).catch(() => !1));\n              Object.assign(loadedData, {\n                ...(indexResult.indexError ? storiesResult : indexResult),\n                ...(!metadata.indexError && metadata)\n              });\n            } else isPublic || (loadedData.indexError = {\n              message: dedent`\n            Error: Loading of ref failed\n              at fetch (lib/api/src/modules/refs.ts)\n\n            URL: ${urlParseResult.url}\n\n            We weren't able to load the above URL,\n            it's possible a CORS error happened.\n\n            Please check your dev-tools network tab.\n          `\n            });\n            let versions = ref.versions && Object.keys(ref.versions).length ? ref.versions : loadedData.versions;\n            yield api.setRef(id, {\n              id,\n              url: urlParseResult.url,\n              ...loadedData,\n              ...(versions ? {\n                versions\n              } : {}),\n              type: loadedData.storyIndex ? \"lazy\" : \"auto-inject\"\n            });\n          });\n          return function checkRef(_x4) {\n            return _ref2.apply(this, arguments);\n          };\n        }(),\n        getRefs: () => {\n          let {\n            refs: refs2 = {}\n          } = store2.getState();\n          return refs2;\n        },\n        setRef: function () {\n          var _ref4 = _asyncToGenerator(function* (id, {\n            storyIndex,\n            setStoriesData,\n            ...rest\n          }, ready = !1) {\n            if (singleStory) return;\n            let internal_index,\n              index,\n              filteredIndex,\n              {\n                filters\n              } = store2.getState(),\n              {\n                storyMapper = defaultStoryMapper\n              } = provider.getConfig(),\n              ref = api.getRefs()[id];\n            (storyIndex || setStoriesData) && (internal_index = setStoriesData ? transformSetStoriesStoryDataToPreparedStoryIndex(map(setStoriesData, ref, {\n              storyMapper\n            })) : storyIndex, filteredIndex = transformStoryIndexToStoriesHash(storyIndex, {\n              provider,\n              docsOptions,\n              filters,\n              allStatuses: {}\n            }), index = transformStoryIndexToStoriesHash(storyIndex, {\n              provider,\n              docsOptions,\n              filters: {},\n              allStatuses: {}\n            })), index && (index = addRefIds(index, ref)), filteredIndex && (filteredIndex = addRefIds(filteredIndex, ref)), yield api.updateRef(id, {\n              ...ref,\n              ...rest,\n              index,\n              filteredIndex,\n              internal_index\n            });\n          });\n          return function setRef(_x6, _x7) {\n            return _ref4.apply(this, arguments);\n          };\n        }(),\n        updateRef: function () {\n          var _ref5 = _asyncToGenerator(function* (id, data) {\n            let {\n              [id]: ref,\n              ...updated\n            } = api.getRefs();\n            updated[id] = {\n              ...ref,\n              ...data\n            };\n            let ordered = Object.keys(initialState2).reduce((obj, key) => (obj[key] = updated[key], obj), {});\n            yield store2.setState({\n              refs: ordered\n            });\n          });\n          return function updateRef(_x8, _x9) {\n            return _ref5.apply(this, arguments);\n          };\n        }()\n      },\n      refs = !singleStory && global2.REFS || {},\n      initialState2 = refs;\n    return runCheck && new Promise(/*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator(function* (resolve) {\n        for (let ref of Object.values(refs)) yield api.checkRef({\n          ...ref,\n          stories: {}\n        });\n        resolve(void 0);\n      });\n      return function (_x0) {\n        return _ref6.apply(this, arguments);\n      };\n    }()), {\n      api,\n      state: {\n        refs: initialState2\n      }\n    };\n  };\n\n// src/manager-api/lib/events.ts\nvar getEventMetadata = (context, fullAPI) => {\n  let {\n      source,\n      refId,\n      type\n    } = context,\n    [sourceType, sourceLocation] = getSourceType(source, refId),\n    ref;\n  (refId || sourceType === \"external\") && (ref = refId && fullAPI.getRefs()[refId] ? fullAPI.getRefs()[refId] : fullAPI.findRef(sourceLocation));\n  let meta = {\n    source,\n    sourceType,\n    sourceLocation,\n    refId,\n    ref,\n    type\n  };\n  switch (!0) {\n    case typeof refId == \"string\":\n    case sourceType === \"local\":\n    case sourceType === \"external\":\n      return meta;\n    // if we couldn't find the source, something risky happened, we ignore the input, and log a warning\n    default:\n      return logger3.warn(`Received a ${type} frame that was not configured as a ref`), null;\n  }\n};\n\n// src/manager-api/modules/globals.ts\nvar init4 = ({\n  store: store2,\n  fullAPI,\n  provider\n}) => {\n  let api = {\n      getGlobals() {\n        return store2.getState().globals;\n      },\n      getUserGlobals() {\n        return store2.getState().userGlobals;\n      },\n      getStoryGlobals() {\n        return store2.getState().storyGlobals;\n      },\n      getGlobalTypes() {\n        return store2.getState().globalTypes;\n      },\n      updateGlobals(newGlobals) {\n        provider.channel?.emit(UPDATE_GLOBALS, {\n          globals: newGlobals,\n          options: {\n            target: \"storybook-preview-iframe\"\n          }\n        });\n      }\n    },\n    state = {\n      globals: {},\n      userGlobals: {},\n      storyGlobals: {},\n      globalTypes: {}\n    },\n    updateGlobals = ({\n      globals,\n      storyGlobals,\n      userGlobals\n    }) => {\n      let {\n        globals: currentGlobals,\n        userGlobals: currentUserGlobals,\n        storyGlobals: currentStoryGlobals\n      } = store2.getState();\n      dequal(globals, currentGlobals) || store2.setState({\n        globals\n      }), dequal(userGlobals, currentUserGlobals) || store2.setState({\n        userGlobals\n      }), dequal(storyGlobals, currentStoryGlobals) || store2.setState({\n        storyGlobals\n      });\n    };\n  return provider.channel?.on(GLOBALS_UPDATED, function ({\n    globals,\n    storyGlobals,\n    userGlobals\n  }) {\n    let {\n      ref\n    } = getEventMetadata(this, fullAPI);\n    ref ? logger4.warn(\"received a GLOBALS_UPDATED from a non-local ref. This is not currently supported.\") : updateGlobals({\n      globals,\n      storyGlobals,\n      userGlobals\n    });\n  }), provider.channel?.on(SET_GLOBALS, function ({\n    globals,\n    globalTypes\n  }) {\n    let {\n        ref\n      } = getEventMetadata(this, fullAPI),\n      currentGlobals = store2.getState()?.globals;\n    ref ? Object.keys(globals).length > 0 && logger4.warn(\"received globals from a non-local ref. This is not currently supported.\") : store2.setState({\n      globals,\n      userGlobals: globals,\n      globalTypes\n    }), currentGlobals && Object.keys(currentGlobals).length !== 0 && !dequal(globals, currentGlobals) && api.updateGlobals(currentGlobals);\n  }), {\n    api,\n    state\n  };\n};\n\n// src/manager-api/modules/layout.ts\nvar layout_exports = {};\n__export(layout_exports, {\n  ActiveTabs: () => ActiveTabs,\n  defaultLayoutState: () => defaultLayoutState,\n  focusableUIElements: () => focusableUIElements,\n  init: () => init5\n});\nimport { SET_CONFIG as SET_CONFIG2 } from \"storybook/internal/core-events\";\nimport { global as global3 } from \"@storybook/global\";\nimport { create } from \"storybook/theming/create\";\nvar {\n    document: document2\n  } = global3,\n  isFunction = val => typeof val == \"function\",\n  ActiveTabs = {\n    SIDEBAR: \"sidebar\",\n    CANVAS: \"canvas\",\n    ADDONS: \"addons\"\n  },\n  defaultLayoutState = {\n    ui: {\n      enableShortcuts: !0\n    },\n    layout: {\n      initialActive: ActiveTabs.CANVAS,\n      showToolbar: !0,\n      navSize: 300,\n      bottomPanelHeight: 300,\n      rightPanelWidth: 400,\n      recentVisibleSizes: {\n        navSize: 300,\n        bottomPanelHeight: 300,\n        rightPanelWidth: 400\n      },\n      panelPosition: \"bottom\",\n      showTabs: !0\n    },\n    layoutCustomisations: {\n      showSidebar: void 0,\n      showToolbar: void 0\n    },\n    selectedPanel: void 0,\n    theme: create()\n  },\n  focusableUIElements = {\n    storySearchField: \"storybook-explorer-searchfield\",\n    storyListMenu: \"storybook-explorer-menu\",\n    storyPanelRoot: \"storybook-panel-root\"\n  },\n  getIsNavShown = state => state.layout.navSize > 0,\n  getIsPanelShown = state => {\n    let {\n      bottomPanelHeight,\n      rightPanelWidth,\n      panelPosition\n    } = state.layout;\n    return panelPosition === \"bottom\" && bottomPanelHeight > 0 || panelPosition === \"right\" && rightPanelWidth > 0;\n  },\n  getIsFullscreen = state => !getIsNavShown(state) && !getIsPanelShown(state),\n  getRecentVisibleSizes = layoutState => ({\n    navSize: layoutState.navSize > 0 ? layoutState.navSize : layoutState.recentVisibleSizes.navSize,\n    bottomPanelHeight: layoutState.bottomPanelHeight > 0 ? layoutState.bottomPanelHeight : layoutState.recentVisibleSizes.bottomPanelHeight,\n    rightPanelWidth: layoutState.rightPanelWidth > 0 ? layoutState.rightPanelWidth : layoutState.recentVisibleSizes.rightPanelWidth\n  }),\n  init5 = ({\n    store: store2,\n    provider,\n    singleStory\n  }) => {\n    let api = {\n        toggleFullscreen(nextState) {\n          return store2.setState(state => {\n            let isFullscreen = getIsFullscreen(state),\n              shouldFullscreen = typeof nextState == \"boolean\" ? nextState : !isFullscreen;\n            return shouldFullscreen === isFullscreen ? {\n              layout: state.layout\n            } : shouldFullscreen ? {\n              layout: {\n                ...state.layout,\n                navSize: 0,\n                bottomPanelHeight: 0,\n                rightPanelWidth: 0,\n                recentVisibleSizes: getRecentVisibleSizes(state.layout)\n              }\n            } : {\n              layout: {\n                ...state.layout,\n                navSize: state.singleStory ? 0 : state.layout.recentVisibleSizes.navSize,\n                bottomPanelHeight: state.layout.recentVisibleSizes.bottomPanelHeight,\n                rightPanelWidth: state.layout.recentVisibleSizes.rightPanelWidth\n              }\n            };\n          }, {\n            persistence: \"session\"\n          });\n        },\n        togglePanel(nextState) {\n          return store2.setState(state => {\n            let isPanelShown = getIsPanelShown(state),\n              shouldShowPanel = typeof nextState == \"boolean\" ? nextState : !isPanelShown;\n            return shouldShowPanel === isPanelShown ? {\n              layout: state.layout\n            } : shouldShowPanel ? {\n              layout: {\n                ...state.layout,\n                bottomPanelHeight: state.layout.recentVisibleSizes.bottomPanelHeight,\n                rightPanelWidth: state.layout.recentVisibleSizes.rightPanelWidth\n              }\n            } : {\n              layout: {\n                ...state.layout,\n                bottomPanelHeight: 0,\n                rightPanelWidth: 0,\n                recentVisibleSizes: getRecentVisibleSizes(state.layout)\n              }\n            };\n          }, {\n            persistence: \"session\"\n          });\n        },\n        togglePanelPosition(position) {\n          return store2.setState(state => {\n            let nextPosition = position || (state.layout.panelPosition === \"right\" ? \"bottom\" : \"right\");\n            return {\n              layout: {\n                ...state.layout,\n                panelPosition: nextPosition,\n                bottomPanelHeight: state.layout.recentVisibleSizes.bottomPanelHeight,\n                rightPanelWidth: state.layout.recentVisibleSizes.rightPanelWidth\n              }\n            };\n          }, {\n            persistence: \"permanent\"\n          });\n        },\n        toggleNav(nextState) {\n          return store2.setState(state => {\n            if (state.singleStory) return {\n              layout: state.layout\n            };\n            let isNavShown = getIsNavShown(state),\n              shouldShowNav = typeof nextState == \"boolean\" ? nextState : !isNavShown;\n            return shouldShowNav === isNavShown ? {\n              layout: state.layout\n            } : shouldShowNav ? {\n              layout: {\n                ...state.layout,\n                navSize: state.layout.recentVisibleSizes.navSize\n              }\n            } : {\n              layout: {\n                ...state.layout,\n                navSize: 0,\n                recentVisibleSizes: getRecentVisibleSizes(state.layout)\n              }\n            };\n          }, {\n            persistence: \"session\"\n          });\n        },\n        toggleToolbar(toggled) {\n          return store2.setState(state => {\n            let value = typeof toggled < \"u\" ? toggled : !state.layout.showToolbar;\n            return {\n              layout: {\n                ...state.layout,\n                showToolbar: value\n              }\n            };\n          }, {\n            persistence: \"session\"\n          });\n        },\n        setSizes({\n          navSize,\n          bottomPanelHeight,\n          rightPanelWidth\n        }) {\n          return store2.setState(state => {\n            let nextLayoutState = {\n              ...state.layout,\n              navSize: navSize ?? state.layout.navSize,\n              bottomPanelHeight: bottomPanelHeight ?? state.layout.bottomPanelHeight,\n              rightPanelWidth: rightPanelWidth ?? state.layout.rightPanelWidth\n            };\n            return {\n              layout: {\n                ...nextLayoutState,\n                recentVisibleSizes: getRecentVisibleSizes(nextLayoutState)\n              }\n            };\n          }, {\n            persistence: \"session\"\n          });\n        },\n        /**\n         * Attempts to focus (and select) an element identified by its ID. It is the responsibility of\n         * the callee to ensure that the element is present in the DOM and that no focus trap is\n         * available. This API polls and attempts to perform the focus for a set duration (max 500ms),\n         * so that race conditions can be avoided with the current API design. Because this API is\n         * historically synchronous, it cannot report errors or failure to focus. It fails silently.\n         *\n         * @param elementId The id of the element to focus.\n         * @param select Whether to call select() on the element after focusing it.\n         */\n        focusOnUIElement(elementId, select) {\n          if (!elementId) return;\n          let startTime = Date.now(),\n            maxDuration = 500,\n            pollInterval = 50,\n            attemptFocus = () => {\n              let element = document2.getElementById(elementId);\n              return !element || (element.focus(), element !== document2.activeElement) ? !1 : (select && element.select?.(), !0);\n            };\n          if (attemptFocus()) return;\n          let intervalId = setInterval(() => {\n            if (Date.now() - startTime >= maxDuration) {\n              clearInterval(intervalId);\n              return;\n            }\n            attemptFocus() && clearInterval(intervalId);\n          }, pollInterval);\n        },\n        getInitialOptions() {\n          let {\n            theme,\n            selectedPanel,\n            layoutCustomisations,\n            ...options\n          } = provider.getConfig();\n          return {\n            ...defaultLayoutState,\n            layout: {\n              ...toMerged(defaultLayoutState.layout, pick(options, Object.keys(defaultLayoutState.layout))),\n              ...(singleStory && {\n                navSize: 0\n              })\n            },\n            layoutCustomisations: {\n              ...defaultLayoutState.layoutCustomisations,\n              ...(layoutCustomisations ?? {})\n            },\n            ui: toMerged(defaultLayoutState.ui, pick(options, Object.keys(defaultLayoutState.ui))),\n            selectedPanel: selectedPanel || defaultLayoutState.selectedPanel,\n            theme: theme || defaultLayoutState.theme\n          };\n        },\n        getIsFullscreen() {\n          return getIsFullscreen(store2.getState());\n        },\n        getIsPanelShown() {\n          return getIsPanelShown(store2.getState());\n        },\n        getIsNavShown() {\n          return getIsNavShown(store2.getState());\n        },\n        getShowToolbarWithCustomisations(showToolbar) {\n          let state = store2.getState();\n          return isFunction(state.layoutCustomisations.showToolbar) ? state.layoutCustomisations.showToolbar(state, showToolbar) ?? showToolbar : showToolbar;\n        },\n        getShowPanelWithCustomisations(showPanel) {\n          let state = store2.getState();\n          return isFunction(state.layoutCustomisations.showPanel) ? state.layoutCustomisations.showPanel(state, showPanel) ?? showPanel : showPanel;\n        },\n        getNavSizeWithCustomisations(navSize) {\n          let state = store2.getState();\n          if (isFunction(state.layoutCustomisations.showSidebar)) {\n            let shouldShowNav = state.layoutCustomisations.showSidebar(state, navSize !== 0);\n            if (navSize === 0 && shouldShowNav === !0) return state.layout.recentVisibleSizes.navSize;\n            if (navSize !== 0 && shouldShowNav === !1) return 0;\n          }\n          return navSize;\n        },\n        setOptions: options => {\n          let {\n            layout,\n            ui,\n            selectedPanel,\n            theme\n          } = store2.getState();\n          if (!options) return;\n          let updatedLayout = {\n              ...layout,\n              ...(options.layout || {}),\n              ...pick(options, Object.keys(layout)),\n              ...(singleStory && {\n                navSize: 0\n              })\n            },\n            updatedUi = {\n              ...ui,\n              ...options.ui,\n              ...toMerged(options.ui || {}, pick(options, Object.keys(ui)))\n            },\n            updatedTheme = {\n              ...theme,\n              ...options.theme\n            },\n            modification = {};\n          isEqual(ui, updatedUi) || (modification.ui = updatedUi), isEqual(layout, updatedLayout) || (modification.layout = updatedLayout), options.selectedPanel && !isEqual(selectedPanel, options.selectedPanel) && (modification.selectedPanel = options.selectedPanel), Object.keys(modification).length && store2.setState(modification, {\n            persistence: \"permanent\"\n          }), isEqual(theme, updatedTheme) || store2.setState({\n            theme: updatedTheme\n          });\n        }\n      },\n      persisted = pick(store2.getState(), [\"layout\", \"selectedPanel\"]);\n    return provider.channel?.on(SET_CONFIG2, () => {\n      api.setOptions(merge_default(api.getInitialOptions(), persisted));\n    }), {\n      api,\n      state: merge_default(api.getInitialOptions(), persisted)\n    };\n  };\n\n// src/manager-api/modules/notifications.ts\nvar notifications_exports = {};\n__export(notifications_exports, {\n  init: () => init6\n});\nvar init6 = ({\n  store: store2\n}) => ({\n  api: {\n    addNotification: newNotification => {\n      store2.setState(({\n        notifications\n      }) => {\n        let [existing, others] = partition(notifications, n => n.id === newNotification.id);\n        return existing.forEach(notification => {\n          notification.onClear && notification.onClear({\n            dismissed: !1,\n            timeout: !1\n          });\n        }), {\n          notifications: [...others, newNotification]\n        };\n      });\n    },\n    clearNotification: notificationId => {\n      store2.setState(({\n        notifications\n      }) => {\n        let [matching, others] = partition(notifications, n => n.id === notificationId);\n        return matching.forEach(notification => {\n          notification.onClear && notification.onClear({\n            dismissed: !1,\n            timeout: !1\n          });\n        }), {\n          notifications: others\n        };\n      });\n    }\n  },\n  state: {\n    notifications: []\n  }\n});\n\n// src/manager-api/modules/open-in-editor.tsx\nvar open_in_editor_exports = {};\n__export(open_in_editor_exports, {\n  init: () => init7\n});\nimport React from \"react\";\nimport { OPEN_IN_EDITOR_REQUEST, OPEN_IN_EDITOR_RESPONSE } from \"storybook/internal/core-events\";\nimport { FailedIcon } from \"@storybook/icons\";\nvar init7 = ({\n  provider,\n  fullAPI\n}) => ({\n  api: {\n    openInEditor(payload) {\n      return new Promise(resolve => {\n        let {\n            file,\n            line,\n            column\n          } = payload,\n          handler = res => {\n            res.file === file && res.line === line && res.column === column && (provider.channel?.off(OPEN_IN_EDITOR_RESPONSE, handler), resolve(res));\n          };\n        provider.channel?.on(OPEN_IN_EDITOR_RESPONSE, handler), provider.channel?.emit(OPEN_IN_EDITOR_REQUEST, payload);\n      });\n    }\n  },\n  state: {\n    notifications: []\n  },\n  init: function () {\n    var _ref7 = _asyncToGenerator(function* () {\n      let {\n        color\n      } = yield import(\"../theming/index.js\");\n      provider.channel?.on(OPEN_IN_EDITOR_RESPONSE, payload => {\n        payload.error !== null && fullAPI.addNotification({\n          id: \"open-in-editor-error\",\n          content: {\n            headline: \"Failed to open in editor\",\n            subHeadline: payload.error || \"Check the Storybook process on the command line for more details.\"\n          },\n          icon: React.createElement(FailedIcon, {\n            color: color.negative\n          }),\n          duration: 8e3\n        });\n      });\n    });\n    return function init() {\n      return _ref7.apply(this, arguments);\n    };\n  }()\n});\n\n// src/manager-api/modules/provider.ts\nvar provider_exports = {};\n__export(provider_exports, {\n  init: () => init8\n});\nvar init8 = ({\n  provider,\n  fullAPI\n}) => ({\n  api: provider.renderPreview ? {\n    renderPreview: provider.renderPreview\n  } : {},\n  state: {},\n  init: () => {\n    provider.handleAPI(fullAPI);\n  }\n});\n\n// src/manager-api/modules/settings.ts\nvar settings_exports = {};\n__export(settings_exports, {\n  init: () => init9\n});\nvar init9 = ({\n  store: store2,\n  navigate,\n  fullAPI\n}) => ({\n  state: {\n    settings: {\n      lastTrackedStoryId: null\n    }\n  },\n  api: {\n    closeSettings: () => {\n      let {\n        settings: {\n          lastTrackedStoryId\n        }\n      } = store2.getState();\n      lastTrackedStoryId ? fullAPI.selectStory(lastTrackedStoryId) : fullAPI.selectFirstStory();\n    },\n    changeSettingsTab: path => {\n      navigate(`/settings/${path}`);\n    },\n    isSettingsScreenActive: () => {\n      let {\n        path\n      } = fullAPI.getUrlState();\n      return !!(path || \"\").match(/^\\/settings/);\n    },\n    retrieveSelection() {\n      let {\n        settings\n      } = store2.getState();\n      return settings.lastTrackedStoryId;\n    },\n    storeSelection: function () {\n      var _ref8 = _asyncToGenerator(function* () {\n        let {\n          storyId,\n          settings\n        } = store2.getState();\n        yield store2.setState({\n          settings: {\n            ...settings,\n            lastTrackedStoryId: storyId\n          }\n        });\n      });\n      return function storeSelection() {\n        return _ref8.apply(this, arguments);\n      };\n    }()\n  }\n});\n\n// src/manager-api/modules/shortcuts.ts\nvar shortcuts_exports = {};\n__export(shortcuts_exports, {\n  controlOrMetaKey: () => controlOrMetaKey2,\n  defaultShortcuts: () => defaultShortcuts,\n  init: () => init10,\n  isMacLike: () => isMacLike2,\n  keys: () => keys\n});\nvar import_copy_to_clipboard = __toESM(require_copy_to_clipboard(), 1);\nimport { FORCE_REMOUNT, PREVIEW_KEYDOWN, STORIES_COLLAPSE_ALL, STORIES_EXPAND_ALL } from \"storybook/internal/core-events\";\nimport { global as global5 } from \"@storybook/global\";\n\n// src/manager-api/lib/platform.ts\nimport { global as global4 } from \"@storybook/global\";\nvar {\n    navigator: navigator2\n  } = global4,\n  isMacLike = () => navigator2 && navigator2.platform ? !!navigator2.platform.match(/(Mac|iPhone|iPod|iPad)/i) : !1;\n\n// src/manager-api/lib/shortcut.ts\nvar controlOrMetaSymbol = () => isMacLike() ? \"\\u2318\" : \"ctrl\",\n  controlOrMetaKey = () => isMacLike() ? \"meta\" : \"control\",\n  optionOrAltSymbol = () => isMacLike() ? \"\\u2325\" : \"alt\",\n  isShortcutTaken = (arr1, arr2) => JSON.stringify(arr1) === JSON.stringify(arr2),\n  eventToShortcut = e => {\n    if ([\"Meta\", \"Alt\", \"Control\", \"Shift\", \"Tab\"].includes(e.key)) return null;\n    let keys2 = [];\n    e.altKey && keys2.push(\"alt\"), e.ctrlKey && keys2.push(\"control\"), e.metaKey && keys2.push(\"meta\"), e.shiftKey && keys2.push(\"shift\");\n    let codeUpper = e.code?.toUpperCase(),\n      codeToCharMap = {\n        MINUS: \"-\",\n        EQUAL: \"=\",\n        BRACKETLEFT: \"[\",\n        BRACKETRIGHT: \"]\",\n        BACKSLASH: \"\\\\\",\n        SEMICOLON: \";\",\n        QUOTE: \"'\",\n        BACKQUOTE: \"`\",\n        COMMA: \",\",\n        PERIOD: \".\",\n        SLASH: \"/\"\n      },\n      codeChar = codeUpper ? codeUpper.startsWith(\"KEY\") && codeUpper.length === 4 ? codeUpper.replace(\"KEY\", \"\") : codeUpper.startsWith(\"DIGIT\") ? codeUpper.replace(\"DIGIT\", \"\") : codeToCharMap[codeUpper] : void 0;\n    if (e.key && e.key.length === 1 && e.key !== \" \") {\n      let key = e.key.toUpperCase(),\n        code = codeChar;\n      code && code.length === 1 && code !== key ? keys2.push([key, code]) : keys2.push(key);\n    } else e.key === \"Dead\" && codeChar && keys2.push(codeChar);\n    return e.key === \" \" && keys2.push(\"space\"), e.key === \"Escape\" && keys2.push(\"escape\"), e.key === \"ArrowRight\" && keys2.push(\"ArrowRight\"), e.key === \"ArrowDown\" && keys2.push(\"ArrowDown\"), e.key === \"ArrowUp\" && keys2.push(\"ArrowUp\"), e.key === \"ArrowLeft\" && keys2.push(\"ArrowLeft\"), keys2.length > 0 ? keys2 : null;\n  },\n  shortcutMatchesShortcut = (inputShortcut, shortcut) => !inputShortcut || !shortcut || (inputShortcut.join(\"\").startsWith(\"shift/\") && inputShortcut.shift(), inputShortcut.length !== shortcut.length) ? !1 : !inputShortcut.find((input, i) => Array.isArray(input) ? !input.includes(shortcut[i]) : input !== shortcut[i]),\n  eventMatchesShortcut = (e, shortcut) => shortcutMatchesShortcut(eventToShortcut(e), shortcut),\n  keyToSymbol = key => key === \"alt\" ? optionOrAltSymbol() : key === \"control\" ? \"\\u2303\" : key === \"meta\" ? \"\\u2318\" : key === \"shift\" ? \"\\u21E7\\u200B\" : key === \"Enter\" || key === \"Backspace\" || key === \"Esc\" || key === \"escape\" ? \"\" : key === \" \" ? \"SPACE\" : key === \"ArrowUp\" ? \"\\u2191\" : key === \"ArrowDown\" ? \"\\u2193\" : key === \"ArrowLeft\" ? \"\\u2190\" : key === \"ArrowRight\" ? \"\\u2192\" : key?.toUpperCase(),\n  shortcutToHumanString = shortcut => shortcut.map(keyToSymbol).join(\" \"),\n  shortcutToAriaKeyshortcuts = shortcut => shortcut.map(shortcut2 => shortcut2 === \"+\" ? \"plus\" : shortcut2 === \" \" ? \"space\" : shortcut2).join(\"+\");\n\n// src/manager-api/modules/shortcuts.ts\nvar {\n    navigator: navigator3,\n    document: document3\n  } = global5,\n  isMacLike2 = () => navigator3 && navigator3.platform ? !!navigator3.platform.match(/(Mac|iPhone|iPod|iPad)/i) : !1,\n  controlOrMetaKey2 = () => isMacLike2() ? \"meta\" : \"control\";\nfunction keys(o) {\n  return Object.keys(o);\n}\nvar defaultShortcuts = Object.freeze({\n    fullScreen: [\"alt\", \"F\"],\n    togglePanel: [\"alt\", \"A\"],\n    panelPosition: [\"alt\", \"D\"],\n    toggleNav: [\"alt\", \"S\"],\n    toolbar: [\"alt\", \"T\"],\n    search: [controlOrMetaKey2(), \"K\"],\n    focusNav: [\"1\"],\n    focusIframe: [\"2\"],\n    focusPanel: [\"3\"],\n    prevComponent: [\"alt\", \"ArrowUp\"],\n    nextComponent: [\"alt\", \"ArrowDown\"],\n    prevStory: [\"alt\", \"ArrowLeft\"],\n    nextStory: [\"alt\", \"ArrowRight\"],\n    shortcutsPage: [controlOrMetaKey2(), \"shift\", \",\"],\n    aboutPage: [controlOrMetaKey2(), \",\"],\n    escape: [\"escape\"],\n    // This one is not customizable\n    collapseAll: [controlOrMetaKey2(), \"shift\", \"ArrowUp\"],\n    expandAll: [controlOrMetaKey2(), \"shift\", \"ArrowDown\"],\n    remount: [\"alt\", \"R\"],\n    openInEditor: [\"alt\", \"shift\", \"E\"],\n    copyStoryLink: [\"alt\", \"shift\", \"L\"]\n    // TODO: bring this back once we want to add shortcuts for this\n    // copyStoryName: ['alt', 'shift', 'C'],\n  }),\n  addonsShortcuts = {};\nfunction shouldSkipShortcut(event) {\n  let target = event.target;\n  return !!(/input|textarea/i.test(target.tagName) || target.getAttribute(\"contenteditable\") !== null || target.closest(\"dialog[open]\"));\n}\nvar init10 = ({\n  store: store2,\n  fullAPI,\n  provider\n}) => {\n  let api = {\n      // Getting and setting shortcuts\n      getShortcutKeys() {\n        return store2.getState().shortcuts;\n      },\n      getDefaultShortcuts() {\n        return {\n          ...defaultShortcuts,\n          ...api.getAddonsShortcutDefaults()\n        };\n      },\n      getAddonsShortcuts() {\n        return addonsShortcuts;\n      },\n      getAddonsShortcutLabels() {\n        let labels = {};\n        return Object.entries(api.getAddonsShortcuts()).forEach(([actionName, {\n          label\n        }]) => {\n          labels[actionName] = label;\n        }), labels;\n      },\n      getAddonsShortcutDefaults() {\n        let defaults = {};\n        return Object.entries(api.getAddonsShortcuts()).forEach(([actionName, {\n          defaultShortcut\n        }]) => {\n          defaults[actionName] = defaultShortcut;\n        }), defaults;\n      },\n      setShortcuts(shortcuts) {\n        return _asyncToGenerator(function* () {\n          return yield store2.setState({\n            shortcuts\n          }, {\n            persistence: \"permanent\"\n          }), shortcuts;\n        })();\n      },\n      restoreAllDefaultShortcuts() {\n        return _asyncToGenerator(function* () {\n          return api.setShortcuts(api.getDefaultShortcuts());\n        })();\n      },\n      setShortcut(action, value) {\n        return _asyncToGenerator(function* () {\n          let shortcuts = api.getShortcutKeys();\n          return yield api.setShortcuts({\n            ...shortcuts,\n            [action]: value\n          }), value;\n        })();\n      },\n      setAddonShortcut(addon, shortcut) {\n        return _asyncToGenerator(function* () {\n          let shortcuts = api.getShortcutKeys();\n          return yield api.setShortcuts({\n            ...shortcuts,\n            [`${addon}-${shortcut.actionName}`]: shortcut.defaultShortcut\n          }), addonsShortcuts[`${addon}-${shortcut.actionName}`] = shortcut, shortcut;\n        })();\n      },\n      restoreDefaultShortcut(action) {\n        return _asyncToGenerator(function* () {\n          let defaultShortcut = api.getDefaultShortcuts()[action];\n          return api.setShortcut(action, defaultShortcut);\n        })();\n      },\n      // Listening to shortcut events\n      handleKeydownEvent(event) {\n        let shortcut = eventToShortcut(event),\n          shortcuts = api.getShortcutKeys(),\n          matchedFeature = keys(shortcuts).find(feature => shortcutMatchesShortcut(shortcut, shortcuts[feature]));\n        matchedFeature && api.handleShortcutFeature(matchedFeature, event);\n      },\n      // warning: event might not have a full prototype chain because it may originate from the channel\n      handleShortcutFeature(feature, event) {\n        let {\n          ui: {\n            enableShortcuts\n          },\n          storyId\n        } = store2.getState();\n        if (enableShortcuts) switch (event?.preventDefault && event.preventDefault(), feature) {\n          case \"escape\":\n            {\n              fullAPI.getIsFullscreen() ? fullAPI.toggleFullscreen(!1) : fullAPI.getIsNavShown() && fullAPI.toggleNav(!0);\n              break;\n            }\n          case \"focusNav\":\n            {\n              fullAPI.getIsFullscreen() && fullAPI.toggleFullscreen(!1), fullAPI.getIsNavShown() || fullAPI.toggleNav(!0), fullAPI.focusOnUIElement(focusableUIElements.storyListMenu);\n              break;\n            }\n          case \"search\":\n            {\n              fullAPI.getIsFullscreen() && fullAPI.toggleFullscreen(!1), fullAPI.getIsNavShown() || fullAPI.toggleNav(!0), setTimeout(() => {\n                fullAPI.focusOnUIElement(focusableUIElements.storySearchField, !0);\n              }, 0);\n              break;\n            }\n          case \"focusIframe\":\n            {\n              let element = document3.getElementById(\"storybook-preview-iframe\");\n              if (element) try {\n                element.contentWindow.focus();\n              } catch {}\n              break;\n            }\n          case \"focusPanel\":\n            {\n              fullAPI.getIsFullscreen() && fullAPI.toggleFullscreen(!1), fullAPI.getIsPanelShown() || fullAPI.togglePanel(!0), fullAPI.focusOnUIElement(focusableUIElements.storyPanelRoot);\n              break;\n            }\n          case \"nextStory\":\n            {\n              fullAPI.jumpToStory(1);\n              break;\n            }\n          case \"prevStory\":\n            {\n              fullAPI.jumpToStory(-1);\n              break;\n            }\n          case \"nextComponent\":\n            {\n              fullAPI.jumpToComponent(1);\n              break;\n            }\n          case \"prevComponent\":\n            {\n              fullAPI.jumpToComponent(-1);\n              break;\n            }\n          case \"fullScreen\":\n            {\n              fullAPI.toggleFullscreen();\n              break;\n            }\n          case \"togglePanel\":\n            {\n              fullAPI.togglePanel();\n              break;\n            }\n          case \"toggleNav\":\n            {\n              fullAPI.toggleNav();\n              break;\n            }\n          case \"toolbar\":\n            {\n              fullAPI.toggleToolbar();\n              break;\n            }\n          case \"panelPosition\":\n            {\n              fullAPI.getIsFullscreen() && fullAPI.toggleFullscreen(!1), fullAPI.getIsPanelShown() || fullAPI.togglePanel(!0), fullAPI.togglePanelPosition();\n              break;\n            }\n          case \"aboutPage\":\n            {\n              fullAPI.navigate(\"/settings/about\");\n              break;\n            }\n          case \"shortcutsPage\":\n            {\n              fullAPI.navigate(\"/settings/shortcuts\");\n              break;\n            }\n          case \"collapseAll\":\n            {\n              fullAPI.emit(STORIES_COLLAPSE_ALL);\n              break;\n            }\n          case \"expandAll\":\n            {\n              fullAPI.emit(STORIES_EXPAND_ALL);\n              break;\n            }\n          case \"remount\":\n            {\n              fullAPI.emit(FORCE_REMOUNT, {\n                storyId\n              });\n              break;\n            }\n          case \"openInEditor\":\n            {\n              global5.CONFIG_TYPE === \"DEVELOPMENT\" && fullAPI.openInEditor({\n                file: fullAPI.getCurrentStoryData().importPath\n              });\n              break;\n            }\n          // TODO: bring this back once we want to add shortcuts for this\n          // case 'copyStoryName': {\n          //   const storyData = fullAPI.getCurrentStoryData();\n          //   if (storyData.type === 'story') {\n          //     copy(storyData.exportName);\n          //   }\n          //   break;\n          // }\n          case \"copyStoryLink\":\n            {\n              (0, import_copy_to_clipboard.default)(window.location.href);\n              break;\n            }\n          default:\n            addonsShortcuts[feature].action();\n            break;\n        }\n      }\n    },\n    {\n      shortcuts: persistedShortcuts = defaultShortcuts\n    } = store2.getState(),\n    state = {\n      // Any saved shortcuts that are still in our set of defaults\n      shortcuts: keys(defaultShortcuts).reduce((acc, key) => ({\n        ...acc,\n        [key]: persistedShortcuts[key] || defaultShortcuts[key]\n      }), defaultShortcuts)\n    };\n  return {\n    api,\n    state,\n    init: () => {\n      document3.addEventListener(\"keydown\", event => {\n        shouldSkipShortcut(event) || api.handleKeydownEvent(event);\n      }), provider.channel?.on(PREVIEW_KEYDOWN, data => {\n        api.handleKeydownEvent(data.event);\n      });\n    }\n  };\n};\n\n// src/manager-api/modules/stories.ts\nvar stories_exports = {};\n__export(stories_exports, {\n  init: () => init11\n});\nimport { logger as logger5 } from \"storybook/internal/client-logger\";\nimport { CONFIG_ERROR, CURRENT_STORY_WAS_SET, DOCS_PREPARED, PRELOAD_ENTRIES, RESET_STORY_ARGS, SELECT_STORY, SET_CONFIG as SET_CONFIG3, SET_CURRENT_STORY, SET_FILTER, SET_INDEX, SET_STORIES, STORY_ARGS_UPDATED, STORY_CHANGED, STORY_INDEX_INVALIDATED, STORY_MISSING, STORY_PREPARED, STORY_SPECIFIED, UPDATE_STORY_ARGS } from \"storybook/internal/core-events\";\nimport { sanitize as sanitize2, toId } from \"storybook/internal/csf\";\nimport { global as global6 } from \"@storybook/global\";\n\n// src/server-errors.ts\nvar import_picocolors = __toESM(require_picocolors_browser(), 1);\nvar StatusTypeIdMismatchError3 = class extends StorybookError {\n  constructor(data) {\n    super({\n      name: \"StatusTypeIdMismatchError\",\n      category: \"CORE-SERVER\" /* CORE_SERVER */,\n      code: 16,\n      message: `Status has typeId \"${data.status.typeId}\" but was added to store with typeId \"${data.typeId}\". Full status: ${JSON.stringify(data.status, null, 2)}`\n    });\n    this.data = data;\n  }\n};\n\n// src/shared/status-store/index.ts\nvar UNIVERSAL_STATUS_STORE_OPTIONS = {\n    id: \"storybook/status\",\n    leader: !0,\n    initialState: {}\n  },\n  StatusStoreEventType = {\n    SELECT: \"select\"\n  };\nfunction createStatusStore({\n  universalStatusStore: universalStatusStore2,\n  useUniversalStore: useUniversalStore2,\n  environment\n}) {\n  let fullStatusStore2 = {\n      getAll() {\n        return universalStatusStore2.getState();\n      },\n      set(statuses) {\n        universalStatusStore2.setState(state => {\n          let newState = {\n            ...state\n          };\n          for (let status of statuses) {\n            let {\n              storyId,\n              typeId\n            } = status;\n            newState[storyId] = {\n              ...(newState[storyId] ?? {}),\n              [typeId]: status\n            };\n          }\n          return newState;\n        });\n      },\n      onAllStatusChange(listener) {\n        return universalStatusStore2.onStateChange((state, prevState) => {\n          listener(state, prevState);\n        });\n      },\n      onSelect(listener) {\n        return universalStatusStore2.subscribe(StatusStoreEventType.SELECT, event => {\n          listener(event.payload);\n        });\n      },\n      selectStatuses: statuses => {\n        universalStatusStore2.send({\n          type: StatusStoreEventType.SELECT,\n          payload: statuses\n        });\n      },\n      unset(storyIds) {\n        if (!storyIds) {\n          universalStatusStore2.setState({});\n          return;\n        }\n        universalStatusStore2.setState(state => {\n          let newState = {\n            ...state\n          };\n          for (let storyId of storyIds) delete newState[storyId];\n          return newState;\n        });\n      },\n      typeId: void 0\n    },\n    getStatusStoreByTypeId2 = typeId => ({\n      getAll: fullStatusStore2.getAll,\n      set(statuses) {\n        universalStatusStore2.setState(state => {\n          let newState = {\n            ...state\n          };\n          for (let status of statuses) {\n            let {\n              storyId\n            } = status;\n            if (status.typeId !== typeId) switch (environment) {\n              case \"server\":\n                throw new StatusTypeIdMismatchError3({\n                  status,\n                  typeId\n                });\n              case \"manager\":\n                throw new StatusTypeIdMismatchError({\n                  status,\n                  typeId\n                });\n              case \"preview\":\n              default:\n                throw new StatusTypeIdMismatchError2({\n                  status,\n                  typeId\n                });\n            }\n            newState[storyId] = {\n              ...(newState[storyId] ?? {}),\n              [typeId]: status\n            };\n          }\n          return newState;\n        });\n      },\n      onAllStatusChange: fullStatusStore2.onAllStatusChange,\n      onSelect(listener) {\n        return universalStatusStore2.subscribe(StatusStoreEventType.SELECT, event => {\n          event.payload.some(status => status.typeId === typeId) && listener(event.payload);\n        });\n      },\n      unset(storyIds) {\n        universalStatusStore2.setState(state => {\n          let newState = {\n            ...state\n          };\n          for (let storyId in newState) if (newState[storyId]?.[typeId] && (!storyIds || storyIds?.includes(storyId))) {\n            let {\n              [typeId]: omittedStatus,\n              ...storyStatusesWithoutTypeId\n            } = newState[storyId];\n            newState[storyId] = storyStatusesWithoutTypeId;\n          }\n          return newState;\n        });\n      },\n      typeId\n    });\n  return useUniversalStore2 ? {\n    getStatusStoreByTypeId: getStatusStoreByTypeId2,\n    fullStatusStore: fullStatusStore2,\n    universalStatusStore: universalStatusStore2,\n    useStatusStore: selector => useUniversalStore2(universalStatusStore2, selector)[0]\n  } : {\n    getStatusStoreByTypeId: getStatusStoreByTypeId2,\n    fullStatusStore: fullStatusStore2,\n    universalStatusStore: universalStatusStore2\n  };\n}\n\n// src/shared/universal-store/use-universal-store-manager.ts\nimport * as React2 from \"react\";\nvar useUniversalStore = (universalStore, selector) => {\n  let snapshotRef = React2.useRef(selector ? selector(universalStore.getState()) : universalStore.getState()),\n    subscribe = React2.useCallback(listener => universalStore.onStateChange((state2, previousState) => {\n      if (!selector) {\n        snapshotRef.current = state2, listener();\n        return;\n      }\n      let selectedState = selector(state2),\n        selectedPreviousState = selector(previousState);\n      !isEqual(selectedState, selectedPreviousState) && (snapshotRef.current = selectedState, listener());\n    }), [universalStore, selector]),\n    getSnapshot = React2.useCallback(() => {\n      let currentState = universalStore.getState(),\n        selectedState = selector ? selector(currentState) : currentState;\n      return isEqual(selectedState, snapshotRef.current) || (snapshotRef.current = selectedState), snapshotRef.current;\n    }, [universalStore, selector]);\n  return [React2.useSyncExternalStore(subscribe, getSnapshot), universalStore.setState];\n};\n\n// src/manager-api/stores/status.ts\nvar statusStore = createStatusStore({\n    universalStatusStore: UniversalStore.create({\n      ...UNIVERSAL_STATUS_STORE_OPTIONS,\n      leader: globalThis.CONFIG_TYPE === \"PRODUCTION\"\n    }),\n    useUniversalStore,\n    environment: \"manager\"\n  }),\n  {\n    fullStatusStore,\n    getStatusStoreByTypeId,\n    useStatusStore,\n    universalStatusStore\n  } = statusStore;\n\n// src/manager-api/modules/stories.ts\nvar {\n    fetch: fetch2\n  } = global6,\n  STORY_INDEX_PATH = \"./index.json\",\n  removedOptions = [\"enableShortcuts\", \"theme\", \"showRoots\"];\nfunction removeRemovedOptions(options) {\n  if (!options || typeof options == \"string\") return options;\n  let result = {\n    ...options\n  };\n  return removedOptions.forEach(option => {\n    option in result && delete result[option];\n  }), result;\n}\nvar init11 = ({\n  fullAPI,\n  store: store2,\n  navigate,\n  provider,\n  storyId: initialStoryId,\n  viewMode: initialViewMode,\n  docsOptions = {}\n}) => {\n  let api = {\n    storyId: toId,\n    getData: (storyId, refId) => {\n      let result = api.resolveStory(storyId, refId);\n      if (result?.type === \"story\" || result?.type === \"docs\") return result;\n    },\n    isPrepared: (storyId, refId) => {\n      let data = api.getData(storyId, refId);\n      return data ? data.type === \"story\" ? data.prepared : !0 : !1;\n    },\n    resolveStory: (storyId, refId) => {\n      let {\n        refs,\n        index\n      } = store2.getState();\n      if (!(refId && !refs[refId])) return refId ? refs?.[refId]?.index?.[storyId] ?? void 0 : index ? index[storyId] : void 0;\n    },\n    getCurrentStoryData: () => {\n      let {\n        storyId,\n        refId\n      } = store2.getState();\n      return api.getData(storyId, refId);\n    },\n    getIndex: () => {\n      let {\n        internal_index\n      } = store2.getState();\n      return internal_index;\n    },\n    getParameters: (storyIdOrCombo, parameterName) => {\n      let {\n          storyId,\n          refId\n        } = typeof storyIdOrCombo == \"string\" ? {\n          storyId: storyIdOrCombo,\n          refId: void 0\n        } : storyIdOrCombo,\n        data = api.getData(storyId, refId);\n      if ([\"story\", \"docs\"].includes(data?.type)) {\n        let {\n          parameters\n        } = data;\n        if (parameters) return parameterName ? parameters[parameterName] : parameters;\n      }\n      return null;\n    },\n    getCurrentParameter: parameterName => {\n      let {\n        storyId,\n        refId\n      } = store2.getState();\n      return api.getParameters({\n        storyId,\n        refId\n      }, parameterName) || void 0;\n    },\n    jumpToComponent: direction => {\n      let {\n        filteredIndex,\n        storyId,\n        refs,\n        refId\n      } = store2.getState();\n      if (!api.getData(storyId, refId)) return;\n      let hash = refId ? refs[refId].filteredIndex || {} : filteredIndex;\n      if (!hash) return;\n      let result = api.findSiblingStoryId(storyId, hash, direction, !0);\n      result && api.selectStory(result, void 0, {\n        ref: refId\n      });\n    },\n    jumpToStory: direction => {\n      let {\n          filteredIndex,\n          storyId,\n          refs,\n          refId\n        } = store2.getState(),\n        story = api.getData(storyId, refId);\n      if (!story) return;\n      let hash = story.refId ? refs[story.refId].filteredIndex : filteredIndex;\n      if (!hash) return;\n      let result = api.findSiblingStoryId(storyId, hash, direction, !1);\n      result && api.selectStory(result, void 0, {\n        ref: refId\n      });\n    },\n    selectFirstStory: () => {\n      let {\n        index\n      } = store2.getState();\n      if (!index) return;\n      let firstStory = Object.keys(index).find(id => index[id].type === \"story\");\n      if (firstStory) {\n        api.selectStory(firstStory);\n        return;\n      }\n      navigate(\"/\");\n    },\n    selectStory: (titleOrId = void 0, name = void 0, options = {}) => {\n      let {\n          ref\n        } = options,\n        {\n          storyId,\n          index,\n          filteredIndex,\n          refs,\n          settings\n        } = store2.getState(),\n        gotoStory = entry => entry?.type === \"docs\" || entry?.type === \"story\" ? (store2.setState({\n          settings: {\n            ...settings,\n            lastTrackedStoryId: entry.id\n          }\n        }), navigate(`/${entry.type}/${entry.refId ? `${entry.refId}_${entry.id}` : entry.id}`), !0) : !1,\n        kindSlug = storyId?.split(\"--\", 2)[0],\n        hash = ref ? refs[ref].index : index,\n        filteredHash = ref ? refs[ref].filteredIndex : filteredIndex;\n      if (!(!hash || !filteredHash)) if (name) {\n        if (!titleOrId) gotoStory(hash[toId(kindSlug, name)]);else {\n          let id = ref ? `${ref}_${toId(titleOrId, name)}` : toId(titleOrId, name);\n          if (hash[id]) gotoStory(hash[id]);else {\n            let entry = hash[sanitize2(titleOrId)];\n            if (entry?.type === \"component\") {\n              let foundId = entry.children.find(childId => hash[childId].name === name);\n              gotoStory(foundId ? hash[foundId] : void 0);\n            }\n          }\n        }\n      } else {\n        let entry = titleOrId ? hash[titleOrId] || hash[sanitize2(titleOrId)] : hash[kindSlug];\n        if (!entry) throw new Error(`Unknown id or title: '${titleOrId}'`);\n        gotoStory(entry) || gotoStory(api.findLeafEntry(filteredHash, entry.id));\n      }\n    },\n    findLeafEntry(index, storyId) {\n      let entry = index[storyId];\n      if (entry.type === \"docs\" || entry.type === \"story\") return entry;\n      let childStoryId = entry.children.find(childId => index[childId]) || entry.children[0];\n      return api.findLeafEntry(index, childStoryId);\n    },\n    findLeafStoryId(index, storyId) {\n      return api.findLeafEntry(index, storyId)?.id;\n    },\n    findAllLeafStoryIds(entryId) {\n      let {\n        index\n      } = store2.getState();\n      if (!index) return [];\n      let findChildEntriesRecursively = (currentEntryId, results = []) => {\n        let node = index[currentEntryId];\n        return node && (node.type === \"story\" && results.push(node.id), \"children\" in node && node.children?.forEach(childId => findChildEntriesRecursively(childId, results))), results;\n      };\n      return findChildEntriesRecursively(entryId, []);\n    },\n    findSiblingStoryId(storyId, index, direction, toSiblingGroup) {\n      if (toSiblingGroup) {\n        let lookupList2 = getComponentLookupList(index),\n          position2 = lookupList2.findIndex(i => i.includes(storyId));\n        return position2 === lookupList2.length - 1 && direction > 0 || position2 === 0 && direction < 0 ? void 0 : lookupList2[position2 + direction] ? lookupList2[position2 + direction][0] : void 0;\n      }\n      let lookupList = getStoriesLookupList(index),\n        position = lookupList.indexOf(storyId);\n      if (!(position === lookupList.length - 1 && direction > 0) && !(position === 0 && direction < 0)) return lookupList[position + direction];\n    },\n    updateStoryArgs: (story, updatedArgs) => {\n      let {\n        id: storyId,\n        refId\n      } = story;\n      provider.channel?.emit(UPDATE_STORY_ARGS, {\n        storyId,\n        updatedArgs,\n        options: {\n          target: refId\n        }\n      });\n    },\n    resetStoryArgs: (story, argNames) => {\n      let {\n        id: storyId,\n        refId\n      } = story;\n      provider.channel?.emit(RESET_STORY_ARGS, {\n        storyId,\n        argNames,\n        options: {\n          target: refId\n        }\n      });\n    },\n    fetchIndex: function () {\n      var _ref9 = _asyncToGenerator(function* () {\n        try {\n          let result = yield fetch2(STORY_INDEX_PATH);\n          if (result.status !== 200) throw new Error(yield result.text());\n          let storyIndex = yield result.json();\n          if (storyIndex.v < 3) {\n            logger5.warn(`Skipping story index with version v${storyIndex.v}, awaiting SET_STORIES.`);\n            return;\n          }\n          yield api.setIndex(storyIndex);\n        } catch (err) {\n          yield store2.setState({\n            indexError: err\n          });\n        }\n      });\n      return function fetchIndex() {\n        return _ref9.apply(this, arguments);\n      };\n    }(),\n    // The story index we receive on SET_INDEX is \"prepared\" in that it has parameters\n    // The story index we receive on fetchStoryIndex is not, but all the prepared fields are optional\n    // so we can cast one to the other easily enough\n    setIndex: function () {\n      var _ref0 = _asyncToGenerator(function* (input) {\n        let {\n            filteredIndex: oldFilteredHash,\n            index: oldHash,\n            filters\n          } = store2.getState(),\n          allStatuses = fullStatusStore.getAll(),\n          newFilteredHash = transformStoryIndexToStoriesHash(input, {\n            provider,\n            docsOptions,\n            filters,\n            allStatuses\n          }),\n          newHash = transformStoryIndexToStoriesHash(input, {\n            provider,\n            docsOptions,\n            filters: {},\n            allStatuses\n          });\n        yield store2.setState({\n          internal_index: input,\n          filteredIndex: addPreparedStories(newFilteredHash, oldFilteredHash),\n          index: addPreparedStories(newHash, oldHash),\n          indexError: void 0\n        });\n      });\n      return function setIndex(_x1) {\n        return _ref0.apply(this, arguments);\n      };\n    }(),\n    // FIXME: is there a bug where filtered stories get added back in on updateStory???\n    updateStory: function () {\n      var _ref1 = _asyncToGenerator(function* (storyId, update2, ref) {\n        if (ref) {\n          let {\n            id: refId,\n            index,\n            filteredIndex\n          } = ref;\n          index[storyId] = {\n            ...index[storyId],\n            ...update2\n          }, filteredIndex[storyId] = {\n            ...filteredIndex[storyId],\n            ...update2\n          }, yield fullAPI.updateRef(refId, {\n            index,\n            filteredIndex\n          });\n        } else {\n          let {\n            index,\n            filteredIndex\n          } = store2.getState();\n          index && (index[storyId] = {\n            ...index[storyId],\n            ...update2\n          }), filteredIndex && (filteredIndex[storyId] = {\n            ...filteredIndex[storyId],\n            ...update2\n          }), (index || filteredIndex) && (yield store2.setState({\n            index,\n            filteredIndex\n          }));\n        }\n      });\n      return function updateStory(_x10, _x11, _x12) {\n        return _ref1.apply(this, arguments);\n      };\n    }(),\n    updateDocs: function () {\n      var _ref10 = _asyncToGenerator(function* (docsId, update2, ref) {\n        if (ref) {\n          let {\n            id: refId,\n            index,\n            filteredIndex\n          } = ref;\n          index[docsId] = {\n            ...index[docsId],\n            ...update2\n          }, filteredIndex[docsId] = {\n            ...filteredIndex[docsId],\n            ...update2\n          }, yield fullAPI.updateRef(refId, {\n            index,\n            filteredIndex\n          });\n        } else {\n          let {\n            index,\n            filteredIndex\n          } = store2.getState();\n          index && (index[docsId] = {\n            ...index[docsId],\n            ...update2\n          }), filteredIndex && (filteredIndex[docsId] = {\n            ...filteredIndex[docsId],\n            ...update2\n          }), (index || filteredIndex) && (yield store2.setState({\n            index,\n            filteredIndex\n          }));\n        }\n      });\n      return function updateDocs(_x13, _x14, _x15) {\n        return _ref10.apply(this, arguments);\n      };\n    }(),\n    setPreviewInitialized: function () {\n      var _ref11 = _asyncToGenerator(function* (ref) {\n        ref ? fullAPI.updateRef(ref.id, {\n          previewInitialized: !0\n        }) : store2.setState({\n          previewInitialized: !0\n        });\n      });\n      return function setPreviewInitialized(_x16) {\n        return _ref11.apply(this, arguments);\n      };\n    }(),\n    experimental_setFilter: function () {\n      var _ref12 = _asyncToGenerator(function* (id, filterFunction) {\n        yield store2.setState({\n          filters: {\n            ...store2.getState().filters,\n            [id]: filterFunction\n          }\n        });\n        let {\n          internal_index: index\n        } = store2.getState();\n        if (!index) return;\n        yield api.setIndex(index);\n        let refs = yield fullAPI.getRefs();\n        Object.entries(refs).forEach(([refId, {\n          internal_index,\n          ...ref\n        }]) => {\n          fullAPI.setRef(refId, {\n            ...ref,\n            storyIndex: internal_index\n          }, !0);\n        }), provider.channel?.emit(SET_FILTER, {\n          id\n        });\n      });\n      return function experimental_setFilter(_x17, _x18) {\n        return _ref12.apply(this, arguments);\n      };\n    }()\n  };\n  provider.channel?.on(STORY_SPECIFIED, function ({\n    storyId,\n    viewMode\n  }) {\n    let {\n      sourceType\n    } = getEventMetadata(this, fullAPI);\n    if (sourceType === \"local\") {\n      let state = store2.getState(),\n        isCanvasRoute = state.path === \"/\" || state.viewMode === \"story\" || state.viewMode === \"docs\",\n        stateHasSelection = state.viewMode && state.storyId,\n        stateSelectionDifferent = state.viewMode !== viewMode || state.storyId !== storyId,\n        {\n          type\n        } = state.index?.[state.storyId] || {};\n      isCanvasRoute && (stateHasSelection && stateSelectionDifferent && !(type === \"root\" || type === \"component\" || type === \"group\") ? provider.channel?.emit(SET_CURRENT_STORY, {\n        storyId: state.storyId,\n        viewMode: state.viewMode\n      }) : stateSelectionDifferent && navigate(`/${viewMode}/${storyId}`));\n    }\n  }), provider.channel?.on(CURRENT_STORY_WAS_SET, function () {\n    let {\n      ref\n    } = getEventMetadata(this, fullAPI);\n    api.setPreviewInitialized(ref);\n  }), provider.channel?.on(STORY_CHANGED, function () {\n    let {\n      sourceType\n    } = getEventMetadata(this, fullAPI);\n    if (sourceType === \"local\") {\n      let options = api.getCurrentParameter(\"options\");\n      options && fullAPI.setOptions(removeRemovedOptions(options));\n    }\n  }), provider.channel?.on(STORY_PREPARED, function ({\n    id,\n    ...update2\n  }) {\n    let {\n      ref,\n      sourceType\n    } = getEventMetadata(this, fullAPI);\n    if (api.updateStory(id, {\n      ...update2,\n      prepared: !0\n    }, ref), !ref && !store2.getState().hasCalledSetOptions) {\n      let {\n        options\n      } = update2.parameters;\n      fullAPI.setOptions(removeRemovedOptions(options)), store2.setState({\n        hasCalledSetOptions: !0\n      });\n    }\n    if (sourceType === \"local\") {\n      let {\n        storyId,\n        index,\n        refId\n      } = store2.getState();\n      if (!index) return;\n      let toBePreloaded = Array.from(/* @__PURE__ */new Set([api.findSiblingStoryId(storyId, index, 1, !0), api.findSiblingStoryId(storyId, index, -1, !0)])).filter(Boolean);\n      provider.channel?.emit(PRELOAD_ENTRIES, {\n        ids: toBePreloaded,\n        options: {\n          target: refId\n        }\n      });\n    }\n  }), provider.channel?.on(DOCS_PREPARED, function ({\n    id,\n    ...update2\n  }) {\n    let {\n      ref\n    } = getEventMetadata(this, fullAPI);\n    api.updateStory(id, {\n      ...update2,\n      prepared: !0\n    }, ref);\n  }), provider.channel?.on(SET_INDEX, function (index) {\n    let {\n      ref\n    } = getEventMetadata(this, fullAPI);\n    if (ref) fullAPI.setRef(ref.id, {\n      ...ref,\n      storyIndex: index\n    }, !0);else {\n      api.setIndex(index);\n      let options = api.getCurrentParameter(\"options\");\n      fullAPI.setOptions(removeRemovedOptions(options));\n    }\n  }), provider.channel?.on(SET_STORIES, function (data) {\n    let {\n        ref\n      } = getEventMetadata(this, fullAPI),\n      setStoriesData = data.v ? denormalizeStoryParameters(data) : data.stories;\n    if (ref) fullAPI.setRef(ref.id, {\n      ...ref,\n      setStoriesData\n    }, !0);else throw new Error(\"Cannot call SET_STORIES for local frame\");\n  }), provider.channel?.on(SELECT_STORY, function ({\n    kind,\n    title = kind,\n    story,\n    name = story,\n    storyId,\n    ...rest\n  }) {\n    let {\n      ref\n    } = getEventMetadata(this, fullAPI);\n    ref ? fullAPI.selectStory(storyId || title, name, {\n      ...rest,\n      ref: ref.id\n    }) : fullAPI.selectStory(storyId || title, name, rest);\n  }), provider.channel?.on(STORY_ARGS_UPDATED, function ({\n    storyId,\n    args\n  }) {\n    let {\n      ref\n    } = getEventMetadata(this, fullAPI);\n    api.updateStory(storyId, {\n      args\n    }, ref);\n  }), provider.channel?.on(CONFIG_ERROR, function (err) {\n    let {\n      ref\n    } = getEventMetadata(this, fullAPI);\n    api.setPreviewInitialized(ref);\n  }), provider.channel?.on(STORY_MISSING, function (err) {\n    let {\n      ref\n    } = getEventMetadata(this, fullAPI);\n    api.setPreviewInitialized(ref);\n  }), provider.channel?.on(SET_CONFIG3, () => {\n    let config2 = provider.getConfig();\n    config2?.sidebar?.filters && store2.setState({\n      filters: {\n        ...store2.getState().filters,\n        ...config2?.sidebar?.filters\n      }\n    });\n  }), fullStatusStore.onAllStatusChange(/*#__PURE__*/_asyncToGenerator(function* () {\n    let {\n      internal_index: index\n    } = store2.getState();\n    if (!index) return;\n    yield api.setIndex(index);\n    let refs = yield fullAPI.getRefs();\n    Object.entries(refs).forEach(([refId, {\n      internal_index,\n      ...ref\n    }]) => {\n      fullAPI.setRef(refId, {\n        ...ref,\n        storyIndex: internal_index\n      }, !0);\n    });\n  }));\n  let config = provider.getConfig();\n  return {\n    api,\n    state: {\n      storyId: initialStoryId,\n      viewMode: initialViewMode,\n      hasCalledSetOptions: !1,\n      previewInitialized: !1,\n      filters: config?.sidebar?.filters || {}\n    },\n    init: function () {\n      var _ref14 = _asyncToGenerator(function* () {\n        provider.channel?.on(STORY_INDEX_INVALIDATED, () => api.fetchIndex()), yield api.fetchIndex();\n      });\n      return function init() {\n        return _ref14.apply(this, arguments);\n      };\n    }()\n  };\n};\n\n// src/manager-api/modules/url.ts\nvar url_exports = {};\n__export(url_exports, {\n  init: () => init12\n});\nimport { GLOBALS_UPDATED as GLOBALS_UPDATED2, NAVIGATE_URL, SET_CURRENT_STORY as SET_CURRENT_STORY2, STORY_ARGS_UPDATED as STORY_ARGS_UPDATED2, UPDATE_QUERY_PARAMS } from \"storybook/internal/core-events\";\nimport { buildArgsParam, queryFromLocation } from \"storybook/internal/router\";\nimport { global as global7 } from \"@storybook/global\";\nvar {\n    window: globalWindow\n  } = global7,\n  parseBoolean = value => {\n    if (value === \"true\" || value === \"1\") return !0;\n    if (value === \"false\" || value === \"0\") return !1;\n  },\n  prevParams,\n  initialUrlSupport = ({\n    state: {\n      location: location2,\n      path,\n      viewMode,\n      storyId: storyIdFromUrl\n    },\n    singleStory\n  }) => {\n    let {\n        full,\n        panel,\n        nav,\n        shortcuts,\n        addonPanel,\n        tabs,\n        path: queryPath,\n        ...otherParams\n        // the rest gets passed to the iframe\n      } = queryFromLocation(location2),\n      navSize,\n      bottomPanelHeight,\n      rightPanelWidth;\n    parseBoolean(full) === !0 ? (navSize = 0, bottomPanelHeight = 0, rightPanelWidth = 0) : parseBoolean(full) === !1 && (navSize = defaultLayoutState.layout.navSize, bottomPanelHeight = defaultLayoutState.layout.bottomPanelHeight, rightPanelWidth = defaultLayoutState.layout.rightPanelWidth), singleStory || (parseBoolean(nav) === !0 && (navSize = defaultLayoutState.layout.navSize), parseBoolean(nav) === !1 && (navSize = 0)), parseBoolean(panel) === !1 && (bottomPanelHeight = 0, rightPanelWidth = 0);\n    let layout = {\n        navSize,\n        bottomPanelHeight,\n        rightPanelWidth,\n        panelPosition: [\"right\", \"bottom\"].includes(panel) ? panel : void 0,\n        showTabs: parseBoolean(tabs)\n      },\n      ui = {\n        enableShortcuts: parseBoolean(shortcuts)\n      },\n      selectedPanel = addonPanel || void 0,\n      storyId = storyIdFromUrl,\n      customQueryParams = dequal(prevParams, otherParams) ? prevParams : otherParams;\n    return prevParams = customQueryParams, {\n      viewMode,\n      layout,\n      ui,\n      selectedPanel,\n      location: location2,\n      path,\n      customQueryParams,\n      storyId\n    };\n  },\n  init12 = moduleArgs => {\n    let {\n        store: store2,\n        navigate,\n        provider,\n        fullAPI\n      } = moduleArgs,\n      navigateTo = (path, queryParams = {}, options = {}) => {\n        let params = Object.entries(queryParams).filter(([, v]) => v).sort(([a], [b]) => a < b ? -1 : 1).map(([k, v]) => `${k}=${v}`),\n          to = [path, ...params].join(\"&\");\n        return navigate(to, options);\n      },\n      api = {\n        getQueryParam(key) {\n          let {\n            customQueryParams\n          } = store2.getState();\n          return customQueryParams ? customQueryParams[key] : void 0;\n        },\n        getUrlState() {\n          let {\n            location: location2,\n            path,\n            customQueryParams,\n            storyId,\n            url,\n            viewMode\n          } = store2.getState();\n          return {\n            path,\n            hash: location2.hash ?? \"\",\n            queryParams: customQueryParams,\n            storyId,\n            url,\n            viewMode\n          };\n        },\n        setQueryParams(input) {\n          let {\n              customQueryParams\n            } = store2.getState(),\n            queryParams = {},\n            update2 = {\n              ...customQueryParams,\n              ...Object.entries(input).reduce((acc, [key, value]) => (value !== null && (acc[key] = value), acc), queryParams)\n            };\n          dequal(customQueryParams, update2) || (store2.setState({\n            customQueryParams: update2\n          }), provider.channel?.emit(UPDATE_QUERY_PARAMS, update2));\n        },\n        applyQueryParams(input, options) {\n          let {\n            path,\n            hash = \"\",\n            queryParams\n          } = api.getUrlState();\n          navigateTo(`${path}${hash}`, {\n            ...queryParams,\n            ...input\n          }, options), api.setQueryParams(input);\n        },\n        navigateUrl(url, options) {\n          navigate(url, {\n            plain: !0,\n            ...options\n          });\n        }\n      },\n      updateArgsParam = () => {\n        let {\n          path,\n          hash = \"\",\n          queryParams,\n          viewMode\n        } = api.getUrlState();\n        if (viewMode !== \"story\") return;\n        let currentStory = fullAPI.getCurrentStoryData();\n        if (currentStory?.type !== \"story\") return;\n        let {\n            args,\n            initialArgs\n          } = currentStory,\n          argsString = buildArgsParam(initialArgs, args);\n        navigateTo(`${path}${hash}`, {\n          ...queryParams,\n          args: argsString\n        }, {\n          replace: !0\n        }), api.setQueryParams({\n          args: argsString\n        });\n      };\n    provider.channel?.on(SET_CURRENT_STORY2, () => updateArgsParam());\n    let handleOrId;\n    return provider.channel?.on(STORY_ARGS_UPDATED2, () => {\n      \"requestIdleCallback\" in globalWindow ? (handleOrId && globalWindow.cancelIdleCallback(handleOrId), handleOrId = globalWindow.requestIdleCallback(updateArgsParam, {\n        timeout: 1e3\n      })) : (handleOrId && clearTimeout(handleOrId), setTimeout(updateArgsParam, 100));\n    }), provider.channel?.on(GLOBALS_UPDATED2, ({\n      userGlobals,\n      initialGlobals\n    }) => {\n      let {\n          path,\n          hash = \"\",\n          queryParams\n        } = api.getUrlState(),\n        globalsString = buildArgsParam(initialGlobals, userGlobals);\n      navigateTo(`${path}${hash}`, {\n        ...queryParams,\n        globals: globalsString\n      }, {\n        replace: !0\n      }), api.setQueryParams({\n        globals: globalsString\n      });\n    }), provider.channel?.on(NAVIGATE_URL, (url, options) => {\n      api.navigateUrl(url, options);\n    }), {\n      api,\n      state: initialUrlSupport(moduleArgs)\n    };\n  };\n\n// src/manager-api/modules/versions.ts\nvar versions_exports = {};\n__export(versions_exports, {\n  init: () => init13\n});\nvar import_memoizerific2 = __toESM(require_memoizerific(), 1);\nimport { global as global8 } from \"@storybook/global\";\nimport semver from \"semver\";\n\n// src/manager-api/version.ts\nvar version = \"10.1.2\";\n\n// src/manager-api/modules/versions.ts\nvar {\n    VERSIONCHECK\n  } = global8,\n  getVersionCheckData = (0, import_memoizerific2.default)(1)(() => {\n    try {\n      return {\n        ...(JSON.parse(VERSIONCHECK).data || {})\n      };\n    } catch {\n      return {};\n    }\n  }),\n  normalizeRendererName = renderer => renderer.includes(\"vue\") ? \"vue\" : renderer,\n  init13 = ({\n    store: store2\n  }) => {\n    let {\n        dismissedVersionNotification\n      } = store2.getState(),\n      state = {\n        versions: {\n          current: {\n            version\n          },\n          ...getVersionCheckData()\n        },\n        dismissedVersionNotification\n      },\n      api = {\n        getCurrentVersion: () => {\n          let {\n            versions: {\n              current\n            }\n          } = store2.getState();\n          return current;\n        },\n        getLatestVersion: () => {\n          let {\n            versions: {\n              latest,\n              next,\n              current\n            }\n          } = store2.getState();\n          return current && semver.prerelease(current.version) && next ? latest && semver.gt(latest.version, next.version) ? latest : next : latest;\n        },\n        // TODO: Move this to it's own \"info\" module later\n        getDocsUrl: ({\n          asset,\n          subpath = asset,\n          versioned,\n          renderer,\n          ref = \"ui\"\n        }) => {\n          let {\n              versions\n            } = store2.getState(),\n            latestVersion = versions.latest?.version,\n            currentVersion = versions.current?.version,\n            activeVersion = currentVersion?.startsWith(\"0.0.0\") && latestVersion || currentVersion,\n            url = `https://storybook.js.org/${asset ? \"docs-assets\" : \"docs\"}/`;\n          if (asset && activeVersion) url += `${semver.major(activeVersion)}.${semver.minor(activeVersion)}/`;else if (versioned && activeVersion && latestVersion) {\n            let versionDiff = semver.diff(latestVersion, activeVersion);\n            versionDiff === \"patch\" || versionDiff === null || (url += `${semver.major(activeVersion)}.${semver.minor(activeVersion)}/`);\n          }\n          let [cleanedSubpath, hash] = subpath?.split(\"#\") || [];\n          if (cleanedSubpath && (url += asset ? cleanedSubpath : `${cleanedSubpath}/`), renderer && typeof global8.STORYBOOK_RENDERER < \"u\") {\n            let rendererName = global8.STORYBOOK_RENDERER;\n            rendererName && (url += `?renderer=${normalizeRendererName(rendererName)}`);\n          }\n          return ref && (url += `${url.includes(\"?\") ? \"&\" : \"?\"}ref=${ref}`), hash && (url += `#${hash}`), url;\n        },\n        versionUpdateAvailable: () => {\n          let latest = api.getLatestVersion(),\n            current = api.getCurrentVersion();\n          if (latest) {\n            if (!latest.version || !current.version) return !0;\n            let actualCurrent = !!semver.prerelease(current.version) ? `${semver.major(current.version)}.${semver.minor(current.version)}.${semver.patch(current.version)}` : current.version,\n              diff = semver.diff(actualCurrent, latest.version);\n            return semver.gt(latest.version, actualCurrent) && diff !== \"patch\" && !diff.includes(\"pre\");\n          }\n          return !1;\n        }\n      };\n    return {\n      init: function () {\n        var _ref15 = _asyncToGenerator(function* () {\n          let {\n              versions = {}\n            } = store2.getState(),\n            {\n              latest,\n              next\n            } = getVersionCheckData();\n          yield store2.setState({\n            versions: {\n              ...versions,\n              latest,\n              next\n            }\n          });\n        });\n        return function init() {\n          return _ref15.apply(this, arguments);\n        };\n      }(),\n      state,\n      api\n    };\n  };\n\n// src/manager-api/modules/whatsnew.tsx\nvar whatsnew_exports = {};\n__export(whatsnew_exports, {\n  init: () => init14\n});\nimport React3 from \"react\";\nimport { REQUEST_WHATS_NEW_DATA, RESULT_WHATS_NEW_DATA, SET_WHATS_NEW_CACHE, TOGGLE_WHATS_NEW_NOTIFICATIONS } from \"storybook/internal/core-events\";\nimport { global as global9 } from \"@storybook/global\";\nvar WHATS_NEW_NOTIFICATION_ID = \"whats-new\",\n  StorybookIcon = ({\n    color = \"currentColor\",\n    size = 14\n  }) => React3.createElement(\"svg\", {\n    width: size,\n    height: size,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React3.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M2.042.616a.704.704 0 00-.66.729L1.816 12.9c.014.367.306.66.672.677l9.395.422h.032a.704.704 0 00.704-.703V.704c0-.015 0-.03-.002-.044a.704.704 0 00-.746-.659l-.773.049.057 1.615a.105.105 0 01-.17.086l-.52-.41-.617.468a.105.105 0 01-.168-.088L9.746.134 2.042.616zm8.003 4.747c-.247.192-2.092.324-2.092.05.04-1.045-.429-1.091-.689-1.091-.247 0-.662.075-.662.634 0 .57.607.893 1.32 1.27 1.014.538 2.24 1.188 2.24 2.823 0 1.568-1.273 2.433-2.898 2.433-1.676 0-3.141-.678-2.976-3.03.065-.275 2.197-.21 2.197 0-.026.971.195 1.256.753 1.256.43 0 .624-.236.624-.634 0-.602-.633-.958-1.361-1.367-.987-.554-2.148-1.205-2.148-2.7 0-1.494 1.027-2.489 2.86-2.489 1.832 0 2.832.98 2.832 2.845z\",\n    fill: color\n  })),\n  init14 = ({\n    fullAPI,\n    store: store2,\n    provider\n  }) => {\n    let state = {\n      whatsNewData: void 0\n    };\n    function setWhatsNewState(newState) {\n      store2.setState({\n        whatsNewData: newState\n      }), state.whatsNewData = newState;\n    }\n    let api = {\n      isWhatsNewUnread() {\n        return state.whatsNewData?.status === \"SUCCESS\" && !state.whatsNewData.postIsRead;\n      },\n      whatsNewHasBeenRead() {\n        state.whatsNewData?.status === \"SUCCESS\" && (setWhatsNewCache({\n          lastReadPost: state.whatsNewData.url\n        }), setWhatsNewState({\n          ...state.whatsNewData,\n          postIsRead: !0\n        }), fullAPI.clearNotification(WHATS_NEW_NOTIFICATION_ID));\n      },\n      toggleWhatsNewNotifications() {\n        state.whatsNewData?.status === \"SUCCESS\" && (setWhatsNewState({\n          ...state.whatsNewData,\n          disableWhatsNewNotifications: !state.whatsNewData.disableWhatsNewNotifications\n        }), provider.channel?.emit(TOGGLE_WHATS_NEW_NOTIFICATIONS, {\n          disableWhatsNewNotifications: state.whatsNewData.disableWhatsNewNotifications\n        }));\n      }\n    };\n    function getLatestWhatsNewPost() {\n      return provider.channel?.emit(REQUEST_WHATS_NEW_DATA), new Promise(resolve => provider.channel?.once(RESULT_WHATS_NEW_DATA, ({\n        data\n      }) => resolve(data)));\n    }\n    function setWhatsNewCache(cache) {\n      provider.channel?.emit(SET_WHATS_NEW_CACHE, cache);\n    }\n    return {\n      init: function () {\n        var _ref16 = _asyncToGenerator(function* () {\n          if (global9.CONFIG_TYPE !== \"DEVELOPMENT\") return;\n          let whatsNewData = yield getLatestWhatsNewPost();\n          setWhatsNewState(whatsNewData);\n          let urlState = fullAPI.getUrlState();\n          !(urlState?.path === \"/onboarding\" || urlState.queryParams?.onboarding === \"true\") && whatsNewData.status === \"SUCCESS\" && !whatsNewData.disableWhatsNewNotifications && whatsNewData.showNotification && fullAPI.addNotification({\n            id: WHATS_NEW_NOTIFICATION_ID,\n            link: \"/settings/whats-new\",\n            content: {\n              headline: whatsNewData.title,\n              subHeadline: \"Learn what's new in Storybook\"\n            },\n            icon: React3.createElement(StorybookIcon, null),\n            onClear({\n              dismissed\n            }) {\n              dismissed && setWhatsNewCache({\n                lastDismissedPost: whatsNewData.url\n              });\n            }\n          });\n        });\n        return function init() {\n          return _ref16.apply(this, arguments);\n        };\n      }(),\n      state,\n      api\n    };\n  };\n\n// src/manager-api/store.ts\nvar import_store2 = __toESM(require_store2(), 1);\n\n// src/manager-api/lib/store-setup.ts\nvar store_setup_default = _ => {\n  _.fn(\"set\", function (key, data) {\n    return _.set(\n    // @ts-expect-error('this' implicitly has type 'any')\n    this._area,\n    // @ts-expect-error('this' implicitly has type 'any')\n    this._in(key), stringify(data, {\n      maxDepth: 50\n    }));\n  }), _.fn(\"get\", function (key, alt) {\n    let value = _.get(this._area, this._in(key));\n    return value !== null ? parse(value) : alt || value;\n  });\n};\n\n// src/manager-api/store.ts\nstore_setup_default(import_store2.default._);\nvar STORAGE_KEY = \"@storybook/manager/store\";\nfunction get(storage) {\n  return storage.get(STORAGE_KEY) || {};\n}\nfunction set(storage, value) {\n  return storage.set(STORAGE_KEY, value);\n}\nfunction update(storage, patch) {\n  let previous = get(storage);\n  return set(storage, {\n    ...previous,\n    ...patch\n  });\n}\nvar Store = class {\n  constructor({\n    setState,\n    getState\n  }) {\n    this.upstreamSetState = setState, this.upstreamGetState = getState;\n  }\n  // The assumption is that this will be called once, to initialize the React state\n  // when the module is instantiated\n  getInitialState(base) {\n    return {\n      ...base,\n      ...get(import_store2.default.local),\n      ...get(import_store2.default.session)\n    };\n  }\n  getState() {\n    return this.upstreamGetState();\n  }\n  setState(inputPatch, cbOrOptions, inputOptions) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      let callback, options;\n      typeof cbOrOptions == \"function\" ? (callback = cbOrOptions, options = inputOptions) : options = cbOrOptions;\n      let {\n          persistence = \"none\"\n        } = options || {},\n        patch = {},\n        delta = {};\n      typeof inputPatch == \"function\" ? patch = state => (delta = inputPatch(state), delta) : (patch = inputPatch, delta = patch);\n      let newState = yield new Promise(resolve => {\n        _this.upstreamSetState(patch, () => {\n          resolve(_this.getState());\n        });\n      });\n      if (persistence !== \"none\") {\n        let storage = persistence === \"session\" ? import_store2.default.session : import_store2.default.local;\n        yield update(storage, delta);\n      }\n      return callback && callback(newState), newState;\n    })();\n  }\n};\n\n// src/manager-api/lib/request-response.ts\nvar RequestResponseError = class extends Error {\n    constructor(message, payload) {\n      super(message);\n      this.payload = void 0;\n      this.payload = payload;\n    }\n  },\n  experimental_requestResponse = (channel, requestEvent, responseEvent, payload, timeout = 5e3) => {\n    let timeoutId;\n    return new Promise((resolve, reject) => {\n      let request = {\n          id: Math.random().toString(16).slice(2),\n          payload\n        },\n        responseHandler = response => {\n          response.id === request.id && (clearTimeout(timeoutId), channel.off(responseEvent, responseHandler), response.success ? resolve(response.payload) : reject(new RequestResponseError(response.error, response.payload)));\n        };\n      channel.emit(requestEvent, request), channel.on(responseEvent, responseHandler), timeoutId = setTimeout(() => {\n        channel.off(responseEvent, responseHandler), reject(new RequestResponseError(\"Timed out waiting for response\"));\n      }, timeout);\n    });\n  };\n\n// src/manager-api/root.tsx\nvar {\n  ActiveTabs: ActiveTabs2\n} = layout_exports;\nvar ManagerContext = createContext({\n    api: void 0,\n    state: initial_state_default({})\n  }),\n  combineParameters = (...parameterSets) => noArrayMerge({}, ...parameterSets),\n  ManagerProvider = class extends Component {\n    constructor(props) {\n      super(props);\n      this.api = {};\n      this.initModules = () => {\n        this.modules.forEach(module => {\n          \"init\" in module && module.init();\n        });\n      };\n      let {\n          location: location2,\n          path,\n          refId,\n          viewMode = props.docsOptions.docsMode ? \"docs\" : props.viewMode,\n          singleStory,\n          storyId,\n          docsOptions,\n          navigate\n        } = props,\n        store2 = new Store({\n          getState: () => this.state,\n          setState: (stateChange, callback) => (this.setState(stateChange, () => callback(this.state)), this.state)\n        }),\n        routeData = {\n          location: location2,\n          path,\n          viewMode,\n          singleStory,\n          storyId,\n          refId\n        },\n        optionsData = {\n          docsOptions\n        };\n      this.state = store2.getInitialState(initial_state_default({\n        ...routeData,\n        ...optionsData\n      }));\n      let apiData = {\n        navigate,\n        store: store2,\n        provider: props.provider\n      };\n      this.modules = [provider_exports, channel_exports, addons_exports, layout_exports, notifications_exports, settings_exports, shortcuts_exports, stories_exports, refs_exports, globals_exports, url_exports, versions_exports, whatsnew_exports, open_in_editor_exports].map(m => m.init({\n        ...routeData,\n        ...optionsData,\n        ...apiData,\n        state: this.state,\n        fullAPI: this.api\n      }));\n      let state = initial_state_default(this.state, ...this.modules.map(m => m.state)),\n        api = Object.assign(this.api, {\n          navigate\n        }, ...this.modules.map(m => m.api));\n      this.state = state, this.api = api;\n    }\n    static getDerivedStateFromProps(props, state) {\n      return state.path !== props.path ? {\n        ...state,\n        location: props.location,\n        path: props.path,\n        refId: props.refId,\n        viewMode: props.viewMode,\n        storyId: props.storyId\n      } : null;\n    }\n    shouldComponentUpdate(nextProps, nextState) {\n      let prevProps = this.props,\n        prevState = this.state;\n      return prevProps.path !== nextProps.path || !isEqual(prevState, nextState);\n    }\n    render() {\n      let {\n          children\n        } = this.props,\n        value = {\n          state: this.state,\n          api: this.api\n        };\n      return React4.createElement(EffectOnMount, {\n        effect: this.initModules\n      }, React4.createElement(ManagerContext.Provider, {\n        value\n      }, React4.createElement(ManagerConsumer, null, children)));\n    }\n  };\nManagerProvider.displayName = \"Manager\";\nvar EffectOnMount = ({\n    children,\n    effect\n  }) => (React4.useEffect(effect, []), children),\n  defaultFilter = c => c;\nfunction ManagerConsumer({\n  // @ts-expect-error (Converted from ts-ignore)\n  filter = defaultFilter,\n  children\n}) {\n  let managerContext = useContext(ManagerContext),\n    renderer = useRef2(children),\n    filterer = useRef2(filter);\n  if (typeof renderer.current != \"function\") return React4.createElement(Fragment, null, renderer.current);\n  let comboData = filterer.current(managerContext),\n    comboDataArray = useMemo(() => [...Object.entries(comboData).reduce((acc, keyval) => acc.concat(keyval), [])], [managerContext.state]);\n  return useMemo(() => {\n    let Child = renderer.current;\n    return React4.createElement(Child, {\n      ...comboData\n    });\n  }, comboDataArray);\n}\nfunction useStorybookState() {\n  let {\n    state\n  } = useContext(ManagerContext);\n  return state;\n}\nfunction useStorybookApi() {\n  let {\n    api\n  } = useContext(ManagerContext);\n  return api;\n}\nfunction orDefault(fromStore, defaultState) {\n  return typeof fromStore > \"u\" ? defaultState : fromStore;\n}\nvar useChannel = (eventMap, deps = []) => {\n  let api = useStorybookApi();\n  return useEffect(() => (Object.entries(eventMap).forEach(([type, listener]) => api.on(type, listener)), () => {\n    Object.entries(eventMap).forEach(([type, listener]) => api.off(type, listener));\n  }), deps), api.emit;\n};\nfunction useStoryPrepared(storyId) {\n  return useStorybookApi().isPrepared(storyId);\n}\nfunction useParameter(parameterKey, defaultValue) {\n  let api = useStorybookApi(),\n    [parameter, setParameter] = useState(api.getCurrentParameter(parameterKey)),\n    handleParameterChange = useCallback2(() => {\n      let newParameter = api.getCurrentParameter(parameterKey);\n      setParameter(newParameter);\n    }, [api, parameterKey]);\n  return useChannel({\n    [STORY_PREPARED2]: handleParameterChange,\n    [DOCS_PREPARED2]: handleParameterChange\n  }, [handleParameterChange]), orDefault(parameter, defaultValue);\n}\nglobalThis.STORYBOOK_ADDON_STATE = {};\nvar {\n  STORYBOOK_ADDON_STATE\n} = globalThis;\nfunction useSharedState(stateId, defaultState) {\n  let api = useStorybookApi(),\n    existingState = api.getAddonState(stateId) || STORYBOOK_ADDON_STATE[stateId],\n    state = orDefault(existingState, STORYBOOK_ADDON_STATE[stateId] ? STORYBOOK_ADDON_STATE[stateId] : defaultState),\n    quicksync = !1;\n  state === defaultState && defaultState !== void 0 && (STORYBOOK_ADDON_STATE[stateId] = defaultState, quicksync = !0), useEffect(() => {\n    quicksync && api.setAddonState(stateId, defaultState);\n  }, [quicksync]);\n  let setState = useCallback2(/*#__PURE__*/function () {\n      var _ref17 = _asyncToGenerator(function* (s, options) {\n        yield api.setAddonState(stateId, s, options);\n        let result = api.getAddonState(stateId);\n        return STORYBOOK_ADDON_STATE[stateId] = result, result;\n      });\n      return function (_x19, _x20) {\n        return _ref17.apply(this, arguments);\n      };\n    }(), [api, stateId]),\n    allListeners = useMemo(() => {\n      let stateChangeHandlers = {\n          [`${SHARED_STATE_CHANGED}-client-${stateId}`]: setState,\n          [`${SHARED_STATE_SET}-client-${stateId}`]: setState\n        },\n        stateInitializationHandlers = {\n          [SET_STORIES2]: _asyncToGenerator(function* () {\n            let currentState = api.getAddonState(stateId);\n            currentState ? (STORYBOOK_ADDON_STATE[stateId] = currentState, api.emit(`${SHARED_STATE_SET}-manager-${stateId}`, currentState)) : STORYBOOK_ADDON_STATE[stateId] ? (yield setState(STORYBOOK_ADDON_STATE[stateId]), api.emit(`${SHARED_STATE_SET}-manager-${stateId}`, STORYBOOK_ADDON_STATE[stateId])) : defaultState !== void 0 && (yield setState(defaultState), STORYBOOK_ADDON_STATE[stateId] = defaultState, api.emit(`${SHARED_STATE_SET}-manager-${stateId}`, defaultState));\n          }),\n          [STORY_CHANGED2]: () => {\n            let currentState = api.getAddonState(stateId);\n            currentState !== void 0 && api.emit(`${SHARED_STATE_SET}-manager-${stateId}`, currentState);\n          }\n        };\n      return {\n        ...stateChangeHandlers,\n        ...stateInitializationHandlers\n      };\n    }, [stateId]),\n    emit = useChannel(allListeners),\n    stateSetter = useCallback2(/*#__PURE__*/function () {\n      var _ref19 = _asyncToGenerator(function* (newStateOrMerger, options) {\n        yield setState(newStateOrMerger, options);\n        let result = api.getAddonState(stateId);\n        emit(`${SHARED_STATE_CHANGED}-manager-${stateId}`, result);\n      });\n      return function (_x21, _x22) {\n        return _ref19.apply(this, arguments);\n      };\n    }(), [api, emit, setState, stateId]);\n  return [state, stateSetter];\n}\nfunction useAddonState(addonId, defaultState) {\n  return useSharedState(addonId, defaultState);\n}\nfunction useArgs() {\n  let {\n      getCurrentStoryData,\n      updateStoryArgs,\n      resetStoryArgs\n    } = useStorybookApi(),\n    data = getCurrentStoryData(),\n    args = data?.type === \"story\" ? data.args : {},\n    initialArgs = data?.type === \"story\" ? data.initialArgs : {},\n    updateArgs = useCallback2(newArgs => updateStoryArgs(data, newArgs), [data, updateStoryArgs]),\n    resetArgs = useCallback2(argNames => resetStoryArgs(data, argNames), [data, resetStoryArgs]);\n  return [args, updateArgs, resetArgs, initialArgs];\n}\nfunction useGlobals() {\n  let api = useStorybookApi();\n  return [api.getGlobals(), api.updateGlobals, api.getStoryGlobals(), api.getUserGlobals()];\n}\nfunction useGlobalTypes() {\n  return useStorybookApi().getGlobalTypes();\n}\nfunction useCurrentStory() {\n  let {\n    getCurrentStoryData\n  } = useStorybookApi();\n  return getCurrentStoryData();\n}\nfunction useArgTypes() {\n  let current = useCurrentStory();\n  return current?.type === \"story\" && current.argTypes || {};\n}\nvar typesX = Addon_TypesEnum;\n\n// src/shared/universal-store/mock.ts\nimport { Channel as Channel2 } from \"storybook/internal/channels\";\nvar MockUniversalStore = class _MockUniversalStore extends UniversalStore {\n  constructor(options, testUtils) {\n    UniversalStore.isInternalConstructing = !0, super({\n      ...options,\n      leader: !0\n    }, {\n      channel: new Channel2({}),\n      environment: UniversalStore.Environment.MOCK\n    }), UniversalStore.isInternalConstructing = !1, typeof testUtils?.fn == \"function\" && (this.testUtils = testUtils, this.getState = testUtils.fn(this.getState), this.setState = testUtils.fn(this.setState), this.subscribe = testUtils.fn(this.subscribe), this.onStateChange = testUtils.fn(this.onStateChange), this.send = testUtils.fn(this.send));\n  }\n  /** Create a mock universal store. This is just an alias for the constructor */\n  static create(options, testUtils) {\n    return new _MockUniversalStore(options, testUtils);\n  }\n  unsubscribeAll() {\n    if (!this.testUtils) throw new Error(dedent`Cannot call unsubscribeAll on a store that does not have testUtils.\n        Please provide testUtils as the second argument when creating the store.`);\n    let callReturnedUnsubscribeFn = result => {\n      try {\n        result.value();\n      } catch {}\n    };\n    this.subscribe.mock?.results.forEach(callReturnedUnsubscribeFn), this.onStateChange.mock?.results.forEach(callReturnedUnsubscribeFn);\n  }\n};\n\n// src/shared/test-provider-store/index.ts\nvar UNIVERSAL_TEST_PROVIDER_STORE_OPTIONS = {\n  id: \"storybook/test-provider\",\n  leader: !0,\n  initialState: {}\n};\nfunction createTestProviderStore({\n  universalTestProviderStore: universalTestProviderStore2,\n  useUniversalStore: useUniversalStore2\n}) {\n  let baseStore = {\n      settingsChanged: () => {\n        universalTestProviderStore2.untilReady().then(() => {\n          universalTestProviderStore2.send({\n            type: \"settings-changed\"\n          });\n        });\n      },\n      onRunAll: listener => universalTestProviderStore2.subscribe(\"run-all\", listener),\n      onClearAll: listener => universalTestProviderStore2.subscribe(\"clear-all\", listener)\n    },\n    fullTestProviderStore2 = {\n      ...baseStore,\n      getFullState: universalTestProviderStore2.getState,\n      setFullState: universalTestProviderStore2.setState,\n      onSettingsChanged: listener => universalTestProviderStore2.subscribe(\"settings-changed\", listener),\n      runAll: function () {\n        var _ref20 = _asyncToGenerator(function* () {\n          yield universalTestProviderStore2.untilReady(), universalTestProviderStore2.send({\n            type: \"run-all\"\n          });\n        });\n        return function runAll() {\n          return _ref20.apply(this, arguments);\n        };\n      }(),\n      clearAll: function () {\n        var _ref21 = _asyncToGenerator(function* () {\n          yield universalTestProviderStore2.untilReady(), universalTestProviderStore2.send({\n            type: \"clear-all\"\n          });\n        });\n        return function clearAll() {\n          return _ref21.apply(this, arguments);\n        };\n      }()\n    },\n    getTestProviderStoreById2 = testProviderId => {\n      let getStateForTestProvider = () => universalTestProviderStore2.getState()[testProviderId] ?? \"test-provider-state:pending\",\n        setStateForTestProvider = state => {\n          universalTestProviderStore2.untilReady().then(() => {\n            universalTestProviderStore2.setState(currentState => ({\n              ...currentState,\n              [testProviderId]: state\n            }));\n          });\n        };\n      return {\n        ...baseStore,\n        testProviderId,\n        getState: getStateForTestProvider,\n        setState: setStateForTestProvider,\n        runWithState: function () {\n          var _ref22 = _asyncToGenerator(function* (callback) {\n            setStateForTestProvider(\"test-provider-state:running\");\n            try {\n              yield callback(), setStateForTestProvider(\"test-provider-state:succeeded\");\n            } catch {\n              setStateForTestProvider(\"test-provider-state:crashed\");\n            }\n          });\n          return function runWithState(_x23) {\n            return _ref22.apply(this, arguments);\n          };\n        }()\n      };\n    };\n  return useUniversalStore2 ? {\n    getTestProviderStoreById: getTestProviderStoreById2,\n    fullTestProviderStore: fullTestProviderStore2,\n    universalTestProviderStore: universalTestProviderStore2,\n    useTestProviderStore: selector => useUniversalStore2(universalTestProviderStore2, selector)[0]\n  } : {\n    getTestProviderStoreById: getTestProviderStoreById2,\n    fullTestProviderStore: fullTestProviderStore2,\n    universalTestProviderStore: universalTestProviderStore2\n  };\n}\n\n// src/manager-api/stores/test-provider.ts\nvar testProviderStore = createTestProviderStore({\n    universalTestProviderStore: UniversalStore.create({\n      ...UNIVERSAL_TEST_PROVIDER_STORE_OPTIONS,\n      leader: globalThis.CONFIG_TYPE === \"PRODUCTION\"\n    }),\n    useUniversalStore\n  }),\n  {\n    fullTestProviderStore,\n    getTestProviderStoreById,\n    useTestProviderStore,\n    universalTestProviderStore\n  } = testProviderStore;\n\n// src/shared/checklist-store/checklistData.state.ts\nvar initialState = {\n  items: {\n    accessibilityTests: {\n      status: \"open\"\n    },\n    autodocs: {\n      status: \"open\"\n    },\n    ciTests: {\n      status: \"open\"\n    },\n    controls: {\n      status: \"open\"\n    },\n    coverage: {\n      status: \"open\"\n    },\n    guidedTour: {\n      status: \"open\"\n    },\n    installA11y: {\n      status: \"open\"\n    },\n    installChromatic: {\n      status: \"open\"\n    },\n    installDocs: {\n      status: \"open\"\n    },\n    installVitest: {\n      status: \"open\"\n    },\n    mdxDocs: {\n      status: \"open\"\n    },\n    moreComponents: {\n      status: \"open\"\n    },\n    moreStories: {\n      status: \"open\"\n    },\n    onboardingSurvey: {\n      status: \"open\"\n    },\n    organizeStories: {\n      status: \"open\"\n    },\n    publishStorybook: {\n      status: \"open\"\n    },\n    renderComponent: {\n      status: \"open\"\n    },\n    runTests: {\n      status: \"open\"\n    },\n    viewports: {\n      status: \"open\"\n    },\n    visualTests: {\n      status: \"open\"\n    },\n    whatsNewStorybook10: {\n      status: \"open\"\n    },\n    writeInteractions: {\n      status: \"open\"\n    }\n  },\n  widget: {}\n};\n\n// src/shared/checklist-store/index.ts\nvar UNIVERSAL_CHECKLIST_STORE_OPTIONS = {\n    id: \"storybook/checklist\",\n    initialState\n  },\n  createChecklistStore = universalChecklistStore2 => ({\n    getValue: id => universalChecklistStore2.getState().items[id] ?? {\n      status: \"open\",\n      mutedAt: void 0\n    },\n    accept: id => {\n      universalChecklistStore2.setState(state => ({\n        ...state,\n        items: {\n          ...state.items,\n          [id]: {\n            ...state.items[id],\n            status: \"accepted\"\n          }\n        }\n      }));\n    },\n    done: id => {\n      universalChecklistStore2.setState(state => ({\n        ...state,\n        items: {\n          ...state.items,\n          [id]: {\n            ...state.items[id],\n            status: \"done\"\n          }\n        }\n      }));\n    },\n    skip: id => {\n      universalChecklistStore2.setState(state => ({\n        ...state,\n        items: {\n          ...state.items,\n          [id]: {\n            ...state.items[id],\n            status: \"skipped\"\n          }\n        }\n      }));\n    },\n    reset: id => {\n      universalChecklistStore2.setState(state => ({\n        ...state,\n        items: {\n          ...state.items,\n          [id]: {\n            ...state.items[id],\n            status: \"open\"\n          }\n        }\n      }));\n    },\n    mute: itemIds => {\n      universalChecklistStore2.setState(state => ({\n        ...state,\n        items: itemIds.reduce((acc, id) => ({\n          ...acc,\n          [id]: {\n            ...state.items[id],\n            mutedAt: Date.now()\n          }\n        }), state.items)\n      }));\n    },\n    disable: value => {\n      universalChecklistStore2.setState(state => ({\n        ...state,\n        widget: {\n          ...state.widget,\n          disable: value\n        },\n        items: Object.entries(state.items).reduce((acc, [id, value2]) => ({\n          ...acc,\n          [id]: {\n            ...value2,\n            mutedAt: void 0\n          }\n        }), state.items)\n      }));\n    }\n  });\n\n// src/manager-api/stores/checklist.ts\nvar universalChecklistStore = UniversalStore.create({\n    ...UNIVERSAL_CHECKLIST_STORE_OPTIONS,\n    leader: globalThis.CONFIG_TYPE === \"PRODUCTION\"\n  }),\n  checklistStore = createChecklistStore(universalChecklistStore);\nexport { ActiveTabs2 as ActiveTabs, ManagerConsumer as Consumer, ManagerContext, ManagerProvider as Provider, RequestResponseError, addons, combineParameters, controlOrMetaKey, controlOrMetaSymbol, eventMatchesShortcut, eventToShortcut, MockUniversalStore as experimental_MockUniversalStore, UniversalStore as experimental_UniversalStore, getStatusStoreByTypeId as experimental_getStatusStore, getTestProviderStoreById as experimental_getTestProviderStore, experimental_requestResponse, useStatusStore as experimental_useStatusStore, useTestProviderStore as experimental_useTestProviderStore, useUniversalStore as experimental_useUniversalStore, checklistStore as internal_checklistStore, fullStatusStore as internal_fullStatusStore, fullTestProviderStore as internal_fullTestProviderStore, universalChecklistStore as internal_universalChecklistStore, universalStatusStore as internal_universalStatusStore, universalTestProviderStore as internal_universalTestProviderStore, isMacLike, isShortcutTaken, keyToSymbol, merge_default as merge, mockChannel, optionOrAltSymbol, shortcutMatchesShortcut, shortcutToAriaKeyshortcuts, shortcutToHumanString, typesX as types, useAddonState, useArgTypes, useArgs, useChannel, useGlobalTypes, useGlobals, useParameter, useSharedState, useStoryPrepared, useStorybookApi, useStorybookState };","map":{"version":3,"names":["UniversalStore","parse","stringify","StatusTypeIdMismatchError","StatusTypeIdMismatchError2","StorybookError","countBy","dequal","partition","require_picocolors_browser","isEqual","mapValues","mergeWith","pick","toMerged","require_memoizerific","dedent","__commonJS","__export","__toESM","require_toggle_selection","../node_modules/toggle-selection/index.js","exports","module","selection","document","getSelection","rangeCount","active","activeElement","ranges","i","push","getRangeAt","tagName","toUpperCase","blur","removeAllRanges","type","forEach","range","addRange","focus","require_copy_to_clipboard","../node_modules/copy-to-clipboard/index.js","deselectCurrent","clipboardToIE11Formatting","default","defaultMessage","format","message","copyKey","test","navigator","userAgent","replace","copy2","text","options","debug","reselectPrevious","mark","success","createRange","createElement","textContent","ariaHidden","style","all","position","top","clip","whiteSpace","webkitUserSelect","MozUserSelect","msUserSelect","userSelect","addEventListener","e","stopPropagation","preventDefault","clipboardData","console","warn","window","clearData","format2","setData","onCopy","body","appendChild","selectNodeContents","successful","execCommand","Error","err","error","err2","prompt","removeRange","removeChild","require_store2","../node_modules/store2/dist/store2.js","window2","define","_","version","areas","apis","nsdelim","inherit","api","o","p","hasOwnProperty","Object","defineProperty","getOwnPropertyDescriptor","d","fn","JSON","s","revive","name","storeAPI","get","area","key","getItem","set","string","setItem","remove","removeItem","length","clear","Store","id","namespace","store3","data","overwrite","arguments","getAll","transact","each","setAll","_id","testKey","_area","storage","_ns","singleArea","delim","_delim","substring","ns","isFake","force","_real","toString","has","_in","size","keys","fill","m","_out","call","fillList","k","v","list","alt","fillObj","val","ret","replacer","changed","add","Array","concat","clearAll","indexOf","storageAPI","items","c","store2","localStorage","local","sessionStorage","amd","store","conflict","React4","Component","Fragment","useCallback","useCallback2","useContext","useEffect","useMemo","useRef","useRef2","useState","DOCS_PREPARED","DOCS_PREPARED2","SET_STORIES","SET_STORIES2","SHARED_STATE_CHANGED","SHARED_STATE_SET","STORY_CHANGED","STORY_CHANGED2","STORY_PREPARED","STORY_PREPARED2","createContext","ReactCreateContext","state","logger","merge_default","a","b","target","objValue","srcValue","isArray","find","log","obj","noArrayMerge","main","additions","reduce","acc","item","initial_state_default","logger2","SET_CONFIG","Addon_TypesEnum","global","Channel","mockChannel","transport","setHandler","send","AddonStore","constructor","loaders","elements","config","getChannel","channel","setChannel","ready","promise","hasChannel","resolve","setConfig","value","assign","emit","then","getConfig","register","callback","loadAddons","values","Promise","res","getElements","addon","collection","experimental_getRegisteredAddons","KEY","getAddonsStore","addons","addons_exports","ensurePanel","init","Addon_TypesEnum2","panels","selectedPanel","currentPanel","keys2","provider","fullAPI","getSelectedPanel","getState","PANEL","setSelectedPanel","panelName","setState","persistence","setAddonState","addonId","newStateOrMerger","merger","getAddonState","globalThis","STORYBOOK_ADDON_STATE","channel_exports","init2","on","handler","off","once","args","startsWith","globals_exports","init4","logger4","GLOBALS_UPDATED","SET_GLOBALS","UPDATE_GLOBALS","logger3","refs_exports","defaultStoryMapper","getSourceType","init3","global2","sanitize","import_memoizerific","intersect_default","aValue","includes","TITLE_PATH_SEPARATOR","denormalizeStoryParameters","globalParameters","kindParameters","stories","storyData","parameters","combineParameters","kind","transformSetStoriesStoryDataToPreparedStoryIndex","entries","story","docsOnly","fileName","base","title","importPath","tags","storiesImports","argTypes","initialArgs","subtype","transformStoryIndexV2toV3","index","entry","transformStoryIndexV3toV4","countByTitle","transformStoryIndexV4toV5","transformStoryIndexToStoriesHash","input","docsOptions","filters","allStatuses","indexEntries","filterFunctions","entryValues","filter","statuses","some","every","parent","child","sidebar","showRoots","collapsedRoots","renderLabel","setShowRoots","storiesHashOutOfOrder","docsMode","groups","trim","split","root","shift","names","paths","idx","childId","depth","startCollapsed","children","prepared","addItem","currentTags","firstChild","storiesHash","component","addPreparedStories","newHash","oldHash","fromEntries","map","newEntry","oldEntry","getComponentLookupList","hash","getStoriesLookupList","location","fetch","source","refId","origin","localOrigin","pathname","localPathname","sourceOrigin","sourcePathname","URL","localFull","sourceFull","addRefIds","ref","handleRequest","_x","_handleRequest","apply","_asyncToGenerator","request","response","ok","statusText","json","storyIndex","indexError","parseUrl","url","credentialsRegex","cleanUrl","authorization","credentials","match","btoa","storyMapper","singleStory","runCheck","findRef","refs2","getRefs","changeRefVersion","_ref","versions","filteredIndex","expanded","setRef","checkRef","_x2","_x3","changeRefState","previewInitialized","updated","refs","_ref2","version2","isPublic","loadedData","query","urlParseResult","headers","Accept","Authorization","indexResult","storiesResult","_ref3","file","_x5","metadata","cache","catch","_x4","_ref4","setStoriesData","rest","internal_index","updateRef","_x6","_x7","_ref5","ordered","initialState2","_x8","_x9","REFS","_ref6","_x0","getEventMetadata","context","sourceType","sourceLocation","meta","getGlobals","globals","getUserGlobals","userGlobals","getStoryGlobals","storyGlobals","getGlobalTypes","globalTypes","updateGlobals","newGlobals","currentGlobals","currentUserGlobals","currentStoryGlobals","layout_exports","ActiveTabs","defaultLayoutState","focusableUIElements","init5","SET_CONFIG2","global3","create","document2","isFunction","SIDEBAR","CANVAS","ADDONS","ui","enableShortcuts","layout","initialActive","showToolbar","navSize","bottomPanelHeight","rightPanelWidth","recentVisibleSizes","panelPosition","showTabs","layoutCustomisations","showSidebar","theme","storySearchField","storyListMenu","storyPanelRoot","getIsNavShown","getIsPanelShown","getIsFullscreen","getRecentVisibleSizes","layoutState","toggleFullscreen","nextState","isFullscreen","shouldFullscreen","togglePanel","isPanelShown","shouldShowPanel","togglePanelPosition","nextPosition","toggleNav","isNavShown","shouldShowNav","toggleToolbar","toggled","setSizes","nextLayoutState","focusOnUIElement","elementId","select","startTime","Date","now","maxDuration","pollInterval","attemptFocus","element","getElementById","intervalId","setInterval","clearInterval","getInitialOptions","getShowToolbarWithCustomisations","getShowPanelWithCustomisations","showPanel","getNavSizeWithCustomisations","setOptions","updatedLayout","updatedUi","updatedTheme","modification","persisted","notifications_exports","init6","addNotification","newNotification","notifications","existing","others","n","notification","onClear","dismissed","timeout","clearNotification","notificationId","matching","open_in_editor_exports","init7","React","OPEN_IN_EDITOR_REQUEST","OPEN_IN_EDITOR_RESPONSE","FailedIcon","openInEditor","payload","line","column","_ref7","color","content","headline","subHeadline","icon","negative","duration","provider_exports","init8","renderPreview","handleAPI","settings_exports","init9","navigate","settings","lastTrackedStoryId","closeSettings","selectStory","selectFirstStory","changeSettingsTab","path","isSettingsScreenActive","getUrlState","retrieveSelection","storeSelection","_ref8","storyId","shortcuts_exports","controlOrMetaKey","controlOrMetaKey2","defaultShortcuts","init10","isMacLike","isMacLike2","import_copy_to_clipboard","FORCE_REMOUNT","PREVIEW_KEYDOWN","STORIES_COLLAPSE_ALL","STORIES_EXPAND_ALL","global5","global4","navigator2","platform","controlOrMetaSymbol","optionOrAltSymbol","isShortcutTaken","arr1","arr2","eventToShortcut","altKey","ctrlKey","metaKey","shiftKey","codeUpper","code","codeToCharMap","MINUS","EQUAL","BRACKETLEFT","BRACKETRIGHT","BACKSLASH","SEMICOLON","QUOTE","BACKQUOTE","COMMA","PERIOD","SLASH","codeChar","shortcutMatchesShortcut","inputShortcut","shortcut","join","eventMatchesShortcut","keyToSymbol","shortcutToHumanString","shortcutToAriaKeyshortcuts","shortcut2","navigator3","document3","freeze","fullScreen","toolbar","search","focusNav","focusIframe","focusPanel","prevComponent","nextComponent","prevStory","nextStory","shortcutsPage","aboutPage","escape","collapseAll","expandAll","remount","copyStoryLink","addonsShortcuts","shouldSkipShortcut","event","getAttribute","closest","getShortcutKeys","shortcuts","getDefaultShortcuts","getAddonsShortcutDefaults","getAddonsShortcuts","getAddonsShortcutLabels","labels","actionName","label","defaults","defaultShortcut","setShortcuts","restoreAllDefaultShortcuts","setShortcut","action","setAddonShortcut","restoreDefaultShortcut","handleKeydownEvent","matchedFeature","feature","handleShortcutFeature","setTimeout","contentWindow","jumpToStory","jumpToComponent","CONFIG_TYPE","getCurrentStoryData","href","persistedShortcuts","stories_exports","init11","logger5","CONFIG_ERROR","CURRENT_STORY_WAS_SET","PRELOAD_ENTRIES","RESET_STORY_ARGS","SELECT_STORY","SET_CONFIG3","SET_CURRENT_STORY","SET_FILTER","SET_INDEX","STORY_ARGS_UPDATED","STORY_INDEX_INVALIDATED","STORY_MISSING","STORY_SPECIFIED","UPDATE_STORY_ARGS","sanitize2","toId","global6","import_picocolors","StatusTypeIdMismatchError3","category","status","typeId","UNIVERSAL_STATUS_STORE_OPTIONS","leader","initialState","StatusStoreEventType","SELECT","createStatusStore","universalStatusStore","universalStatusStore2","useUniversalStore","useUniversalStore2","environment","fullStatusStore2","newState","onAllStatusChange","listener","onStateChange","prevState","onSelect","subscribe","selectStatuses","unset","storyIds","getStatusStoreByTypeId2","omittedStatus","storyStatusesWithoutTypeId","getStatusStoreByTypeId","fullStatusStore","useStatusStore","selector","React2","universalStore","snapshotRef","state2","previousState","current","selectedState","selectedPreviousState","getSnapshot","currentState","useSyncExternalStore","statusStore","fetch2","STORY_INDEX_PATH","removedOptions","removeRemovedOptions","result","option","initialStoryId","viewMode","initialViewMode","getData","resolveStory","isPrepared","getIndex","getParameters","storyIdOrCombo","parameterName","getCurrentParameter","direction","findSiblingStoryId","firstStory","titleOrId","gotoStory","kindSlug","filteredHash","foundId","findLeafEntry","childStoryId","findLeafStoryId","findAllLeafStoryIds","entryId","findChildEntriesRecursively","currentEntryId","results","node","toSiblingGroup","lookupList2","position2","findIndex","lookupList","updateStoryArgs","updatedArgs","resetStoryArgs","argNames","fetchIndex","_ref9","setIndex","_ref0","oldFilteredHash","newFilteredHash","_x1","updateStory","_ref1","update2","_x10","_x11","_x12","updateDocs","_ref10","docsId","_x13","_x14","_x15","setPreviewInitialized","_ref11","_x16","experimental_setFilter","_ref12","filterFunction","_x17","_x18","isCanvasRoute","stateHasSelection","stateSelectionDifferent","hasCalledSetOptions","toBePreloaded","from","Set","Boolean","ids","config2","_ref14","url_exports","init12","GLOBALS_UPDATED2","NAVIGATE_URL","SET_CURRENT_STORY2","STORY_ARGS_UPDATED2","UPDATE_QUERY_PARAMS","buildArgsParam","queryFromLocation","global7","globalWindow","parseBoolean","prevParams","initialUrlSupport","location2","storyIdFromUrl","full","panel","nav","addonPanel","tabs","queryPath","otherParams","customQueryParams","moduleArgs","navigateTo","queryParams","params","sort","to","getQueryParam","setQueryParams","applyQueryParams","navigateUrl","plain","updateArgsParam","currentStory","argsString","handleOrId","cancelIdleCallback","requestIdleCallback","clearTimeout","initialGlobals","globalsString","versions_exports","init13","import_memoizerific2","global8","semver","VERSIONCHECK","getVersionCheckData","normalizeRendererName","renderer","dismissedVersionNotification","getCurrentVersion","getLatestVersion","latest","next","prerelease","gt","getDocsUrl","asset","subpath","versioned","latestVersion","currentVersion","activeVersion","major","minor","versionDiff","diff","cleanedSubpath","STORYBOOK_RENDERER","rendererName","versionUpdateAvailable","actualCurrent","patch","_ref15","whatsnew_exports","init14","React3","REQUEST_WHATS_NEW_DATA","RESULT_WHATS_NEW_DATA","SET_WHATS_NEW_CACHE","TOGGLE_WHATS_NEW_NOTIFICATIONS","global9","WHATS_NEW_NOTIFICATION_ID","StorybookIcon","width","height","viewBox","xmlns","fillRule","clipRule","whatsNewData","setWhatsNewState","isWhatsNewUnread","postIsRead","whatsNewHasBeenRead","setWhatsNewCache","lastReadPost","toggleWhatsNewNotifications","disableWhatsNewNotifications","getLatestWhatsNewPost","_ref16","urlState","onboarding","showNotification","link","lastDismissedPost","import_store2","store_setup_default","maxDepth","STORAGE_KEY","update","previous","upstreamSetState","upstreamGetState","getInitialState","session","inputPatch","cbOrOptions","inputOptions","_this","delta","RequestResponseError","experimental_requestResponse","requestEvent","responseEvent","timeoutId","reject","Math","random","slice","responseHandler","ActiveTabs2","ManagerContext","parameterSets","ManagerProvider","props","initModules","modules","stateChange","routeData","optionsData","apiData","getDerivedStateFromProps","shouldComponentUpdate","nextProps","prevProps","render","EffectOnMount","effect","Provider","ManagerConsumer","displayName","defaultFilter","managerContext","filterer","comboData","comboDataArray","keyval","Child","useStorybookState","useStorybookApi","orDefault","fromStore","defaultState","useChannel","eventMap","deps","useStoryPrepared","useParameter","parameterKey","defaultValue","parameter","setParameter","handleParameterChange","newParameter","useSharedState","stateId","existingState","quicksync","_ref17","_x19","_x20","allListeners","stateChangeHandlers","stateInitializationHandlers","stateSetter","_ref19","_x21","_x22","useAddonState","useArgs","updateArgs","newArgs","resetArgs","useGlobals","useGlobalTypes","useCurrentStory","useArgTypes","typesX","Channel2","MockUniversalStore","_MockUniversalStore","testUtils","isInternalConstructing","Environment","MOCK","unsubscribeAll","callReturnedUnsubscribeFn","mock","UNIVERSAL_TEST_PROVIDER_STORE_OPTIONS","createTestProviderStore","universalTestProviderStore","universalTestProviderStore2","baseStore","settingsChanged","untilReady","onRunAll","onClearAll","fullTestProviderStore2","getFullState","setFullState","onSettingsChanged","runAll","_ref20","_ref21","getTestProviderStoreById2","testProviderId","getStateForTestProvider","setStateForTestProvider","runWithState","_ref22","_x23","getTestProviderStoreById","fullTestProviderStore","useTestProviderStore","testProviderStore","accessibilityTests","autodocs","ciTests","controls","coverage","guidedTour","installA11y","installChromatic","installDocs","installVitest","mdxDocs","moreComponents","moreStories","onboardingSurvey","organizeStories","publishStorybook","renderComponent","runTests","viewports","visualTests","whatsNewStorybook10","writeInteractions","widget","UNIVERSAL_CHECKLIST_STORE_OPTIONS","createChecklistStore","universalChecklistStore2","getValue","mutedAt","accept","done","skip","reset","mute","itemIds","disable","value2","universalChecklistStore","checklistStore","Consumer","experimental_MockUniversalStore","experimental_UniversalStore","experimental_getStatusStore","experimental_getTestProviderStore","experimental_useStatusStore","experimental_useTestProviderStore","experimental_useUniversalStore","internal_checklistStore","internal_fullStatusStore","internal_fullTestProviderStore","internal_universalChecklistStore","internal_universalStatusStore","internal_universalTestProviderStore","merge","types"],"sources":["/Users/pea/Desktop/work/my-workspace copy/node_modules/storybook/dist/manager-api/index.js"],"sourcesContent":["import {\n  UniversalStore,\n  parse,\n  stringify\n} from \"../_browser-chunks/chunk-UD6FQLAF.js\";\nimport {\n  StatusTypeIdMismatchError\n} from \"../_browser-chunks/chunk-GFY5R5EY.js\";\nimport {\n  StatusTypeIdMismatchError as StatusTypeIdMismatchError2\n} from \"../_browser-chunks/chunk-2XZMBGTA.js\";\nimport {\n  StorybookError\n} from \"../_browser-chunks/chunk-FQ7SLVLR.js\";\nimport {\n  countBy,\n  dequal,\n  partition\n} from \"../_browser-chunks/chunk-XJNX76GA.js\";\nimport {\n  require_picocolors_browser\n} from \"../_browser-chunks/chunk-EZSQOHRI.js\";\nimport {\n  isEqual\n} from \"../_browser-chunks/chunk-3IAH5M2U.js\";\nimport \"../_browser-chunks/chunk-QKODTO7K.js\";\nimport {\n  mapValues,\n  mergeWith,\n  pick,\n  toMerged\n} from \"../_browser-chunks/chunk-AIOS4NGK.js\";\nimport \"../_browser-chunks/chunk-GFLS4VP3.js\";\nimport {\n  require_memoizerific\n} from \"../_browser-chunks/chunk-WJYERY3R.js\";\nimport {\n  dedent\n} from \"../_browser-chunks/chunk-JP7NCOJX.js\";\nimport {\n  __commonJS,\n  __export,\n  __toESM\n} from \"../_browser-chunks/chunk-A242L54C.js\";\n\n// ../node_modules/toggle-selection/index.js\nvar require_toggle_selection = __commonJS({\n  \"../node_modules/toggle-selection/index.js\"(exports, module) {\n    module.exports = function() {\n      var selection = document.getSelection();\n      if (!selection.rangeCount)\n        return function() {\n        };\n      for (var active = document.activeElement, ranges = [], i = 0; i < selection.rangeCount; i++)\n        ranges.push(selection.getRangeAt(i));\n      switch (active.tagName.toUpperCase()) {\n        // .toUpperCase handles XHTML\n        case \"INPUT\":\n        case \"TEXTAREA\":\n          active.blur();\n          break;\n        default:\n          active = null;\n          break;\n      }\n      return selection.removeAllRanges(), function() {\n        selection.type === \"Caret\" && selection.removeAllRanges(), selection.rangeCount || ranges.forEach(function(range) {\n          selection.addRange(range);\n        }), active && active.focus();\n      };\n    };\n  }\n});\n\n// ../node_modules/copy-to-clipboard/index.js\nvar require_copy_to_clipboard = __commonJS({\n  \"../node_modules/copy-to-clipboard/index.js\"(exports, module) {\n    \"use strict\";\n    var deselectCurrent = require_toggle_selection(), clipboardToIE11Formatting = {\n      \"text/plain\": \"Text\",\n      \"text/html\": \"Url\",\n      default: \"Text\"\n    }, defaultMessage = \"Copy to clipboard: #{key}, Enter\";\n    function format(message) {\n      var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\\u2318\" : \"Ctrl\") + \"+C\";\n      return message.replace(/#{\\s*key\\s*}/g, copyKey);\n    }\n    function copy2(text, options) {\n      var debug, message, reselectPrevious, range, selection, mark, success = !1;\n      options || (options = {}), debug = options.debug || !1;\n      try {\n        reselectPrevious = deselectCurrent(), range = document.createRange(), selection = document.getSelection(), mark = document.createElement(\"span\"), mark.textContent = text, mark.ariaHidden = \"true\", mark.style.all = \"unset\", mark.style.position = \"fixed\", mark.style.top = 0, mark.style.clip = \"rect(0, 0, 0, 0)\", mark.style.whiteSpace = \"pre\", mark.style.webkitUserSelect = \"text\", mark.style.MozUserSelect = \"text\", mark.style.msUserSelect = \"text\", mark.style.userSelect = \"text\", mark.addEventListener(\"copy\", function(e) {\n          if (e.stopPropagation(), options.format)\n            if (e.preventDefault(), typeof e.clipboardData > \"u\") {\n              debug && console.warn(\"unable to use e.clipboardData\"), debug && console.warn(\"trying IE specific stuff\"), window.clipboardData.clearData();\n              var format2 = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting.default;\n              window.clipboardData.setData(format2, text);\n            } else\n              e.clipboardData.clearData(), e.clipboardData.setData(options.format, text);\n          options.onCopy && (e.preventDefault(), options.onCopy(e.clipboardData));\n        }), document.body.appendChild(mark), range.selectNodeContents(mark), selection.addRange(range);\n        var successful = document.execCommand(\"copy\");\n        if (!successful)\n          throw new Error(\"copy command was unsuccessful\");\n        success = !0;\n      } catch (err) {\n        debug && console.error(\"unable to copy using execCommand: \", err), debug && console.warn(\"trying IE specific stuff\");\n        try {\n          window.clipboardData.setData(options.format || \"text\", text), options.onCopy && options.onCopy(window.clipboardData), success = !0;\n        } catch (err2) {\n          debug && console.error(\"unable to copy using clipboardData: \", err2), debug && console.error(\"falling back to prompt\"), message = format(\"message\" in options ? options.message : defaultMessage), window.prompt(message, text);\n        }\n      } finally {\n        selection && (typeof selection.removeRange == \"function\" ? selection.removeRange(range) : selection.removeAllRanges()), mark && document.body.removeChild(mark), reselectPrevious();\n      }\n      return success;\n    }\n    module.exports = copy2;\n  }\n});\n\n// ../node_modules/store2/dist/store2.js\nvar require_store2 = __commonJS({\n  \"../node_modules/store2/dist/store2.js\"(exports, module) {\n    (function(window2, define) {\n      var _ = {\n        version: \"2.14.4\",\n        areas: {},\n        apis: {},\n        nsdelim: \".\",\n        // utilities\n        inherit: function(api, o) {\n          for (var p in api)\n            o.hasOwnProperty(p) || Object.defineProperty(o, p, Object.getOwnPropertyDescriptor(api, p));\n          return o;\n        },\n        stringify: function(d, fn) {\n          return d === void 0 || typeof d == \"function\" ? d + \"\" : JSON.stringify(d, fn || _.replace);\n        },\n        parse: function(s, fn) {\n          try {\n            return JSON.parse(s, fn || _.revive);\n          } catch {\n            return s;\n          }\n        },\n        // extension hooks\n        fn: function(name, fn) {\n          _.storeAPI[name] = fn;\n          for (var api in _.apis)\n            _.apis[api][name] = fn;\n        },\n        get: function(area, key) {\n          return area.getItem(key);\n        },\n        set: function(area, key, string) {\n          area.setItem(key, string);\n        },\n        remove: function(area, key) {\n          area.removeItem(key);\n        },\n        key: function(area, i) {\n          return area.key(i);\n        },\n        length: function(area) {\n          return area.length;\n        },\n        clear: function(area) {\n          area.clear();\n        },\n        // core functions\n        Store: function(id, area, namespace) {\n          var store3 = _.inherit(_.storeAPI, function(key, data, overwrite) {\n            return arguments.length === 0 ? store3.getAll() : typeof data == \"function\" ? store3.transact(key, data, overwrite) : data !== void 0 ? store3.set(key, data, overwrite) : typeof key == \"string\" || typeof key == \"number\" ? store3.get(key) : typeof key == \"function\" ? store3.each(key) : key ? store3.setAll(key, data) : store3.clear();\n          });\n          store3._id = id;\n          try {\n            var testKey = \"__store2_test\";\n            area.setItem(testKey, \"ok\"), store3._area = area, area.removeItem(testKey);\n          } catch {\n            store3._area = _.storage(\"fake\");\n          }\n          return store3._ns = namespace || \"\", _.areas[id] || (_.areas[id] = store3._area), _.apis[store3._ns + store3._id] || (_.apis[store3._ns + store3._id] = store3), store3;\n        },\n        storeAPI: {\n          // admin functions\n          area: function(id, area) {\n            var store3 = this[id];\n            return (!store3 || !store3.area) && (store3 = _.Store(id, area, this._ns), this[id] || (this[id] = store3)), store3;\n          },\n          namespace: function(namespace, singleArea, delim) {\n            if (delim = delim || this._delim || _.nsdelim, !namespace)\n              return this._ns ? this._ns.substring(0, this._ns.length - delim.length) : \"\";\n            var ns = namespace, store3 = this[ns];\n            if ((!store3 || !store3.namespace) && (store3 = _.Store(this._id, this._area, this._ns + ns + delim), store3._delim = delim, this[ns] || (this[ns] = store3), !singleArea))\n              for (var name in _.areas)\n                store3.area(name, _.areas[name]);\n            return store3;\n          },\n          isFake: function(force) {\n            return force ? (this._real = this._area, this._area = _.storage(\"fake\")) : force === !1 && (this._area = this._real || this._area), this._area.name === \"fake\";\n          },\n          toString: function() {\n            return \"store\" + (this._ns ? \".\" + this.namespace() : \"\") + \"[\" + this._id + \"]\";\n          },\n          // storage functions\n          has: function(key) {\n            return this._area.has ? this._area.has(this._in(key)) : this._in(key) in this._area;\n          },\n          size: function() {\n            return this.keys().length;\n          },\n          each: function(fn, fill) {\n            for (var i = 0, m = _.length(this._area); i < m; i++) {\n              var key = this._out(_.key(this._area, i));\n              if (key !== void 0 && fn.call(this, key, this.get(key), fill) === !1)\n                break;\n              m > _.length(this._area) && (m--, i--);\n            }\n            return fill || this;\n          },\n          keys: function(fillList) {\n            return this.each(function(k, v, list) {\n              list.push(k);\n            }, fillList || []);\n          },\n          get: function(key, alt) {\n            var s = _.get(this._area, this._in(key)), fn;\n            return typeof alt == \"function\" && (fn = alt, alt = null), s !== null ? _.parse(s, fn) : alt ?? s;\n          },\n          getAll: function(fillObj) {\n            return this.each(function(k, v, all) {\n              all[k] = v;\n            }, fillObj || {});\n          },\n          transact: function(key, fn, alt) {\n            var val = this.get(key, alt), ret = fn(val);\n            return this.set(key, ret === void 0 ? val : ret), this;\n          },\n          set: function(key, data, overwrite) {\n            var d = this.get(key), replacer;\n            return d != null && overwrite === !1 ? data : (typeof overwrite == \"function\" && (replacer = overwrite, overwrite = void 0), _.set(this._area, this._in(key), _.stringify(data, replacer), overwrite) || d);\n          },\n          setAll: function(data, overwrite) {\n            var changed, val;\n            for (var key in data)\n              val = data[key], this.set(key, val, overwrite) !== val && (changed = !0);\n            return changed;\n          },\n          add: function(key, data, replacer) {\n            var d = this.get(key);\n            if (d instanceof Array)\n              data = d.concat(data);\n            else if (d !== null) {\n              var type = typeof d;\n              if (type === typeof data && type === \"object\") {\n                for (var k in data)\n                  d[k] = data[k];\n                data = d;\n              } else\n                data = d + data;\n            }\n            return _.set(this._area, this._in(key), _.stringify(data, replacer)), data;\n          },\n          remove: function(key, alt) {\n            var d = this.get(key, alt);\n            return _.remove(this._area, this._in(key)), d;\n          },\n          clear: function() {\n            return this._ns ? this.each(function(k) {\n              _.remove(this._area, this._in(k));\n            }, 1) : _.clear(this._area), this;\n          },\n          clearAll: function() {\n            var area = this._area;\n            for (var id in _.areas)\n              _.areas.hasOwnProperty(id) && (this._area = _.areas[id], this.clear());\n            return this._area = area, this;\n          },\n          // internal use functions\n          _in: function(k) {\n            return typeof k != \"string\" && (k = _.stringify(k)), this._ns ? this._ns + k : k;\n          },\n          _out: function(k) {\n            return this._ns ? k && k.indexOf(this._ns) === 0 ? k.substring(this._ns.length) : void 0 : (\n              // so each() knows to skip it\n              k\n            );\n          }\n        },\n        // end _.storeAPI\n        storage: function(name) {\n          return _.inherit(_.storageAPI, { items: {}, name });\n        },\n        storageAPI: {\n          length: 0,\n          has: function(k) {\n            return this.items.hasOwnProperty(k);\n          },\n          key: function(i) {\n            var c = 0;\n            for (var k in this.items)\n              if (this.has(k) && i === c++)\n                return k;\n          },\n          setItem: function(k, v) {\n            this.has(k) || this.length++, this.items[k] = v;\n          },\n          removeItem: function(k) {\n            this.has(k) && (delete this.items[k], this.length--);\n          },\n          getItem: function(k) {\n            return this.has(k) ? this.items[k] : null;\n          },\n          clear: function() {\n            for (var k in this.items)\n              this.removeItem(k);\n          }\n        }\n        // end _.storageAPI\n      }, store2 = (\n        // safely set this up (throws error in IE10/32bit mode for local files)\n        _.Store(\"local\", (function() {\n          try {\n            return localStorage;\n          } catch {\n          }\n        })())\n      );\n      store2.local = store2, store2._ = _, store2.area(\"session\", (function() {\n        try {\n          return sessionStorage;\n        } catch {\n        }\n      })()), store2.area(\"page\", _.storage(\"page\")), typeof define == \"function\" && define.amd !== void 0 ? define(\"store2\", [], function() {\n        return store2;\n      }) : typeof module < \"u\" && module.exports ? module.exports = store2 : (window2.store && (_.conflict = window2.store), window2.store = store2);\n    })(exports, exports && exports.define);\n  }\n});\n\n// src/manager-api/root.tsx\nimport React4, {\n  Component,\n  Fragment,\n  useCallback as useCallback2,\n  useContext,\n  useEffect,\n  useMemo,\n  useRef as useRef2,\n  useState\n} from \"react\";\nimport {\n  DOCS_PREPARED as DOCS_PREPARED2,\n  SET_STORIES as SET_STORIES2,\n  SHARED_STATE_CHANGED,\n  SHARED_STATE_SET,\n  STORY_CHANGED as STORY_CHANGED2,\n  STORY_PREPARED as STORY_PREPARED2\n} from \"storybook/internal/core-events\";\n\n// src/manager-api/context.ts\nimport { createContext as ReactCreateContext } from \"react\";\nvar createContext = ({ api, state }) => ReactCreateContext({ api, state });\n\n// src/manager-api/lib/merge.ts\nimport { logger } from \"storybook/internal/client-logger\";\nvar merge_default = (a, ...b) => {\n  let target = {};\n  target = mergeWith(\n    {},\n    a,\n    (objValue, srcValue) => {\n      if (Array.isArray(srcValue) && Array.isArray(objValue))\n        return srcValue.forEach((s) => {\n          objValue.find((o) => o === s || isEqual(o, s)) || objValue.push(s);\n        }), objValue;\n      if (Array.isArray(objValue))\n        return logger.log([\"the types mismatch, picking\", objValue]), objValue;\n    }\n  );\n  for (let obj of b)\n    target = mergeWith(target, obj, (objValue, srcValue) => {\n      if (Array.isArray(srcValue) && Array.isArray(objValue))\n        return srcValue.forEach((s) => {\n          objValue.find((o) => o === s || isEqual(o, s)) || objValue.push(s);\n        }), objValue;\n      if (Array.isArray(objValue))\n        return logger.log([\"the types mismatch, picking\", objValue]), objValue;\n    });\n  return target;\n}, noArrayMerge = (a, ...b) => {\n  let target = {};\n  target = mergeWith(\n    {},\n    a,\n    (objValue, srcValue) => {\n      if (Array.isArray(srcValue))\n        return srcValue;\n    }\n  );\n  for (let obj of b)\n    target = mergeWith(target, obj, (objValue, srcValue) => {\n      if (Array.isArray(srcValue))\n        return srcValue;\n    });\n  return target;\n};\n\n// src/manager-api/initial-state.ts\nvar main = (...additions) => additions.reduce((acc, item) => merge_default(acc, item), {}), initial_state_default = main;\n\n// src/manager-api/lib/addons.ts\nimport { logger as logger2 } from \"storybook/internal/client-logger\";\nimport { SET_CONFIG } from \"storybook/internal/core-events\";\nimport { Addon_TypesEnum } from \"storybook/internal/types\";\nimport { global } from \"@storybook/global\";\n\n// src/manager-api/lib/storybook-channel-mock.ts\nimport { Channel } from \"storybook/internal/channels\";\nfunction mockChannel() {\n  let transport = {\n    setHandler: () => {\n    },\n    send: () => {\n    }\n  };\n  return new Channel({ transport });\n}\n\n// src/manager-api/lib/addons.ts\nvar AddonStore = class {\n  constructor() {\n    this.loaders = {};\n    this.elements = {};\n    this.config = {};\n    this.getChannel = () => (this.channel || this.setChannel(mockChannel()), this.channel);\n    this.ready = () => this.promise;\n    this.hasChannel = () => !!this.channel;\n    this.setChannel = (channel) => {\n      this.channel = channel, this.resolve();\n    };\n    this.setConfig = (value) => {\n      Object.assign(this.config, value), this.hasChannel() ? this.getChannel().emit(SET_CONFIG, this.config) : this.ready().then((channel) => {\n        channel.emit(SET_CONFIG, this.config);\n      });\n    };\n    this.getConfig = () => this.config;\n    /**\n     * Registers an addon loader function.\n     *\n     * @param {string} id - The id of the addon loader.\n     * @param {(api: API) => void} callback - The function that will be called to register the addon.\n     * @returns {void}\n     */\n    this.register = (id, callback) => {\n      this.loaders[id] && logger2.warn(`${id} was loaded twice, this could have bad side-effects`), this.loaders[id] = callback;\n    };\n    this.loadAddons = (api) => {\n      Object.values(this.loaders).forEach((value) => value(api));\n    };\n    this.promise = new Promise((res) => {\n      this.resolve = () => res(this.getChannel());\n    });\n  }\n  getElements(type) {\n    return this.elements[type] || (this.elements[type] = {}), this.elements[type];\n  }\n  /**\n   * Adds an addon to the addon store.\n   *\n   * @param {string} id - The id of the addon.\n   * @param {Addon_Type} addon - The addon to add.\n   * @returns {void}\n   */\n  add(id, addon) {\n    let { type } = addon, collection = this.getElements(type);\n    collection[id] = { ...addon, id };\n  }\n  experimental_getRegisteredAddons() {\n    return Object.keys(this.loaders);\n  }\n}, KEY = \"__STORYBOOK_ADDONS_MANAGER\";\nfunction getAddonsStore() {\n  return global[KEY] || (global[KEY] = new AddonStore()), global[KEY];\n}\nvar addons = getAddonsStore();\n\n// src/manager-api/modules/addons.ts\nvar addons_exports = {};\n__export(addons_exports, {\n  ensurePanel: () => ensurePanel,\n  init: () => init\n});\nimport { Addon_TypesEnum as Addon_TypesEnum2 } from \"storybook/internal/types\";\nfunction ensurePanel(panels, selectedPanel, currentPanel) {\n  let keys2 = Object.keys(panels);\n  return keys2.indexOf(selectedPanel) >= 0 ? selectedPanel : keys2.length ? keys2[0] : currentPanel;\n}\nvar init = ({ provider, store: store2, fullAPI }) => {\n  let api = {\n    getElements: (type) => provider.getElements(type),\n    getSelectedPanel: () => {\n      let { selectedPanel } = store2.getState();\n      return ensurePanel(api.getElements(Addon_TypesEnum2.PANEL), selectedPanel, selectedPanel);\n    },\n    setSelectedPanel: (panelName) => {\n      store2.setState({ selectedPanel: panelName }, { persistence: \"session\" });\n    },\n    setAddonState(addonId, newStateOrMerger, options) {\n      let merger = typeof newStateOrMerger == \"function\" ? newStateOrMerger : () => newStateOrMerger;\n      return store2.setState(\n        (s) => ({ ...s, addons: { ...s.addons, [addonId]: merger(s.addons[addonId]) } }),\n        options\n      ).then(() => api.getAddonState(addonId));\n    },\n    getAddonState: (addonId) => store2.getState().addons[addonId] || globalThis?.STORYBOOK_ADDON_STATE[addonId]\n  };\n  return {\n    api,\n    state: {\n      selectedPanel: ensurePanel(\n        api.getElements(Addon_TypesEnum2.PANEL),\n        store2.getState().selectedPanel\n      ),\n      addons: {}\n    }\n  };\n};\n\n// src/manager-api/modules/channel.ts\nvar channel_exports = {};\n__export(channel_exports, {\n  init: () => init2\n});\nvar init2 = ({ provider }) => ({ api: {\n  getChannel: () => provider.channel,\n  on: (type, handler) => (provider.channel?.on(type, handler), () => provider.channel?.off(type, handler)),\n  off: (type, handler) => provider.channel?.off(type, handler),\n  once: (type, handler) => provider.channel?.once(type, handler),\n  emit: (type, data, ...args) => {\n    data?.options?.target && data.options.target !== \"storybook-preview-iframe\" && !data.options.target.startsWith(\"storybook-ref-\") && (data.options.target = data.options.target !== \"storybook_internal\" ? `storybook-ref-${data.options.target}` : \"storybook-preview-iframe\"), provider.channel?.emit(type, data, ...args);\n  }\n}, state: {} });\n\n// src/manager-api/modules/globals.ts\nvar globals_exports = {};\n__export(globals_exports, {\n  init: () => init4\n});\nimport { logger as logger4 } from \"storybook/internal/client-logger\";\nimport { GLOBALS_UPDATED, SET_GLOBALS, UPDATE_GLOBALS } from \"storybook/internal/core-events\";\n\n// src/manager-api/lib/events.ts\nimport { logger as logger3 } from \"storybook/internal/client-logger\";\n\n// src/manager-api/modules/refs.ts\nvar refs_exports = {};\n__export(refs_exports, {\n  defaultStoryMapper: () => defaultStoryMapper,\n  getSourceType: () => getSourceType,\n  init: () => init3\n});\nimport { global as global2 } from \"@storybook/global\";\n\n// src/manager-api/lib/stories.ts\nimport { sanitize } from \"storybook/internal/csf\";\nvar import_memoizerific = __toESM(require_memoizerific(), 1);\n\n// src/manager-api/lib/intersect.ts\nvar intersect_default = (a, b) => !Array.isArray(a) || !Array.isArray(b) || !a.length || !b.length ? [] : a.reduce((acc, aValue) => (b.includes(aValue) && acc.push(aValue), acc), []);\n\n// src/manager-api/lib/stories.ts\nvar TITLE_PATH_SEPARATOR = /\\s*\\/\\s*/, denormalizeStoryParameters = ({\n  globalParameters,\n  kindParameters,\n  stories\n}) => mapValues(stories, (storyData) => ({\n  ...storyData,\n  parameters: combineParameters(\n    globalParameters,\n    kindParameters[storyData.kind],\n    storyData.parameters\n  )\n})), transformSetStoriesStoryDataToPreparedStoryIndex = (stories) => ({ v: 5, entries: Object.entries(stories).reduce(\n  (acc, [id, story]) => {\n    if (!story)\n      return acc;\n    let { docsOnly, fileName, ...parameters } = story.parameters, base = {\n      title: story.kind,\n      id,\n      name: story.name,\n      importPath: fileName\n    };\n    if (docsOnly)\n      acc[id] = {\n        type: \"docs\",\n        tags: [\"stories-mdx\"],\n        storiesImports: [],\n        ...base\n      };\n    else {\n      let { argTypes, args, initialArgs } = story;\n      acc[id] = {\n        type: \"story\",\n        subtype: \"story\",\n        ...base,\n        parameters,\n        argTypes,\n        args,\n        initialArgs\n      };\n    }\n    return acc;\n  },\n  {}\n) }), transformStoryIndexV2toV3 = (index) => ({\n  v: 3,\n  stories: Object.values(index.stories).reduce(\n    (acc, entry) => (acc[entry.id] = {\n      ...entry,\n      title: entry.kind,\n      name: entry.name || entry.story,\n      importPath: entry.parameters.fileName || \"\"\n    }, acc),\n    {}\n  )\n}), transformStoryIndexV3toV4 = (index) => {\n  let countByTitle = countBy(Object.values(index.stories), (item) => item.title);\n  return {\n    v: 4,\n    entries: Object.values(index.stories).reduce(\n      (acc, entry) => {\n        let type = \"story\";\n        return (entry.parameters?.docsOnly || entry.name === \"Page\" && countByTitle[entry.title] === 1) && (type = \"docs\"), acc[entry.id] = {\n          type,\n          ...type === \"docs\" && { tags: [\"stories-mdx\"], storiesImports: [] },\n          ...entry\n        }, delete acc[entry.id].story, delete acc[entry.id].kind, acc;\n      },\n      {}\n    )\n  };\n}, transformStoryIndexV4toV5 = (index) => ({\n  v: 5,\n  entries: Object.values(index.entries).reduce(\n    (acc, entry) => (acc[entry.id] = {\n      ...entry,\n      tags: entry.tags ? [\"dev\", \"test\", ...entry.tags] : [\"dev\"]\n    }, acc),\n    {}\n  )\n}), transformStoryIndexToStoriesHash = (input, { provider, docsOptions, filters, allStatuses }) => {\n  if (!input.v)\n    throw new Error(\"Composition: Missing stories.json version\");\n  let index = input;\n  index = index.v === 2 ? transformStoryIndexV2toV3(index) : index, index = index.v === 3 ? transformStoryIndexV3toV4(index) : index, index = index.v === 4 ? transformStoryIndexV4toV5(index) : index, index = index;\n  let indexEntries = Object.values(index.entries), filterFunctions = Object.values(filters), entryValues = indexEntries.filter((entry) => {\n    let statuses = allStatuses[entry.id] ?? {};\n    return Object.values(statuses).some(({ value }) => value === \"status-value:error\") || filterFunctions.every((fn) => fn({ ...entry, statuses })) ? !0 : indexEntries.filter((item) => \"parent\" in item && item.parent === entry.id).some((child) => filterFunctions.every((fn) => fn({ ...child, statuses })));\n  }), { sidebar = {} } = provider.getConfig(), { showRoots, collapsedRoots = [], renderLabel } = sidebar, setShowRoots = typeof showRoots < \"u\", storiesHashOutOfOrder = entryValues.reduce((acc, item) => {\n    if (docsOptions.docsMode && item.type !== \"docs\")\n      return acc;\n    let { title } = item, groups = title.trim().split(TITLE_PATH_SEPARATOR), root = (!setShowRoots || showRoots) && groups.length > 1 ? [groups.shift()] : [], names = [...root, ...groups], paths = names.reduce((list, name, idx) => {\n      let parent = idx > 0 && list[idx - 1], id = sanitize(parent ? `${parent}-${name}` : name);\n      if (name.trim() === \"\")\n        throw new Error(dedent`Invalid title ${title} ending in slash.`);\n      if (parent === id)\n        throw new Error(\n          dedent`\n          Invalid part '${name}', leading to id === parentId ('${id}'), inside title '${title}'\n\n          Did you create a path that uses the separator char accidentally, such as 'Vue <docs/>' where '/' is a separator char? See https://github.com/storybookjs/storybook/issues/6128\n          `\n        );\n      return list.push(id), list;\n    }, []);\n    return paths.forEach((id, idx) => {\n      let childId = paths[idx + 1] || item.id;\n      root.length && idx === 0 ? acc[id] = merge_default(acc[id] || {}, {\n        type: \"root\",\n        id,\n        name: names[idx],\n        tags: [],\n        depth: idx,\n        renderLabel,\n        startCollapsed: collapsedRoots.includes(id),\n        // Note that this will later get appended to the previous list of children (see below)\n        children: [childId]\n      }) : (!acc[id] || acc[id].type === \"component\") && idx === paths.length - 1 ? acc[id] = merge_default(acc[id] || {}, {\n        type: \"component\",\n        id,\n        name: names[idx],\n        tags: [],\n        parent: paths[idx - 1],\n        depth: idx,\n        renderLabel,\n        ...childId && {\n          children: [childId]\n        }\n      }) : acc[id] = merge_default(acc[id] || {}, {\n        type: \"group\",\n        id,\n        name: names[idx],\n        tags: [],\n        parent: paths[idx - 1],\n        depth: idx,\n        renderLabel,\n        ...childId && {\n          children: [childId]\n        }\n      });\n    }), acc[item.id] = {\n      tags: [],\n      ...item,\n      depth: paths.length,\n      parent: \"parent\" in item ? item.parent : paths[paths.length - 1],\n      renderLabel,\n      prepared: !!item.parameters\n    }, acc;\n  }, {});\n  function addItem(acc, item) {\n    if (acc[item.id] || (acc[item.id] = item, \"children\" in item && item.children && (item.children.forEach((childId) => addItem(acc, storiesHashOutOfOrder[childId])), item.tags = item.children.reduce((currentTags, childId) => currentTags === null ? acc[childId].tags : intersect_default(currentTags, acc[childId].tags), null) || [])), item.type === \"component\") {\n      let firstChild = acc[item.children[0]];\n      firstChild && \"importPath\" in firstChild && (item.importPath = firstChild.importPath);\n    }\n    return acc;\n  }\n  let storiesHash = Object.values(storiesHashOutOfOrder).filter((i) => i.type !== \"root\" && !i.parent).reduce((acc, item) => addItem(acc, item), {});\n  return storiesHash = Object.values(storiesHashOutOfOrder).filter((i) => i.type === \"root\").reduce(addItem, storiesHash), storiesHash = Object.values(storiesHash).reduce((acc, item) => {\n    if (item.type === \"story\" && item.subtype === \"test\") {\n      let story = acc[item.parent], component = acc[story.parent];\n      acc[component.id] = {\n        ...component,\n        // Remove test from the component node as it will be attached to the story node instead\n        children: component.children && component.children.filter((id) => id !== item.id)\n      }, acc[story.id] = {\n        ...story,\n        // Add test to the story node\n        children: (story.children || []).concat(item.id)\n      }, acc[item.id] = {\n        ...item,\n        depth: item.depth + 1\n      };\n    } else\n      acc[item.id] = item;\n    return acc;\n  }, {}), storiesHash;\n}, addPreparedStories = (newHash, oldHash) => oldHash ? Object.fromEntries(\n  Object.entries(newHash).map(([id, newEntry]) => {\n    let oldEntry = oldHash[id];\n    return newEntry.type === \"story\" && oldEntry?.type === \"story\" && oldEntry.prepared ? (\"children\" in oldEntry && delete oldEntry.children, [id, { ...oldEntry, ...newEntry, prepared: !0 }]) : [id, newEntry];\n  })\n) : newHash, getComponentLookupList = (0, import_memoizerific.default)(1)((hash) => Object.entries(hash).reduce((acc, i) => {\n  let value = i[1];\n  return value.type === \"component\" && acc.push([...value.children]), acc;\n}, [])), getStoriesLookupList = (0, import_memoizerific.default)(1)((hash) => Object.keys(hash).filter((k) => [\"story\", \"docs\"].includes(hash[k].type)));\n\n// src/manager-api/modules/refs.ts\nvar { location, fetch } = global2, getSourceType = (source, refId) => {\n  let { origin: localOrigin, pathname: localPathname } = location, { origin: sourceOrigin, pathname: sourcePathname } = new URL(source), localFull = `${localOrigin + localPathname}`.replace(\"/iframe.html\", \"\").replace(/\\/$/, \"\"), sourceFull = `${sourceOrigin + sourcePathname}`.replace(\"/iframe.html\", \"\").replace(/\\/$/, \"\");\n  return localFull === sourceFull ? [\"local\", sourceFull] : refId || source ? [\"external\", sourceFull] : [null, null];\n}, defaultStoryMapper = (b, a) => ({ ...a, kind: a.kind.replace(\"|\", \"/\") }), addRefIds = (input, ref) => Object.entries(input).reduce((acc, [id, item]) => ({ ...acc, [id]: { ...item, refId: ref.id } }), {});\nasync function handleRequest(request) {\n  if (!request)\n    return {};\n  try {\n    let response = await request;\n    if (response === !1 || response === !0)\n      throw new Error(\"Unexpected boolean response\");\n    if (!response.ok)\n      throw new Error(`Unexpected response not OK: ${response.statusText}`);\n    let json = await response.json();\n    return json.entries || json.stories ? { storyIndex: json } : json;\n  } catch (err) {\n    return { indexError: err };\n  }\n}\nvar parseUrl = (url) => {\n  let credentialsRegex = /https?:\\/\\/(.+:.+)@/, cleanUrl = url, authorization, [, credentials] = url.match(credentialsRegex) || [];\n  return credentials && (cleanUrl = url.replace(`${credentials}@`, \"\"), authorization = btoa(`${credentials}`)), {\n    url: cleanUrl,\n    authorization\n  };\n}, map = (input, ref, options) => {\n  let { storyMapper } = options;\n  return storyMapper ? Object.entries(input).reduce((acc, [id, item]) => ({ ...acc, [id]: storyMapper(ref, item) }), {}) : input;\n}, init3 = ({ store: store2, provider, singleStory, docsOptions = {} }, { runCheck = !0 } = {}) => {\n  let api = {\n    findRef: (source) => {\n      let refs2 = api.getRefs();\n      return Object.values(refs2).find(({ url }) => url.match(source));\n    },\n    changeRefVersion: async (id, url) => {\n      let { versions, title } = api.getRefs()[id], ref = {\n        id,\n        url,\n        versions,\n        title,\n        index: {},\n        filteredIndex: {},\n        expanded: !0\n      };\n      await api.setRef(id, { ...ref, type: \"unknown\" }, !1), await api.checkRef(ref);\n    },\n    changeRefState: (id, previewInitialized) => {\n      let { [id]: ref, ...updated } = api.getRefs();\n      updated[id] = { ...ref, previewInitialized }, store2.setState({\n        refs: updated\n      });\n    },\n    checkRef: async (ref) => {\n      let { id, url, version: version2, type } = ref, isPublic = type === \"server-checked\", loadedData = {}, query = version2 ? `?version=${version2}` : \"\", credentials = isPublic ? \"omit\" : \"include\", urlParseResult = parseUrl(url), headers = {\n        Accept: \"application/json\"\n      };\n      urlParseResult.authorization && Object.assign(headers, {\n        Authorization: `Basic ${urlParseResult.authorization}`\n      });\n      let [indexResult, storiesResult] = await Promise.all(\n        [\"index.json\", \"stories.json\"].map(\n          async (file) => handleRequest(\n            fetch(`${urlParseResult.url}/${file}${query}`, {\n              headers,\n              credentials\n            })\n          )\n        )\n      );\n      if (!indexResult.indexError || !storiesResult.indexError) {\n        let metadata = await handleRequest(\n          fetch(`${urlParseResult.url}/metadata.json${query}`, {\n            headers,\n            credentials,\n            cache: \"no-cache\"\n          }).catch(() => !1)\n        );\n        Object.assign(loadedData, {\n          ...indexResult.indexError ? storiesResult : indexResult,\n          ...!metadata.indexError && metadata\n        });\n      } else isPublic || (loadedData.indexError = {\n        message: dedent`\n            Error: Loading of ref failed\n              at fetch (lib/api/src/modules/refs.ts)\n\n            URL: ${urlParseResult.url}\n\n            We weren't able to load the above URL,\n            it's possible a CORS error happened.\n\n            Please check your dev-tools network tab.\n          `\n      });\n      let versions = ref.versions && Object.keys(ref.versions).length ? ref.versions : loadedData.versions;\n      await api.setRef(id, {\n        id,\n        url: urlParseResult.url,\n        ...loadedData,\n        ...versions ? { versions } : {},\n        type: loadedData.storyIndex ? \"lazy\" : \"auto-inject\"\n      });\n    },\n    getRefs: () => {\n      let { refs: refs2 = {} } = store2.getState();\n      return refs2;\n    },\n    setRef: async (id, { storyIndex, setStoriesData, ...rest }, ready = !1) => {\n      if (singleStory)\n        return;\n      let internal_index, index, filteredIndex, { filters } = store2.getState(), { storyMapper = defaultStoryMapper } = provider.getConfig(), ref = api.getRefs()[id];\n      (storyIndex || setStoriesData) && (internal_index = setStoriesData ? transformSetStoriesStoryDataToPreparedStoryIndex(\n        map(setStoriesData, ref, { storyMapper })\n      ) : storyIndex, filteredIndex = transformStoryIndexToStoriesHash(storyIndex, {\n        provider,\n        docsOptions,\n        filters,\n        allStatuses: {}\n      }), index = transformStoryIndexToStoriesHash(storyIndex, {\n        provider,\n        docsOptions,\n        filters: {},\n        allStatuses: {}\n      })), index && (index = addRefIds(index, ref)), filteredIndex && (filteredIndex = addRefIds(filteredIndex, ref)), await api.updateRef(id, { ...ref, ...rest, index, filteredIndex, internal_index });\n    },\n    updateRef: async (id, data) => {\n      let { [id]: ref, ...updated } = api.getRefs();\n      updated[id] = { ...ref, ...data };\n      let ordered = Object.keys(initialState2).reduce((obj, key) => (obj[key] = updated[key], obj), {});\n      await store2.setState({\n        refs: ordered\n      });\n    }\n  }, refs = !singleStory && global2.REFS || {}, initialState2 = refs;\n  return runCheck && new Promise(async (resolve) => {\n    for (let ref of Object.values(refs))\n      await api.checkRef({ ...ref, stories: {} });\n    resolve(void 0);\n  }), {\n    api,\n    state: {\n      refs: initialState2\n    }\n  };\n};\n\n// src/manager-api/lib/events.ts\nvar getEventMetadata = (context, fullAPI) => {\n  let { source, refId, type } = context, [sourceType, sourceLocation] = getSourceType(source, refId), ref;\n  (refId || sourceType === \"external\") && (ref = refId && fullAPI.getRefs()[refId] ? fullAPI.getRefs()[refId] : fullAPI.findRef(sourceLocation));\n  let meta = {\n    source,\n    sourceType,\n    sourceLocation,\n    refId,\n    ref,\n    type\n  };\n  switch (!0) {\n    case typeof refId == \"string\":\n    case sourceType === \"local\":\n    case sourceType === \"external\":\n      return meta;\n    // if we couldn't find the source, something risky happened, we ignore the input, and log a warning\n    default:\n      return logger3.warn(`Received a ${type} frame that was not configured as a ref`), null;\n  }\n};\n\n// src/manager-api/modules/globals.ts\nvar init4 = ({ store: store2, fullAPI, provider }) => {\n  let api = {\n    getGlobals() {\n      return store2.getState().globals;\n    },\n    getUserGlobals() {\n      return store2.getState().userGlobals;\n    },\n    getStoryGlobals() {\n      return store2.getState().storyGlobals;\n    },\n    getGlobalTypes() {\n      return store2.getState().globalTypes;\n    },\n    updateGlobals(newGlobals) {\n      provider.channel?.emit(UPDATE_GLOBALS, {\n        globals: newGlobals,\n        options: {\n          target: \"storybook-preview-iframe\"\n        }\n      });\n    }\n  }, state = {\n    globals: {},\n    userGlobals: {},\n    storyGlobals: {},\n    globalTypes: {}\n  }, updateGlobals = ({\n    globals,\n    storyGlobals,\n    userGlobals\n  }) => {\n    let {\n      globals: currentGlobals,\n      userGlobals: currentUserGlobals,\n      storyGlobals: currentStoryGlobals\n    } = store2.getState();\n    dequal(globals, currentGlobals) || store2.setState({ globals }), dequal(userGlobals, currentUserGlobals) || store2.setState({ userGlobals }), dequal(storyGlobals, currentStoryGlobals) || store2.setState({ storyGlobals });\n  };\n  return provider.channel?.on(\n    GLOBALS_UPDATED,\n    function({ globals, storyGlobals, userGlobals }) {\n      let { ref } = getEventMetadata(this, fullAPI);\n      ref ? logger4.warn(\n        \"received a GLOBALS_UPDATED from a non-local ref. This is not currently supported.\"\n      ) : updateGlobals({ globals, storyGlobals, userGlobals });\n    }\n  ), provider.channel?.on(\n    SET_GLOBALS,\n    function({ globals, globalTypes }) {\n      let { ref } = getEventMetadata(this, fullAPI), currentGlobals = store2.getState()?.globals;\n      ref ? Object.keys(globals).length > 0 && logger4.warn(\"received globals from a non-local ref. This is not currently supported.\") : store2.setState({ globals, userGlobals: globals, globalTypes }), currentGlobals && Object.keys(currentGlobals).length !== 0 && !dequal(globals, currentGlobals) && api.updateGlobals(currentGlobals);\n    }\n  ), {\n    api,\n    state\n  };\n};\n\n// src/manager-api/modules/layout.ts\nvar layout_exports = {};\n__export(layout_exports, {\n  ActiveTabs: () => ActiveTabs,\n  defaultLayoutState: () => defaultLayoutState,\n  focusableUIElements: () => focusableUIElements,\n  init: () => init5\n});\nimport { SET_CONFIG as SET_CONFIG2 } from \"storybook/internal/core-events\";\nimport { global as global3 } from \"@storybook/global\";\nimport { create } from \"storybook/theming/create\";\nvar { document: document2 } = global3, isFunction = (val) => typeof val == \"function\", ActiveTabs = {\n  SIDEBAR: \"sidebar\",\n  CANVAS: \"canvas\",\n  ADDONS: \"addons\"\n}, defaultLayoutState = {\n  ui: {\n    enableShortcuts: !0\n  },\n  layout: {\n    initialActive: ActiveTabs.CANVAS,\n    showToolbar: !0,\n    navSize: 300,\n    bottomPanelHeight: 300,\n    rightPanelWidth: 400,\n    recentVisibleSizes: {\n      navSize: 300,\n      bottomPanelHeight: 300,\n      rightPanelWidth: 400\n    },\n    panelPosition: \"bottom\",\n    showTabs: !0\n  },\n  layoutCustomisations: {\n    showSidebar: void 0,\n    showToolbar: void 0\n  },\n  selectedPanel: void 0,\n  theme: create()\n}, focusableUIElements = {\n  storySearchField: \"storybook-explorer-searchfield\",\n  storyListMenu: \"storybook-explorer-menu\",\n  storyPanelRoot: \"storybook-panel-root\"\n}, getIsNavShown = (state) => state.layout.navSize > 0, getIsPanelShown = (state) => {\n  let { bottomPanelHeight, rightPanelWidth, panelPosition } = state.layout;\n  return panelPosition === \"bottom\" && bottomPanelHeight > 0 || panelPosition === \"right\" && rightPanelWidth > 0;\n}, getIsFullscreen = (state) => !getIsNavShown(state) && !getIsPanelShown(state), getRecentVisibleSizes = (layoutState) => ({\n  navSize: layoutState.navSize > 0 ? layoutState.navSize : layoutState.recentVisibleSizes.navSize,\n  bottomPanelHeight: layoutState.bottomPanelHeight > 0 ? layoutState.bottomPanelHeight : layoutState.recentVisibleSizes.bottomPanelHeight,\n  rightPanelWidth: layoutState.rightPanelWidth > 0 ? layoutState.rightPanelWidth : layoutState.recentVisibleSizes.rightPanelWidth\n}), init5 = ({ store: store2, provider, singleStory }) => {\n  let api = {\n    toggleFullscreen(nextState) {\n      return store2.setState(\n        (state) => {\n          let isFullscreen = getIsFullscreen(state), shouldFullscreen = typeof nextState == \"boolean\" ? nextState : !isFullscreen;\n          return shouldFullscreen === isFullscreen ? { layout: state.layout } : shouldFullscreen ? {\n            layout: {\n              ...state.layout,\n              navSize: 0,\n              bottomPanelHeight: 0,\n              rightPanelWidth: 0,\n              recentVisibleSizes: getRecentVisibleSizes(state.layout)\n            }\n          } : {\n            layout: {\n              ...state.layout,\n              navSize: state.singleStory ? 0 : state.layout.recentVisibleSizes.navSize,\n              bottomPanelHeight: state.layout.recentVisibleSizes.bottomPanelHeight,\n              rightPanelWidth: state.layout.recentVisibleSizes.rightPanelWidth\n            }\n          };\n        },\n        { persistence: \"session\" }\n      );\n    },\n    togglePanel(nextState) {\n      return store2.setState(\n        (state) => {\n          let isPanelShown = getIsPanelShown(state), shouldShowPanel = typeof nextState == \"boolean\" ? nextState : !isPanelShown;\n          return shouldShowPanel === isPanelShown ? { layout: state.layout } : shouldShowPanel ? {\n            layout: {\n              ...state.layout,\n              bottomPanelHeight: state.layout.recentVisibleSizes.bottomPanelHeight,\n              rightPanelWidth: state.layout.recentVisibleSizes.rightPanelWidth\n            }\n          } : {\n            layout: {\n              ...state.layout,\n              bottomPanelHeight: 0,\n              rightPanelWidth: 0,\n              recentVisibleSizes: getRecentVisibleSizes(state.layout)\n            }\n          };\n        },\n        { persistence: \"session\" }\n      );\n    },\n    togglePanelPosition(position) {\n      return store2.setState(\n        (state) => {\n          let nextPosition = position || (state.layout.panelPosition === \"right\" ? \"bottom\" : \"right\");\n          return {\n            layout: {\n              ...state.layout,\n              panelPosition: nextPosition,\n              bottomPanelHeight: state.layout.recentVisibleSizes.bottomPanelHeight,\n              rightPanelWidth: state.layout.recentVisibleSizes.rightPanelWidth\n            }\n          };\n        },\n        { persistence: \"permanent\" }\n      );\n    },\n    toggleNav(nextState) {\n      return store2.setState(\n        (state) => {\n          if (state.singleStory)\n            return { layout: state.layout };\n          let isNavShown = getIsNavShown(state), shouldShowNav = typeof nextState == \"boolean\" ? nextState : !isNavShown;\n          return shouldShowNav === isNavShown ? { layout: state.layout } : shouldShowNav ? {\n            layout: {\n              ...state.layout,\n              navSize: state.layout.recentVisibleSizes.navSize\n            }\n          } : {\n            layout: {\n              ...state.layout,\n              navSize: 0,\n              recentVisibleSizes: getRecentVisibleSizes(state.layout)\n            }\n          };\n        },\n        { persistence: \"session\" }\n      );\n    },\n    toggleToolbar(toggled) {\n      return store2.setState(\n        (state) => {\n          let value = typeof toggled < \"u\" ? toggled : !state.layout.showToolbar;\n          return {\n            layout: {\n              ...state.layout,\n              showToolbar: value\n            }\n          };\n        },\n        { persistence: \"session\" }\n      );\n    },\n    setSizes({\n      navSize,\n      bottomPanelHeight,\n      rightPanelWidth\n    }) {\n      return store2.setState(\n        (state) => {\n          let nextLayoutState = {\n            ...state.layout,\n            navSize: navSize ?? state.layout.navSize,\n            bottomPanelHeight: bottomPanelHeight ?? state.layout.bottomPanelHeight,\n            rightPanelWidth: rightPanelWidth ?? state.layout.rightPanelWidth\n          };\n          return {\n            layout: {\n              ...nextLayoutState,\n              recentVisibleSizes: getRecentVisibleSizes(nextLayoutState)\n            }\n          };\n        },\n        { persistence: \"session\" }\n      );\n    },\n    /**\n     * Attempts to focus (and select) an element identified by its ID. It is the responsibility of\n     * the callee to ensure that the element is present in the DOM and that no focus trap is\n     * available. This API polls and attempts to perform the focus for a set duration (max 500ms),\n     * so that race conditions can be avoided with the current API design. Because this API is\n     * historically synchronous, it cannot report errors or failure to focus. It fails silently.\n     *\n     * @param elementId The id of the element to focus.\n     * @param select Whether to call select() on the element after focusing it.\n     */\n    focusOnUIElement(elementId, select) {\n      if (!elementId)\n        return;\n      let startTime = Date.now(), maxDuration = 500, pollInterval = 50, attemptFocus = () => {\n        let element = document2.getElementById(elementId);\n        return !element || (element.focus(), element !== document2.activeElement) ? !1 : (select && element.select?.(), !0);\n      };\n      if (attemptFocus())\n        return;\n      let intervalId = setInterval(() => {\n        if (Date.now() - startTime >= maxDuration) {\n          clearInterval(intervalId);\n          return;\n        }\n        attemptFocus() && clearInterval(intervalId);\n      }, pollInterval);\n    },\n    getInitialOptions() {\n      let { theme, selectedPanel, layoutCustomisations, ...options } = provider.getConfig();\n      return {\n        ...defaultLayoutState,\n        layout: {\n          ...toMerged(\n            defaultLayoutState.layout,\n            pick(options, Object.keys(defaultLayoutState.layout))\n          ),\n          ...singleStory && { navSize: 0 }\n        },\n        layoutCustomisations: {\n          ...defaultLayoutState.layoutCustomisations,\n          ...layoutCustomisations ?? {}\n        },\n        ui: toMerged(defaultLayoutState.ui, pick(options, Object.keys(defaultLayoutState.ui))),\n        selectedPanel: selectedPanel || defaultLayoutState.selectedPanel,\n        theme: theme || defaultLayoutState.theme\n      };\n    },\n    getIsFullscreen() {\n      return getIsFullscreen(store2.getState());\n    },\n    getIsPanelShown() {\n      return getIsPanelShown(store2.getState());\n    },\n    getIsNavShown() {\n      return getIsNavShown(store2.getState());\n    },\n    getShowToolbarWithCustomisations(showToolbar) {\n      let state = store2.getState();\n      return isFunction(state.layoutCustomisations.showToolbar) ? state.layoutCustomisations.showToolbar(state, showToolbar) ?? showToolbar : showToolbar;\n    },\n    getShowPanelWithCustomisations(showPanel) {\n      let state = store2.getState();\n      return isFunction(state.layoutCustomisations.showPanel) ? state.layoutCustomisations.showPanel(state, showPanel) ?? showPanel : showPanel;\n    },\n    getNavSizeWithCustomisations(navSize) {\n      let state = store2.getState();\n      if (isFunction(state.layoutCustomisations.showSidebar)) {\n        let shouldShowNav = state.layoutCustomisations.showSidebar(state, navSize !== 0);\n        if (navSize === 0 && shouldShowNav === !0)\n          return state.layout.recentVisibleSizes.navSize;\n        if (navSize !== 0 && shouldShowNav === !1)\n          return 0;\n      }\n      return navSize;\n    },\n    setOptions: (options) => {\n      let { layout, ui, selectedPanel, theme } = store2.getState();\n      if (!options)\n        return;\n      let updatedLayout = {\n        ...layout,\n        ...options.layout || {},\n        ...pick(options, Object.keys(layout)),\n        ...singleStory && { navSize: 0 }\n      }, updatedUi = {\n        ...ui,\n        ...options.ui,\n        ...toMerged(options.ui || {}, pick(options, Object.keys(ui)))\n      }, updatedTheme = {\n        ...theme,\n        ...options.theme\n      }, modification = {};\n      isEqual(ui, updatedUi) || (modification.ui = updatedUi), isEqual(layout, updatedLayout) || (modification.layout = updatedLayout), options.selectedPanel && !isEqual(selectedPanel, options.selectedPanel) && (modification.selectedPanel = options.selectedPanel), Object.keys(modification).length && store2.setState(modification, { persistence: \"permanent\" }), isEqual(theme, updatedTheme) || store2.setState({ theme: updatedTheme });\n    }\n  }, persisted = pick(store2.getState(), [\"layout\", \"selectedPanel\"]);\n  return provider.channel?.on(SET_CONFIG2, () => {\n    api.setOptions(merge_default(api.getInitialOptions(), persisted));\n  }), {\n    api,\n    state: merge_default(api.getInitialOptions(), persisted)\n  };\n};\n\n// src/manager-api/modules/notifications.ts\nvar notifications_exports = {};\n__export(notifications_exports, {\n  init: () => init6\n});\nvar init6 = ({ store: store2 }) => ({\n  api: {\n    addNotification: (newNotification) => {\n      store2.setState(({ notifications }) => {\n        let [existing, others] = partition(notifications, (n) => n.id === newNotification.id);\n        return existing.forEach((notification) => {\n          notification.onClear && notification.onClear({ dismissed: !1, timeout: !1 });\n        }), { notifications: [...others, newNotification] };\n      });\n    },\n    clearNotification: (notificationId) => {\n      store2.setState(({ notifications }) => {\n        let [matching, others] = partition(notifications, (n) => n.id === notificationId);\n        return matching.forEach((notification) => {\n          notification.onClear && notification.onClear({ dismissed: !1, timeout: !1 });\n        }), { notifications: others };\n      });\n    }\n  },\n  state: { notifications: [] }\n});\n\n// src/manager-api/modules/open-in-editor.tsx\nvar open_in_editor_exports = {};\n__export(open_in_editor_exports, {\n  init: () => init7\n});\nimport React from \"react\";\nimport {\n  OPEN_IN_EDITOR_REQUEST,\n  OPEN_IN_EDITOR_RESPONSE\n} from \"storybook/internal/core-events\";\nimport { FailedIcon } from \"@storybook/icons\";\nvar init7 = ({ provider, fullAPI }) => ({\n  api: {\n    openInEditor(payload) {\n      return new Promise((resolve) => {\n        let { file, line, column } = payload, handler = (res) => {\n          res.file === file && res.line === line && res.column === column && (provider.channel?.off(OPEN_IN_EDITOR_RESPONSE, handler), resolve(res));\n        };\n        provider.channel?.on(OPEN_IN_EDITOR_RESPONSE, handler), provider.channel?.emit(OPEN_IN_EDITOR_REQUEST, payload);\n      });\n    }\n  },\n  state: { notifications: [] },\n  init: async () => {\n    let { color } = await import(\"../theming/index.js\");\n    provider.channel?.on(OPEN_IN_EDITOR_RESPONSE, (payload) => {\n      payload.error !== null && fullAPI.addNotification({\n        id: \"open-in-editor-error\",\n        content: {\n          headline: \"Failed to open in editor\",\n          subHeadline: payload.error || \"Check the Storybook process on the command line for more details.\"\n        },\n        icon: React.createElement(FailedIcon, { color: color.negative }),\n        duration: 8e3\n      });\n    });\n  }\n});\n\n// src/manager-api/modules/provider.ts\nvar provider_exports = {};\n__export(provider_exports, {\n  init: () => init8\n});\nvar init8 = ({ provider, fullAPI }) => ({\n  api: provider.renderPreview ? { renderPreview: provider.renderPreview } : {},\n  state: {},\n  init: () => {\n    provider.handleAPI(fullAPI);\n  }\n});\n\n// src/manager-api/modules/settings.ts\nvar settings_exports = {};\n__export(settings_exports, {\n  init: () => init9\n});\nvar init9 = ({ store: store2, navigate, fullAPI }) => ({\n  state: { settings: { lastTrackedStoryId: null } },\n  api: {\n    closeSettings: () => {\n      let {\n        settings: { lastTrackedStoryId }\n      } = store2.getState();\n      lastTrackedStoryId ? fullAPI.selectStory(lastTrackedStoryId) : fullAPI.selectFirstStory();\n    },\n    changeSettingsTab: (path) => {\n      navigate(`/settings/${path}`);\n    },\n    isSettingsScreenActive: () => {\n      let { path } = fullAPI.getUrlState();\n      return !!(path || \"\").match(/^\\/settings/);\n    },\n    retrieveSelection() {\n      let { settings } = store2.getState();\n      return settings.lastTrackedStoryId;\n    },\n    storeSelection: async () => {\n      let { storyId, settings } = store2.getState();\n      await store2.setState({\n        settings: { ...settings, lastTrackedStoryId: storyId }\n      });\n    }\n  }\n});\n\n// src/manager-api/modules/shortcuts.ts\nvar shortcuts_exports = {};\n__export(shortcuts_exports, {\n  controlOrMetaKey: () => controlOrMetaKey2,\n  defaultShortcuts: () => defaultShortcuts,\n  init: () => init10,\n  isMacLike: () => isMacLike2,\n  keys: () => keys\n});\nvar import_copy_to_clipboard = __toESM(require_copy_to_clipboard(), 1);\nimport {\n  FORCE_REMOUNT,\n  PREVIEW_KEYDOWN,\n  STORIES_COLLAPSE_ALL,\n  STORIES_EXPAND_ALL\n} from \"storybook/internal/core-events\";\nimport { global as global5 } from \"@storybook/global\";\n\n// src/manager-api/lib/platform.ts\nimport { global as global4 } from \"@storybook/global\";\nvar { navigator: navigator2 } = global4, isMacLike = () => navigator2 && navigator2.platform ? !!navigator2.platform.match(/(Mac|iPhone|iPod|iPad)/i) : !1;\n\n// src/manager-api/lib/shortcut.ts\nvar controlOrMetaSymbol = () => isMacLike() ? \"\\u2318\" : \"ctrl\", controlOrMetaKey = () => isMacLike() ? \"meta\" : \"control\", optionOrAltSymbol = () => isMacLike() ? \"\\u2325\" : \"alt\", isShortcutTaken = (arr1, arr2) => JSON.stringify(arr1) === JSON.stringify(arr2), eventToShortcut = (e) => {\n  if ([\"Meta\", \"Alt\", \"Control\", \"Shift\", \"Tab\"].includes(e.key))\n    return null;\n  let keys2 = [];\n  e.altKey && keys2.push(\"alt\"), e.ctrlKey && keys2.push(\"control\"), e.metaKey && keys2.push(\"meta\"), e.shiftKey && keys2.push(\"shift\");\n  let codeUpper = e.code?.toUpperCase(), codeToCharMap = {\n    MINUS: \"-\",\n    EQUAL: \"=\",\n    BRACKETLEFT: \"[\",\n    BRACKETRIGHT: \"]\",\n    BACKSLASH: \"\\\\\",\n    SEMICOLON: \";\",\n    QUOTE: \"'\",\n    BACKQUOTE: \"`\",\n    COMMA: \",\",\n    PERIOD: \".\",\n    SLASH: \"/\"\n  }, codeChar = codeUpper ? codeUpper.startsWith(\"KEY\") && codeUpper.length === 4 ? codeUpper.replace(\"KEY\", \"\") : codeUpper.startsWith(\"DIGIT\") ? codeUpper.replace(\"DIGIT\", \"\") : codeToCharMap[codeUpper] : void 0;\n  if (e.key && e.key.length === 1 && e.key !== \" \") {\n    let key = e.key.toUpperCase(), code = codeChar;\n    code && code.length === 1 && code !== key ? keys2.push([key, code]) : keys2.push(key);\n  } else e.key === \"Dead\" && codeChar && keys2.push(codeChar);\n  return e.key === \" \" && keys2.push(\"space\"), e.key === \"Escape\" && keys2.push(\"escape\"), e.key === \"ArrowRight\" && keys2.push(\"ArrowRight\"), e.key === \"ArrowDown\" && keys2.push(\"ArrowDown\"), e.key === \"ArrowUp\" && keys2.push(\"ArrowUp\"), e.key === \"ArrowLeft\" && keys2.push(\"ArrowLeft\"), keys2.length > 0 ? keys2 : null;\n}, shortcutMatchesShortcut = (inputShortcut, shortcut) => !inputShortcut || !shortcut || (inputShortcut.join(\"\").startsWith(\"shift/\") && inputShortcut.shift(), inputShortcut.length !== shortcut.length) ? !1 : !inputShortcut.find(\n  (input, i) => Array.isArray(input) ? !input.includes(shortcut[i]) : input !== shortcut[i]\n), eventMatchesShortcut = (e, shortcut) => shortcutMatchesShortcut(eventToShortcut(e), shortcut), keyToSymbol = (key) => key === \"alt\" ? optionOrAltSymbol() : key === \"control\" ? \"\\u2303\" : key === \"meta\" ? \"\\u2318\" : key === \"shift\" ? \"\\u21E7\\u200B\" : key === \"Enter\" || key === \"Backspace\" || key === \"Esc\" || key === \"escape\" ? \"\" : key === \" \" ? \"SPACE\" : key === \"ArrowUp\" ? \"\\u2191\" : key === \"ArrowDown\" ? \"\\u2193\" : key === \"ArrowLeft\" ? \"\\u2190\" : key === \"ArrowRight\" ? \"\\u2192\" : key?.toUpperCase(), shortcutToHumanString = (shortcut) => shortcut.map(keyToSymbol).join(\" \"), shortcutToAriaKeyshortcuts = (shortcut) => shortcut.map((shortcut2) => shortcut2 === \"+\" ? \"plus\" : shortcut2 === \" \" ? \"space\" : shortcut2).join(\"+\");\n\n// src/manager-api/modules/shortcuts.ts\nvar { navigator: navigator3, document: document3 } = global5, isMacLike2 = () => navigator3 && navigator3.platform ? !!navigator3.platform.match(/(Mac|iPhone|iPod|iPad)/i) : !1, controlOrMetaKey2 = () => isMacLike2() ? \"meta\" : \"control\";\nfunction keys(o) {\n  return Object.keys(o);\n}\nvar defaultShortcuts = Object.freeze({\n  fullScreen: [\"alt\", \"F\"],\n  togglePanel: [\"alt\", \"A\"],\n  panelPosition: [\"alt\", \"D\"],\n  toggleNav: [\"alt\", \"S\"],\n  toolbar: [\"alt\", \"T\"],\n  search: [controlOrMetaKey2(), \"K\"],\n  focusNav: [\"1\"],\n  focusIframe: [\"2\"],\n  focusPanel: [\"3\"],\n  prevComponent: [\"alt\", \"ArrowUp\"],\n  nextComponent: [\"alt\", \"ArrowDown\"],\n  prevStory: [\"alt\", \"ArrowLeft\"],\n  nextStory: [\"alt\", \"ArrowRight\"],\n  shortcutsPage: [controlOrMetaKey2(), \"shift\", \",\"],\n  aboutPage: [controlOrMetaKey2(), \",\"],\n  escape: [\"escape\"],\n  // This one is not customizable\n  collapseAll: [controlOrMetaKey2(), \"shift\", \"ArrowUp\"],\n  expandAll: [controlOrMetaKey2(), \"shift\", \"ArrowDown\"],\n  remount: [\"alt\", \"R\"],\n  openInEditor: [\"alt\", \"shift\", \"E\"],\n  copyStoryLink: [\"alt\", \"shift\", \"L\"]\n  // TODO: bring this back once we want to add shortcuts for this\n  // copyStoryName: ['alt', 'shift', 'C'],\n}), addonsShortcuts = {};\nfunction shouldSkipShortcut(event) {\n  let target = event.target;\n  return !!(/input|textarea/i.test(target.tagName) || target.getAttribute(\"contenteditable\") !== null || target.closest(\"dialog[open]\"));\n}\nvar init10 = ({ store: store2, fullAPI, provider }) => {\n  let api = {\n    // Getting and setting shortcuts\n    getShortcutKeys() {\n      return store2.getState().shortcuts;\n    },\n    getDefaultShortcuts() {\n      return {\n        ...defaultShortcuts,\n        ...api.getAddonsShortcutDefaults()\n      };\n    },\n    getAddonsShortcuts() {\n      return addonsShortcuts;\n    },\n    getAddonsShortcutLabels() {\n      let labels = {};\n      return Object.entries(api.getAddonsShortcuts()).forEach(([actionName, { label }]) => {\n        labels[actionName] = label;\n      }), labels;\n    },\n    getAddonsShortcutDefaults() {\n      let defaults = {};\n      return Object.entries(api.getAddonsShortcuts()).forEach(([actionName, { defaultShortcut }]) => {\n        defaults[actionName] = defaultShortcut;\n      }), defaults;\n    },\n    async setShortcuts(shortcuts) {\n      return await store2.setState({ shortcuts }, { persistence: \"permanent\" }), shortcuts;\n    },\n    async restoreAllDefaultShortcuts() {\n      return api.setShortcuts(api.getDefaultShortcuts());\n    },\n    async setShortcut(action, value) {\n      let shortcuts = api.getShortcutKeys();\n      return await api.setShortcuts({ ...shortcuts, [action]: value }), value;\n    },\n    async setAddonShortcut(addon, shortcut) {\n      let shortcuts = api.getShortcutKeys();\n      return await api.setShortcuts({\n        ...shortcuts,\n        [`${addon}-${shortcut.actionName}`]: shortcut.defaultShortcut\n      }), addonsShortcuts[`${addon}-${shortcut.actionName}`] = shortcut, shortcut;\n    },\n    async restoreDefaultShortcut(action) {\n      let defaultShortcut = api.getDefaultShortcuts()[action];\n      return api.setShortcut(action, defaultShortcut);\n    },\n    // Listening to shortcut events\n    handleKeydownEvent(event) {\n      let shortcut = eventToShortcut(event), shortcuts = api.getShortcutKeys(), matchedFeature = keys(shortcuts).find(\n        (feature) => shortcutMatchesShortcut(shortcut, shortcuts[feature])\n      );\n      matchedFeature && api.handleShortcutFeature(matchedFeature, event);\n    },\n    // warning: event might not have a full prototype chain because it may originate from the channel\n    handleShortcutFeature(feature, event) {\n      let {\n        ui: { enableShortcuts },\n        storyId\n      } = store2.getState();\n      if (enableShortcuts)\n        switch (event?.preventDefault && event.preventDefault(), feature) {\n          case \"escape\": {\n            fullAPI.getIsFullscreen() ? fullAPI.toggleFullscreen(!1) : fullAPI.getIsNavShown() && fullAPI.toggleNav(!0);\n            break;\n          }\n          case \"focusNav\": {\n            fullAPI.getIsFullscreen() && fullAPI.toggleFullscreen(!1), fullAPI.getIsNavShown() || fullAPI.toggleNav(!0), fullAPI.focusOnUIElement(focusableUIElements.storyListMenu);\n            break;\n          }\n          case \"search\": {\n            fullAPI.getIsFullscreen() && fullAPI.toggleFullscreen(!1), fullAPI.getIsNavShown() || fullAPI.toggleNav(!0), setTimeout(() => {\n              fullAPI.focusOnUIElement(focusableUIElements.storySearchField, !0);\n            }, 0);\n            break;\n          }\n          case \"focusIframe\": {\n            let element = document3.getElementById(\"storybook-preview-iframe\");\n            if (element)\n              try {\n                element.contentWindow.focus();\n              } catch {\n              }\n            break;\n          }\n          case \"focusPanel\": {\n            fullAPI.getIsFullscreen() && fullAPI.toggleFullscreen(!1), fullAPI.getIsPanelShown() || fullAPI.togglePanel(!0), fullAPI.focusOnUIElement(focusableUIElements.storyPanelRoot);\n            break;\n          }\n          case \"nextStory\": {\n            fullAPI.jumpToStory(1);\n            break;\n          }\n          case \"prevStory\": {\n            fullAPI.jumpToStory(-1);\n            break;\n          }\n          case \"nextComponent\": {\n            fullAPI.jumpToComponent(1);\n            break;\n          }\n          case \"prevComponent\": {\n            fullAPI.jumpToComponent(-1);\n            break;\n          }\n          case \"fullScreen\": {\n            fullAPI.toggleFullscreen();\n            break;\n          }\n          case \"togglePanel\": {\n            fullAPI.togglePanel();\n            break;\n          }\n          case \"toggleNav\": {\n            fullAPI.toggleNav();\n            break;\n          }\n          case \"toolbar\": {\n            fullAPI.toggleToolbar();\n            break;\n          }\n          case \"panelPosition\": {\n            fullAPI.getIsFullscreen() && fullAPI.toggleFullscreen(!1), fullAPI.getIsPanelShown() || fullAPI.togglePanel(!0), fullAPI.togglePanelPosition();\n            break;\n          }\n          case \"aboutPage\": {\n            fullAPI.navigate(\"/settings/about\");\n            break;\n          }\n          case \"shortcutsPage\": {\n            fullAPI.navigate(\"/settings/shortcuts\");\n            break;\n          }\n          case \"collapseAll\": {\n            fullAPI.emit(STORIES_COLLAPSE_ALL);\n            break;\n          }\n          case \"expandAll\": {\n            fullAPI.emit(STORIES_EXPAND_ALL);\n            break;\n          }\n          case \"remount\": {\n            fullAPI.emit(FORCE_REMOUNT, { storyId });\n            break;\n          }\n          case \"openInEditor\": {\n            global5.CONFIG_TYPE === \"DEVELOPMENT\" && fullAPI.openInEditor({\n              file: fullAPI.getCurrentStoryData().importPath\n            });\n            break;\n          }\n          // TODO: bring this back once we want to add shortcuts for this\n          // case 'copyStoryName': {\n          //   const storyData = fullAPI.getCurrentStoryData();\n          //   if (storyData.type === 'story') {\n          //     copy(storyData.exportName);\n          //   }\n          //   break;\n          // }\n          case \"copyStoryLink\": {\n            (0, import_copy_to_clipboard.default)(window.location.href);\n            break;\n          }\n          default:\n            addonsShortcuts[feature].action();\n            break;\n        }\n    }\n  }, { shortcuts: persistedShortcuts = defaultShortcuts } = store2.getState(), state = {\n    // Any saved shortcuts that are still in our set of defaults\n    shortcuts: keys(defaultShortcuts).reduce(\n      (acc, key) => ({ ...acc, [key]: persistedShortcuts[key] || defaultShortcuts[key] }),\n      defaultShortcuts\n    )\n  };\n  return { api, state, init: () => {\n    document3.addEventListener(\"keydown\", (event) => {\n      shouldSkipShortcut(event) || api.handleKeydownEvent(event);\n    }), provider.channel?.on(PREVIEW_KEYDOWN, (data) => {\n      api.handleKeydownEvent(data.event);\n    });\n  } };\n};\n\n// src/manager-api/modules/stories.ts\nvar stories_exports = {};\n__export(stories_exports, {\n  init: () => init11\n});\nimport { logger as logger5 } from \"storybook/internal/client-logger\";\nimport {\n  CONFIG_ERROR,\n  CURRENT_STORY_WAS_SET,\n  DOCS_PREPARED,\n  PRELOAD_ENTRIES,\n  RESET_STORY_ARGS,\n  SELECT_STORY,\n  SET_CONFIG as SET_CONFIG3,\n  SET_CURRENT_STORY,\n  SET_FILTER,\n  SET_INDEX,\n  SET_STORIES,\n  STORY_ARGS_UPDATED,\n  STORY_CHANGED,\n  STORY_INDEX_INVALIDATED,\n  STORY_MISSING,\n  STORY_PREPARED,\n  STORY_SPECIFIED,\n  UPDATE_STORY_ARGS\n} from \"storybook/internal/core-events\";\nimport { sanitize as sanitize2, toId } from \"storybook/internal/csf\";\nimport { global as global6 } from \"@storybook/global\";\n\n// src/server-errors.ts\nvar import_picocolors = __toESM(require_picocolors_browser(), 1);\nvar StatusTypeIdMismatchError3 = class extends StorybookError {\n  constructor(data) {\n    super({\n      name: \"StatusTypeIdMismatchError\",\n      category: \"CORE-SERVER\" /* CORE_SERVER */,\n      code: 16,\n      message: `Status has typeId \"${data.status.typeId}\" but was added to store with typeId \"${data.typeId}\". Full status: ${JSON.stringify(\n        data.status,\n        null,\n        2\n      )}`\n    });\n    this.data = data;\n  }\n};\n\n// src/shared/status-store/index.ts\nvar UNIVERSAL_STATUS_STORE_OPTIONS = {\n  id: \"storybook/status\",\n  leader: !0,\n  initialState: {}\n}, StatusStoreEventType = {\n  SELECT: \"select\"\n};\nfunction createStatusStore({\n  universalStatusStore: universalStatusStore2,\n  useUniversalStore: useUniversalStore2,\n  environment\n}) {\n  let fullStatusStore2 = {\n    getAll() {\n      return universalStatusStore2.getState();\n    },\n    set(statuses) {\n      universalStatusStore2.setState((state) => {\n        let newState = { ...state };\n        for (let status of statuses) {\n          let { storyId, typeId } = status;\n          newState[storyId] = { ...newState[storyId] ?? {}, [typeId]: status };\n        }\n        return newState;\n      });\n    },\n    onAllStatusChange(listener) {\n      return universalStatusStore2.onStateChange((state, prevState) => {\n        listener(state, prevState);\n      });\n    },\n    onSelect(listener) {\n      return universalStatusStore2.subscribe(StatusStoreEventType.SELECT, (event) => {\n        listener(event.payload);\n      });\n    },\n    selectStatuses: (statuses) => {\n      universalStatusStore2.send({ type: StatusStoreEventType.SELECT, payload: statuses });\n    },\n    unset(storyIds) {\n      if (!storyIds) {\n        universalStatusStore2.setState({});\n        return;\n      }\n      universalStatusStore2.setState((state) => {\n        let newState = { ...state };\n        for (let storyId of storyIds)\n          delete newState[storyId];\n        return newState;\n      });\n    },\n    typeId: void 0\n  }, getStatusStoreByTypeId2 = (typeId) => ({\n    getAll: fullStatusStore2.getAll,\n    set(statuses) {\n      universalStatusStore2.setState((state) => {\n        let newState = { ...state };\n        for (let status of statuses) {\n          let { storyId } = status;\n          if (status.typeId !== typeId)\n            switch (environment) {\n              case \"server\":\n                throw new StatusTypeIdMismatchError3({\n                  status,\n                  typeId\n                });\n              case \"manager\":\n                throw new StatusTypeIdMismatchError({\n                  status,\n                  typeId\n                });\n              case \"preview\":\n              default:\n                throw new StatusTypeIdMismatchError2({\n                  status,\n                  typeId\n                });\n            }\n          newState[storyId] = { ...newState[storyId] ?? {}, [typeId]: status };\n        }\n        return newState;\n      });\n    },\n    onAllStatusChange: fullStatusStore2.onAllStatusChange,\n    onSelect(listener) {\n      return universalStatusStore2.subscribe(StatusStoreEventType.SELECT, (event) => {\n        event.payload.some((status) => status.typeId === typeId) && listener(event.payload);\n      });\n    },\n    unset(storyIds) {\n      universalStatusStore2.setState((state) => {\n        let newState = { ...state };\n        for (let storyId in newState)\n          if (newState[storyId]?.[typeId] && (!storyIds || storyIds?.includes(storyId))) {\n            let { [typeId]: omittedStatus, ...storyStatusesWithoutTypeId } = newState[storyId];\n            newState[storyId] = storyStatusesWithoutTypeId;\n          }\n        return newState;\n      });\n    },\n    typeId\n  });\n  return useUniversalStore2 ? {\n    getStatusStoreByTypeId: getStatusStoreByTypeId2,\n    fullStatusStore: fullStatusStore2,\n    universalStatusStore: universalStatusStore2,\n    useStatusStore: (selector) => useUniversalStore2(universalStatusStore2, selector)[0]\n  } : { getStatusStoreByTypeId: getStatusStoreByTypeId2, fullStatusStore: fullStatusStore2, universalStatusStore: universalStatusStore2 };\n}\n\n// src/shared/universal-store/use-universal-store-manager.ts\nimport * as React2 from \"react\";\nvar useUniversalStore = (universalStore, selector) => {\n  let snapshotRef = React2.useRef(\n    selector ? selector(universalStore.getState()) : universalStore.getState()\n  ), subscribe = React2.useCallback(\n    (listener) => universalStore.onStateChange((state2, previousState) => {\n      if (!selector) {\n        snapshotRef.current = state2, listener();\n        return;\n      }\n      let selectedState = selector(state2), selectedPreviousState = selector(previousState);\n      !isEqual(selectedState, selectedPreviousState) && (snapshotRef.current = selectedState, listener());\n    }),\n    [universalStore, selector]\n  ), getSnapshot = React2.useCallback(() => {\n    let currentState = universalStore.getState(), selectedState = selector ? selector(currentState) : currentState;\n    return isEqual(selectedState, snapshotRef.current) || (snapshotRef.current = selectedState), snapshotRef.current;\n  }, [universalStore, selector]);\n  return [React2.useSyncExternalStore(subscribe, getSnapshot), universalStore.setState];\n};\n\n// src/manager-api/stores/status.ts\nvar statusStore = createStatusStore({\n  universalStatusStore: UniversalStore.create({\n    ...UNIVERSAL_STATUS_STORE_OPTIONS,\n    leader: globalThis.CONFIG_TYPE === \"PRODUCTION\"\n  }),\n  useUniversalStore,\n  environment: \"manager\"\n}), { fullStatusStore, getStatusStoreByTypeId, useStatusStore, universalStatusStore } = statusStore;\n\n// src/manager-api/modules/stories.ts\nvar { fetch: fetch2 } = global6, STORY_INDEX_PATH = \"./index.json\", removedOptions = [\"enableShortcuts\", \"theme\", \"showRoots\"];\nfunction removeRemovedOptions(options) {\n  if (!options || typeof options == \"string\")\n    return options;\n  let result = { ...options };\n  return removedOptions.forEach((option) => {\n    option in result && delete result[option];\n  }), result;\n}\nvar init11 = ({\n  fullAPI,\n  store: store2,\n  navigate,\n  provider,\n  storyId: initialStoryId,\n  viewMode: initialViewMode,\n  docsOptions = {}\n}) => {\n  let api = {\n    storyId: toId,\n    getData: (storyId, refId) => {\n      let result = api.resolveStory(storyId, refId);\n      if (result?.type === \"story\" || result?.type === \"docs\")\n        return result;\n    },\n    isPrepared: (storyId, refId) => {\n      let data = api.getData(storyId, refId);\n      return data ? data.type === \"story\" ? data.prepared : !0 : !1;\n    },\n    resolveStory: (storyId, refId) => {\n      let { refs, index } = store2.getState();\n      if (!(refId && !refs[refId]))\n        return refId ? refs?.[refId]?.index?.[storyId] ?? void 0 : index ? index[storyId] : void 0;\n    },\n    getCurrentStoryData: () => {\n      let { storyId, refId } = store2.getState();\n      return api.getData(storyId, refId);\n    },\n    getIndex: () => {\n      let { internal_index } = store2.getState();\n      return internal_index;\n    },\n    getParameters: (storyIdOrCombo, parameterName) => {\n      let { storyId, refId } = typeof storyIdOrCombo == \"string\" ? { storyId: storyIdOrCombo, refId: void 0 } : storyIdOrCombo, data = api.getData(storyId, refId);\n      if ([\"story\", \"docs\"].includes(data?.type)) {\n        let { parameters } = data;\n        if (parameters)\n          return parameterName ? parameters[parameterName] : parameters;\n      }\n      return null;\n    },\n    getCurrentParameter: (parameterName) => {\n      let { storyId, refId } = store2.getState();\n      return api.getParameters({ storyId, refId }, parameterName) || void 0;\n    },\n    jumpToComponent: (direction) => {\n      let { filteredIndex, storyId, refs, refId } = store2.getState();\n      if (!api.getData(storyId, refId))\n        return;\n      let hash = refId ? refs[refId].filteredIndex || {} : filteredIndex;\n      if (!hash)\n        return;\n      let result = api.findSiblingStoryId(storyId, hash, direction, !0);\n      result && api.selectStory(result, void 0, { ref: refId });\n    },\n    jumpToStory: (direction) => {\n      let { filteredIndex, storyId, refs, refId } = store2.getState(), story = api.getData(storyId, refId);\n      if (!story)\n        return;\n      let hash = story.refId ? refs[story.refId].filteredIndex : filteredIndex;\n      if (!hash)\n        return;\n      let result = api.findSiblingStoryId(storyId, hash, direction, !1);\n      result && api.selectStory(result, void 0, { ref: refId });\n    },\n    selectFirstStory: () => {\n      let { index } = store2.getState();\n      if (!index)\n        return;\n      let firstStory = Object.keys(index).find((id) => index[id].type === \"story\");\n      if (firstStory) {\n        api.selectStory(firstStory);\n        return;\n      }\n      navigate(\"/\");\n    },\n    selectStory: (titleOrId = void 0, name = void 0, options = {}) => {\n      let { ref } = options, { storyId, index, filteredIndex, refs, settings } = store2.getState(), gotoStory = (entry) => entry?.type === \"docs\" || entry?.type === \"story\" ? (store2.setState({ settings: { ...settings, lastTrackedStoryId: entry.id } }), navigate(`/${entry.type}/${entry.refId ? `${entry.refId}_${entry.id}` : entry.id}`), !0) : !1, kindSlug = storyId?.split(\"--\", 2)[0], hash = ref ? refs[ref].index : index, filteredHash = ref ? refs[ref].filteredIndex : filteredIndex;\n      if (!(!hash || !filteredHash))\n        if (name)\n          if (!titleOrId)\n            gotoStory(hash[toId(kindSlug, name)]);\n          else {\n            let id = ref ? `${ref}_${toId(titleOrId, name)}` : toId(titleOrId, name);\n            if (hash[id])\n              gotoStory(hash[id]);\n            else {\n              let entry = hash[sanitize2(titleOrId)];\n              if (entry?.type === \"component\") {\n                let foundId = entry.children.find((childId) => hash[childId].name === name);\n                gotoStory(foundId ? hash[foundId] : void 0);\n              }\n            }\n          }\n        else {\n          let entry = titleOrId ? hash[titleOrId] || hash[sanitize2(titleOrId)] : hash[kindSlug];\n          if (!entry)\n            throw new Error(`Unknown id or title: '${titleOrId}'`);\n          gotoStory(entry) || gotoStory(api.findLeafEntry(filteredHash, entry.id));\n        }\n    },\n    findLeafEntry(index, storyId) {\n      let entry = index[storyId];\n      if (entry.type === \"docs\" || entry.type === \"story\")\n        return entry;\n      let childStoryId = entry.children.find((childId) => index[childId]) || entry.children[0];\n      return api.findLeafEntry(index, childStoryId);\n    },\n    findLeafStoryId(index, storyId) {\n      return api.findLeafEntry(index, storyId)?.id;\n    },\n    findAllLeafStoryIds(entryId) {\n      let { index } = store2.getState();\n      if (!index)\n        return [];\n      let findChildEntriesRecursively = (currentEntryId, results = []) => {\n        let node = index[currentEntryId];\n        return node && (node.type === \"story\" && results.push(node.id), \"children\" in node && node.children?.forEach((childId) => findChildEntriesRecursively(childId, results))), results;\n      };\n      return findChildEntriesRecursively(entryId, []);\n    },\n    findSiblingStoryId(storyId, index, direction, toSiblingGroup) {\n      if (toSiblingGroup) {\n        let lookupList2 = getComponentLookupList(index), position2 = lookupList2.findIndex((i) => i.includes(storyId));\n        return position2 === lookupList2.length - 1 && direction > 0 || position2 === 0 && direction < 0 ? void 0 : lookupList2[position2 + direction] ? lookupList2[position2 + direction][0] : void 0;\n      }\n      let lookupList = getStoriesLookupList(index), position = lookupList.indexOf(storyId);\n      if (!(position === lookupList.length - 1 && direction > 0) && !(position === 0 && direction < 0))\n        return lookupList[position + direction];\n    },\n    updateStoryArgs: (story, updatedArgs) => {\n      let { id: storyId, refId } = story;\n      provider.channel?.emit(UPDATE_STORY_ARGS, {\n        storyId,\n        updatedArgs,\n        options: { target: refId }\n      });\n    },\n    resetStoryArgs: (story, argNames) => {\n      let { id: storyId, refId } = story;\n      provider.channel?.emit(RESET_STORY_ARGS, {\n        storyId,\n        argNames,\n        options: { target: refId }\n      });\n    },\n    fetchIndex: async () => {\n      try {\n        let result = await fetch2(STORY_INDEX_PATH);\n        if (result.status !== 200)\n          throw new Error(await result.text());\n        let storyIndex = await result.json();\n        if (storyIndex.v < 3) {\n          logger5.warn(`Skipping story index with version v${storyIndex.v}, awaiting SET_STORIES.`);\n          return;\n        }\n        await api.setIndex(storyIndex);\n      } catch (err) {\n        await store2.setState({ indexError: err });\n      }\n    },\n    // The story index we receive on SET_INDEX is \"prepared\" in that it has parameters\n    // The story index we receive on fetchStoryIndex is not, but all the prepared fields are optional\n    // so we can cast one to the other easily enough\n    setIndex: async (input) => {\n      let { filteredIndex: oldFilteredHash, index: oldHash, filters } = store2.getState(), allStatuses = fullStatusStore.getAll(), newFilteredHash = transformStoryIndexToStoriesHash(input, {\n        provider,\n        docsOptions,\n        filters,\n        allStatuses\n      }), newHash = transformStoryIndexToStoriesHash(input, {\n        provider,\n        docsOptions,\n        filters: {},\n        allStatuses\n      });\n      await store2.setState({\n        internal_index: input,\n        filteredIndex: addPreparedStories(newFilteredHash, oldFilteredHash),\n        index: addPreparedStories(newHash, oldHash),\n        indexError: void 0\n      });\n    },\n    // FIXME: is there a bug where filtered stories get added back in on updateStory???\n    updateStory: async (storyId, update2, ref) => {\n      if (ref) {\n        let { id: refId, index, filteredIndex } = ref;\n        index[storyId] = {\n          ...index[storyId],\n          ...update2\n        }, filteredIndex[storyId] = {\n          ...filteredIndex[storyId],\n          ...update2\n        }, await fullAPI.updateRef(refId, { index, filteredIndex });\n      } else {\n        let { index, filteredIndex } = store2.getState();\n        index && (index[storyId] = {\n          ...index[storyId],\n          ...update2\n        }), filteredIndex && (filteredIndex[storyId] = {\n          ...filteredIndex[storyId],\n          ...update2\n        }), (index || filteredIndex) && await store2.setState({ index, filteredIndex });\n      }\n    },\n    updateDocs: async (docsId, update2, ref) => {\n      if (ref) {\n        let { id: refId, index, filteredIndex } = ref;\n        index[docsId] = {\n          ...index[docsId],\n          ...update2\n        }, filteredIndex[docsId] = {\n          ...filteredIndex[docsId],\n          ...update2\n        }, await fullAPI.updateRef(refId, { index, filteredIndex });\n      } else {\n        let { index, filteredIndex } = store2.getState();\n        index && (index[docsId] = {\n          ...index[docsId],\n          ...update2\n        }), filteredIndex && (filteredIndex[docsId] = {\n          ...filteredIndex[docsId],\n          ...update2\n        }), (index || filteredIndex) && await store2.setState({ index, filteredIndex });\n      }\n    },\n    setPreviewInitialized: async (ref) => {\n      ref ? fullAPI.updateRef(ref.id, { previewInitialized: !0 }) : store2.setState({ previewInitialized: !0 });\n    },\n    experimental_setFilter: async (id, filterFunction) => {\n      await store2.setState({ filters: { ...store2.getState().filters, [id]: filterFunction } });\n      let { internal_index: index } = store2.getState();\n      if (!index)\n        return;\n      await api.setIndex(index);\n      let refs = await fullAPI.getRefs();\n      Object.entries(refs).forEach(([refId, { internal_index, ...ref }]) => {\n        fullAPI.setRef(refId, { ...ref, storyIndex: internal_index }, !0);\n      }), provider.channel?.emit(SET_FILTER, { id });\n    }\n  };\n  provider.channel?.on(\n    STORY_SPECIFIED,\n    function({\n      storyId,\n      viewMode\n    }) {\n      let { sourceType } = getEventMetadata(this, fullAPI);\n      if (sourceType === \"local\") {\n        let state = store2.getState(), isCanvasRoute = state.path === \"/\" || state.viewMode === \"story\" || state.viewMode === \"docs\", stateHasSelection = state.viewMode && state.storyId, stateSelectionDifferent = state.viewMode !== viewMode || state.storyId !== storyId, { type } = state.index?.[state.storyId] || {};\n        isCanvasRoute && (stateHasSelection && stateSelectionDifferent && !(type === \"root\" || type === \"component\" || type === \"group\") ? provider.channel?.emit(SET_CURRENT_STORY, {\n          storyId: state.storyId,\n          viewMode: state.viewMode\n        }) : stateSelectionDifferent && navigate(`/${viewMode}/${storyId}`));\n      }\n    }\n  ), provider.channel?.on(CURRENT_STORY_WAS_SET, function() {\n    let { ref } = getEventMetadata(this, fullAPI);\n    api.setPreviewInitialized(ref);\n  }), provider.channel?.on(STORY_CHANGED, function() {\n    let { sourceType } = getEventMetadata(this, fullAPI);\n    if (sourceType === \"local\") {\n      let options = api.getCurrentParameter(\"options\");\n      options && fullAPI.setOptions(removeRemovedOptions(options));\n    }\n  }), provider.channel?.on(\n    STORY_PREPARED,\n    function({ id, ...update2 }) {\n      let { ref, sourceType } = getEventMetadata(this, fullAPI);\n      if (api.updateStory(id, { ...update2, prepared: !0 }, ref), !ref && !store2.getState().hasCalledSetOptions) {\n        let { options } = update2.parameters;\n        fullAPI.setOptions(removeRemovedOptions(options)), store2.setState({ hasCalledSetOptions: !0 });\n      }\n      if (sourceType === \"local\") {\n        let { storyId, index, refId } = store2.getState();\n        if (!index)\n          return;\n        let toBePreloaded = Array.from(\n          /* @__PURE__ */ new Set([\n            api.findSiblingStoryId(storyId, index, 1, !0),\n            api.findSiblingStoryId(storyId, index, -1, !0)\n          ])\n        ).filter(Boolean);\n        provider.channel?.emit(PRELOAD_ENTRIES, {\n          ids: toBePreloaded,\n          options: { target: refId }\n        });\n      }\n    }\n  ), provider.channel?.on(\n    DOCS_PREPARED,\n    function({ id, ...update2 }) {\n      let { ref } = getEventMetadata(this, fullAPI);\n      api.updateStory(id, { ...update2, prepared: !0 }, ref);\n    }\n  ), provider.channel?.on(SET_INDEX, function(index) {\n    let { ref } = getEventMetadata(this, fullAPI);\n    if (ref)\n      fullAPI.setRef(ref.id, { ...ref, storyIndex: index }, !0);\n    else {\n      api.setIndex(index);\n      let options = api.getCurrentParameter(\"options\");\n      fullAPI.setOptions(removeRemovedOptions(options));\n    }\n  }), provider.channel?.on(SET_STORIES, function(data) {\n    let { ref } = getEventMetadata(this, fullAPI), setStoriesData = data.v ? denormalizeStoryParameters(data) : data.stories;\n    if (ref)\n      fullAPI.setRef(ref.id, { ...ref, setStoriesData }, !0);\n    else\n      throw new Error(\"Cannot call SET_STORIES for local frame\");\n  }), provider.channel?.on(\n    SELECT_STORY,\n    function({\n      kind,\n      title = kind,\n      story,\n      name = story,\n      storyId,\n      ...rest\n    }) {\n      let { ref } = getEventMetadata(this, fullAPI);\n      ref ? fullAPI.selectStory(storyId || title, name, { ...rest, ref: ref.id }) : fullAPI.selectStory(storyId || title, name, rest);\n    }\n  ), provider.channel?.on(\n    STORY_ARGS_UPDATED,\n    function({ storyId, args }) {\n      let { ref } = getEventMetadata(this, fullAPI);\n      api.updateStory(storyId, { args }, ref);\n    }\n  ), provider.channel?.on(CONFIG_ERROR, function(err) {\n    let { ref } = getEventMetadata(this, fullAPI);\n    api.setPreviewInitialized(ref);\n  }), provider.channel?.on(STORY_MISSING, function(err) {\n    let { ref } = getEventMetadata(this, fullAPI);\n    api.setPreviewInitialized(ref);\n  }), provider.channel?.on(SET_CONFIG3, () => {\n    let config2 = provider.getConfig();\n    config2?.sidebar?.filters && store2.setState({\n      filters: {\n        ...store2.getState().filters,\n        ...config2?.sidebar?.filters\n      }\n    });\n  }), fullStatusStore.onAllStatusChange(async () => {\n    let { internal_index: index } = store2.getState();\n    if (!index)\n      return;\n    await api.setIndex(index);\n    let refs = await fullAPI.getRefs();\n    Object.entries(refs).forEach(([refId, { internal_index, ...ref }]) => {\n      fullAPI.setRef(refId, { ...ref, storyIndex: internal_index }, !0);\n    });\n  });\n  let config = provider.getConfig();\n  return {\n    api,\n    state: {\n      storyId: initialStoryId,\n      viewMode: initialViewMode,\n      hasCalledSetOptions: !1,\n      previewInitialized: !1,\n      filters: config?.sidebar?.filters || {}\n    },\n    init: async () => {\n      provider.channel?.on(STORY_INDEX_INVALIDATED, () => api.fetchIndex()), await api.fetchIndex();\n    }\n  };\n};\n\n// src/manager-api/modules/url.ts\nvar url_exports = {};\n__export(url_exports, {\n  init: () => init12\n});\nimport {\n  GLOBALS_UPDATED as GLOBALS_UPDATED2,\n  NAVIGATE_URL,\n  SET_CURRENT_STORY as SET_CURRENT_STORY2,\n  STORY_ARGS_UPDATED as STORY_ARGS_UPDATED2,\n  UPDATE_QUERY_PARAMS\n} from \"storybook/internal/core-events\";\nimport { buildArgsParam, queryFromLocation } from \"storybook/internal/router\";\nimport { global as global7 } from \"@storybook/global\";\nvar { window: globalWindow } = global7, parseBoolean = (value) => {\n  if (value === \"true\" || value === \"1\")\n    return !0;\n  if (value === \"false\" || value === \"0\")\n    return !1;\n}, prevParams, initialUrlSupport = ({\n  state: { location: location2, path, viewMode, storyId: storyIdFromUrl },\n  singleStory\n}) => {\n  let {\n    full,\n    panel,\n    nav,\n    shortcuts,\n    addonPanel,\n    tabs,\n    path: queryPath,\n    ...otherParams\n    // the rest gets passed to the iframe\n  } = queryFromLocation(location2), navSize, bottomPanelHeight, rightPanelWidth;\n  parseBoolean(full) === !0 ? (navSize = 0, bottomPanelHeight = 0, rightPanelWidth = 0) : parseBoolean(full) === !1 && (navSize = defaultLayoutState.layout.navSize, bottomPanelHeight = defaultLayoutState.layout.bottomPanelHeight, rightPanelWidth = defaultLayoutState.layout.rightPanelWidth), singleStory || (parseBoolean(nav) === !0 && (navSize = defaultLayoutState.layout.navSize), parseBoolean(nav) === !1 && (navSize = 0)), parseBoolean(panel) === !1 && (bottomPanelHeight = 0, rightPanelWidth = 0);\n  let layout = {\n    navSize,\n    bottomPanelHeight,\n    rightPanelWidth,\n    panelPosition: [\"right\", \"bottom\"].includes(panel) ? panel : void 0,\n    showTabs: parseBoolean(tabs)\n  }, ui = {\n    enableShortcuts: parseBoolean(shortcuts)\n  }, selectedPanel = addonPanel || void 0, storyId = storyIdFromUrl, customQueryParams = dequal(prevParams, otherParams) ? prevParams : otherParams;\n  return prevParams = customQueryParams, { viewMode, layout, ui, selectedPanel, location: location2, path, customQueryParams, storyId };\n}, init12 = (moduleArgs) => {\n  let { store: store2, navigate, provider, fullAPI } = moduleArgs, navigateTo = (path, queryParams = {}, options = {}) => {\n    let params = Object.entries(queryParams).filter(([, v]) => v).sort(([a], [b]) => a < b ? -1 : 1).map(([k, v]) => `${k}=${v}`), to = [path, ...params].join(\"&\");\n    return navigate(to, options);\n  }, api = {\n    getQueryParam(key) {\n      let { customQueryParams } = store2.getState();\n      return customQueryParams ? customQueryParams[key] : void 0;\n    },\n    getUrlState() {\n      let { location: location2, path, customQueryParams, storyId, url, viewMode } = store2.getState();\n      return {\n        path,\n        hash: location2.hash ?? \"\",\n        queryParams: customQueryParams,\n        storyId,\n        url,\n        viewMode\n      };\n    },\n    setQueryParams(input) {\n      let { customQueryParams } = store2.getState(), queryParams = {}, update2 = {\n        ...customQueryParams,\n        ...Object.entries(input).reduce((acc, [key, value]) => (value !== null && (acc[key] = value), acc), queryParams)\n      };\n      dequal(customQueryParams, update2) || (store2.setState({ customQueryParams: update2 }), provider.channel?.emit(UPDATE_QUERY_PARAMS, update2));\n    },\n    applyQueryParams(input, options) {\n      let { path, hash = \"\", queryParams } = api.getUrlState();\n      navigateTo(`${path}${hash}`, { ...queryParams, ...input }, options), api.setQueryParams(input);\n    },\n    navigateUrl(url, options) {\n      navigate(url, { plain: !0, ...options });\n    }\n  }, updateArgsParam = () => {\n    let { path, hash = \"\", queryParams, viewMode } = api.getUrlState();\n    if (viewMode !== \"story\")\n      return;\n    let currentStory = fullAPI.getCurrentStoryData();\n    if (currentStory?.type !== \"story\")\n      return;\n    let { args, initialArgs } = currentStory, argsString = buildArgsParam(initialArgs, args);\n    navigateTo(`${path}${hash}`, { ...queryParams, args: argsString }, { replace: !0 }), api.setQueryParams({ args: argsString });\n  };\n  provider.channel?.on(SET_CURRENT_STORY2, () => updateArgsParam());\n  let handleOrId;\n  return provider.channel?.on(STORY_ARGS_UPDATED2, () => {\n    \"requestIdleCallback\" in globalWindow ? (handleOrId && globalWindow.cancelIdleCallback(handleOrId), handleOrId = globalWindow.requestIdleCallback(updateArgsParam, { timeout: 1e3 })) : (handleOrId && clearTimeout(handleOrId), setTimeout(updateArgsParam, 100));\n  }), provider.channel?.on(GLOBALS_UPDATED2, ({ userGlobals, initialGlobals }) => {\n    let { path, hash = \"\", queryParams } = api.getUrlState(), globalsString = buildArgsParam(initialGlobals, userGlobals);\n    navigateTo(`${path}${hash}`, { ...queryParams, globals: globalsString }, { replace: !0 }), api.setQueryParams({ globals: globalsString });\n  }), provider.channel?.on(NAVIGATE_URL, (url, options) => {\n    api.navigateUrl(url, options);\n  }), {\n    api,\n    state: initialUrlSupport(moduleArgs)\n  };\n};\n\n// src/manager-api/modules/versions.ts\nvar versions_exports = {};\n__export(versions_exports, {\n  init: () => init13\n});\nvar import_memoizerific2 = __toESM(require_memoizerific(), 1);\nimport { global as global8 } from \"@storybook/global\";\nimport semver from \"semver\";\n\n// src/manager-api/version.ts\nvar version = \"10.1.2\";\n\n// src/manager-api/modules/versions.ts\nvar { VERSIONCHECK } = global8, getVersionCheckData = (0, import_memoizerific2.default)(1)(() => {\n  try {\n    return { ...JSON.parse(VERSIONCHECK).data || {} };\n  } catch {\n    return {};\n  }\n}), normalizeRendererName = (renderer) => renderer.includes(\"vue\") ? \"vue\" : renderer, init13 = ({ store: store2 }) => {\n  let { dismissedVersionNotification } = store2.getState(), state = {\n    versions: {\n      current: {\n        version\n      },\n      ...getVersionCheckData()\n    },\n    dismissedVersionNotification\n  }, api = {\n    getCurrentVersion: () => {\n      let {\n        versions: { current }\n      } = store2.getState();\n      return current;\n    },\n    getLatestVersion: () => {\n      let {\n        versions: { latest, next, current }\n      } = store2.getState();\n      return current && semver.prerelease(current.version) && next ? latest && semver.gt(latest.version, next.version) ? latest : next : latest;\n    },\n    // TODO: Move this to it's own \"info\" module later\n    getDocsUrl: ({ asset, subpath = asset, versioned, renderer, ref = \"ui\" }) => {\n      let { versions } = store2.getState(), latestVersion = versions.latest?.version, currentVersion = versions.current?.version, activeVersion = currentVersion?.startsWith(\"0.0.0\") && latestVersion || currentVersion, url = `https://storybook.js.org/${asset ? \"docs-assets\" : \"docs\"}/`;\n      if (asset && activeVersion)\n        url += `${semver.major(activeVersion)}.${semver.minor(activeVersion)}/`;\n      else if (versioned && activeVersion && latestVersion) {\n        let versionDiff = semver.diff(latestVersion, activeVersion);\n        versionDiff === \"patch\" || versionDiff === null || (url += `${semver.major(activeVersion)}.${semver.minor(activeVersion)}/`);\n      }\n      let [cleanedSubpath, hash] = subpath?.split(\"#\") || [];\n      if (cleanedSubpath && (url += asset ? cleanedSubpath : `${cleanedSubpath}/`), renderer && typeof global8.STORYBOOK_RENDERER < \"u\") {\n        let rendererName = global8.STORYBOOK_RENDERER;\n        rendererName && (url += `?renderer=${normalizeRendererName(rendererName)}`);\n      }\n      return ref && (url += `${url.includes(\"?\") ? \"&\" : \"?\"}ref=${ref}`), hash && (url += `#${hash}`), url;\n    },\n    versionUpdateAvailable: () => {\n      let latest = api.getLatestVersion(), current = api.getCurrentVersion();\n      if (latest) {\n        if (!latest.version || !current.version)\n          return !0;\n        let actualCurrent = !!semver.prerelease(current.version) ? `${semver.major(current.version)}.${semver.minor(current.version)}.${semver.patch(\n          current.version\n        )}` : current.version, diff = semver.diff(actualCurrent, latest.version);\n        return semver.gt(latest.version, actualCurrent) && diff !== \"patch\" && !diff.includes(\"pre\");\n      }\n      return !1;\n    }\n  };\n  return { init: async () => {\n    let { versions = {} } = store2.getState(), { latest, next } = getVersionCheckData();\n    await store2.setState({\n      versions: { ...versions, latest, next }\n    });\n  }, state, api };\n};\n\n// src/manager-api/modules/whatsnew.tsx\nvar whatsnew_exports = {};\n__export(whatsnew_exports, {\n  init: () => init14\n});\nimport React3 from \"react\";\nimport {\n  REQUEST_WHATS_NEW_DATA,\n  RESULT_WHATS_NEW_DATA,\n  SET_WHATS_NEW_CACHE,\n  TOGGLE_WHATS_NEW_NOTIFICATIONS\n} from \"storybook/internal/core-events\";\nimport { global as global9 } from \"@storybook/global\";\nvar WHATS_NEW_NOTIFICATION_ID = \"whats-new\", StorybookIcon = ({ color = \"currentColor\", size = 14 }) => React3.createElement(\n  \"svg\",\n  {\n    width: size,\n    height: size,\n    viewBox: \"0 0 14 14\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  },\n  React3.createElement(\n    \"path\",\n    {\n      fillRule: \"evenodd\",\n      clipRule: \"evenodd\",\n      d: \"M2.042.616a.704.704 0 00-.66.729L1.816 12.9c.014.367.306.66.672.677l9.395.422h.032a.704.704 0 00.704-.703V.704c0-.015 0-.03-.002-.044a.704.704 0 00-.746-.659l-.773.049.057 1.615a.105.105 0 01-.17.086l-.52-.41-.617.468a.105.105 0 01-.168-.088L9.746.134 2.042.616zm8.003 4.747c-.247.192-2.092.324-2.092.05.04-1.045-.429-1.091-.689-1.091-.247 0-.662.075-.662.634 0 .57.607.893 1.32 1.27 1.014.538 2.24 1.188 2.24 2.823 0 1.568-1.273 2.433-2.898 2.433-1.676 0-3.141-.678-2.976-3.03.065-.275 2.197-.21 2.197 0-.026.971.195 1.256.753 1.256.43 0 .624-.236.624-.634 0-.602-.633-.958-1.361-1.367-.987-.554-2.148-1.205-2.148-2.7 0-1.494 1.027-2.489 2.86-2.489 1.832 0 2.832.98 2.832 2.845z\",\n      fill: color\n    }\n  )\n), init14 = ({ fullAPI, store: store2, provider }) => {\n  let state = {\n    whatsNewData: void 0\n  };\n  function setWhatsNewState(newState) {\n    store2.setState({ whatsNewData: newState }), state.whatsNewData = newState;\n  }\n  let api = {\n    isWhatsNewUnread() {\n      return state.whatsNewData?.status === \"SUCCESS\" && !state.whatsNewData.postIsRead;\n    },\n    whatsNewHasBeenRead() {\n      state.whatsNewData?.status === \"SUCCESS\" && (setWhatsNewCache({ lastReadPost: state.whatsNewData.url }), setWhatsNewState({ ...state.whatsNewData, postIsRead: !0 }), fullAPI.clearNotification(WHATS_NEW_NOTIFICATION_ID));\n    },\n    toggleWhatsNewNotifications() {\n      state.whatsNewData?.status === \"SUCCESS\" && (setWhatsNewState({\n        ...state.whatsNewData,\n        disableWhatsNewNotifications: !state.whatsNewData.disableWhatsNewNotifications\n      }), provider.channel?.emit(TOGGLE_WHATS_NEW_NOTIFICATIONS, {\n        disableWhatsNewNotifications: state.whatsNewData.disableWhatsNewNotifications\n      }));\n    }\n  };\n  function getLatestWhatsNewPost() {\n    return provider.channel?.emit(REQUEST_WHATS_NEW_DATA), new Promise(\n      (resolve) => provider.channel?.once(\n        RESULT_WHATS_NEW_DATA,\n        ({ data }) => resolve(data)\n      )\n    );\n  }\n  function setWhatsNewCache(cache) {\n    provider.channel?.emit(SET_WHATS_NEW_CACHE, cache);\n  }\n  return { init: async () => {\n    if (global9.CONFIG_TYPE !== \"DEVELOPMENT\")\n      return;\n    let whatsNewData = await getLatestWhatsNewPost();\n    setWhatsNewState(whatsNewData);\n    let urlState = fullAPI.getUrlState();\n    !(urlState?.path === \"/onboarding\" || urlState.queryParams?.onboarding === \"true\") && whatsNewData.status === \"SUCCESS\" && !whatsNewData.disableWhatsNewNotifications && whatsNewData.showNotification && fullAPI.addNotification({\n      id: WHATS_NEW_NOTIFICATION_ID,\n      link: \"/settings/whats-new\",\n      content: {\n        headline: whatsNewData.title,\n        subHeadline: \"Learn what's new in Storybook\"\n      },\n      icon: React3.createElement(StorybookIcon, null),\n      onClear({ dismissed }) {\n        dismissed && setWhatsNewCache({ lastDismissedPost: whatsNewData.url });\n      }\n    });\n  }, state, api };\n};\n\n// src/manager-api/store.ts\nvar import_store2 = __toESM(require_store2(), 1);\n\n// src/manager-api/lib/store-setup.ts\nvar store_setup_default = (_) => {\n  _.fn(\"set\", function(key, data) {\n    return _.set(\n      // @ts-expect-error('this' implicitly has type 'any')\n      this._area,\n      // @ts-expect-error('this' implicitly has type 'any')\n      this._in(key),\n      stringify(data, { maxDepth: 50 })\n    );\n  }), _.fn(\"get\", function(key, alt) {\n    let value = _.get(this._area, this._in(key));\n    return value !== null ? parse(value) : alt || value;\n  });\n};\n\n// src/manager-api/store.ts\nstore_setup_default(import_store2.default._);\nvar STORAGE_KEY = \"@storybook/manager/store\";\nfunction get(storage) {\n  return storage.get(STORAGE_KEY) || {};\n}\nfunction set(storage, value) {\n  return storage.set(STORAGE_KEY, value);\n}\nfunction update(storage, patch) {\n  let previous = get(storage);\n  return set(storage, { ...previous, ...patch });\n}\nvar Store = class {\n  constructor({ setState, getState }) {\n    this.upstreamSetState = setState, this.upstreamGetState = getState;\n  }\n  // The assumption is that this will be called once, to initialize the React state\n  // when the module is instantiated\n  getInitialState(base) {\n    return { ...base, ...get(import_store2.default.local), ...get(import_store2.default.session) };\n  }\n  getState() {\n    return this.upstreamGetState();\n  }\n  async setState(inputPatch, cbOrOptions, inputOptions) {\n    let callback, options;\n    typeof cbOrOptions == \"function\" ? (callback = cbOrOptions, options = inputOptions) : options = cbOrOptions;\n    let { persistence = \"none\" } = options || {}, patch = {}, delta = {};\n    typeof inputPatch == \"function\" ? patch = (state) => (delta = inputPatch(state), delta) : (patch = inputPatch, delta = patch);\n    let newState = await new Promise((resolve) => {\n      this.upstreamSetState(patch, () => {\n        resolve(this.getState());\n      });\n    });\n    if (persistence !== \"none\") {\n      let storage = persistence === \"session\" ? import_store2.default.session : import_store2.default.local;\n      await update(storage, delta);\n    }\n    return callback && callback(newState), newState;\n  }\n};\n\n// src/manager-api/lib/request-response.ts\nvar RequestResponseError = class extends Error {\n  constructor(message, payload) {\n    super(message);\n    this.payload = void 0;\n    this.payload = payload;\n  }\n}, experimental_requestResponse = (channel, requestEvent, responseEvent, payload, timeout = 5e3) => {\n  let timeoutId;\n  return new Promise((resolve, reject) => {\n    let request = {\n      id: Math.random().toString(16).slice(2),\n      payload\n    }, responseHandler = (response) => {\n      response.id === request.id && (clearTimeout(timeoutId), channel.off(responseEvent, responseHandler), response.success ? resolve(response.payload) : reject(new RequestResponseError(response.error, response.payload)));\n    };\n    channel.emit(requestEvent, request), channel.on(responseEvent, responseHandler), timeoutId = setTimeout(() => {\n      channel.off(responseEvent, responseHandler), reject(new RequestResponseError(\"Timed out waiting for response\"));\n    }, timeout);\n  });\n};\n\n// src/manager-api/root.tsx\nvar { ActiveTabs: ActiveTabs2 } = layout_exports;\nvar ManagerContext = createContext({ api: void 0, state: initial_state_default({}) }), combineParameters = (...parameterSets) => noArrayMerge({}, ...parameterSets), ManagerProvider = class extends Component {\n  constructor(props) {\n    super(props);\n    this.api = {};\n    this.initModules = () => {\n      this.modules.forEach((module) => {\n        \"init\" in module && module.init();\n      });\n    };\n    let {\n      location: location2,\n      path,\n      refId,\n      viewMode = props.docsOptions.docsMode ? \"docs\" : props.viewMode,\n      singleStory,\n      storyId,\n      docsOptions,\n      navigate\n    } = props, store2 = new Store({\n      getState: () => this.state,\n      setState: (stateChange, callback) => (this.setState(stateChange, () => callback(this.state)), this.state)\n    }), routeData = { location: location2, path, viewMode, singleStory, storyId, refId }, optionsData = { docsOptions };\n    this.state = store2.getInitialState(initial_state_default({ ...routeData, ...optionsData }));\n    let apiData = {\n      navigate,\n      store: store2,\n      provider: props.provider\n    };\n    this.modules = [\n      provider_exports,\n      channel_exports,\n      addons_exports,\n      layout_exports,\n      notifications_exports,\n      settings_exports,\n      shortcuts_exports,\n      stories_exports,\n      refs_exports,\n      globals_exports,\n      url_exports,\n      versions_exports,\n      whatsnew_exports,\n      open_in_editor_exports\n    ].map(\n      (m) => m.init({ ...routeData, ...optionsData, ...apiData, state: this.state, fullAPI: this.api })\n    );\n    let state = initial_state_default(this.state, ...this.modules.map((m) => m.state)), api = Object.assign(this.api, { navigate }, ...this.modules.map((m) => m.api));\n    this.state = state, this.api = api;\n  }\n  static getDerivedStateFromProps(props, state) {\n    return state.path !== props.path ? {\n      ...state,\n      location: props.location,\n      path: props.path,\n      refId: props.refId,\n      viewMode: props.viewMode,\n      storyId: props.storyId\n    } : null;\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    let prevProps = this.props, prevState = this.state;\n    return prevProps.path !== nextProps.path || !isEqual(prevState, nextState);\n  }\n  render() {\n    let { children } = this.props, value = {\n      state: this.state,\n      api: this.api\n    };\n    return React4.createElement(EffectOnMount, { effect: this.initModules }, React4.createElement(ManagerContext.Provider, { value }, React4.createElement(ManagerConsumer, null, children)));\n  }\n};\nManagerProvider.displayName = \"Manager\";\nvar EffectOnMount = ({ children, effect }) => (React4.useEffect(effect, []), children), defaultFilter = (c) => c;\nfunction ManagerConsumer({\n  // @ts-expect-error (Converted from ts-ignore)\n  filter = defaultFilter,\n  children\n}) {\n  let managerContext = useContext(ManagerContext), renderer = useRef2(children), filterer = useRef2(filter);\n  if (typeof renderer.current != \"function\")\n    return React4.createElement(Fragment, null, renderer.current);\n  let comboData = filterer.current(managerContext), comboDataArray = useMemo(() => [...Object.entries(comboData).reduce((acc, keyval) => acc.concat(keyval), [])], [managerContext.state]);\n  return useMemo(() => {\n    let Child = renderer.current;\n    return React4.createElement(Child, { ...comboData });\n  }, comboDataArray);\n}\nfunction useStorybookState() {\n  let { state } = useContext(ManagerContext);\n  return state;\n}\nfunction useStorybookApi() {\n  let { api } = useContext(ManagerContext);\n  return api;\n}\nfunction orDefault(fromStore, defaultState) {\n  return typeof fromStore > \"u\" ? defaultState : fromStore;\n}\nvar useChannel = (eventMap, deps = []) => {\n  let api = useStorybookApi();\n  return useEffect(() => (Object.entries(eventMap).forEach(([type, listener]) => api.on(type, listener)), () => {\n    Object.entries(eventMap).forEach(([type, listener]) => api.off(type, listener));\n  }), deps), api.emit;\n};\nfunction useStoryPrepared(storyId) {\n  return useStorybookApi().isPrepared(storyId);\n}\nfunction useParameter(parameterKey, defaultValue) {\n  let api = useStorybookApi(), [parameter, setParameter] = useState(api.getCurrentParameter(parameterKey)), handleParameterChange = useCallback2(() => {\n    let newParameter = api.getCurrentParameter(parameterKey);\n    setParameter(newParameter);\n  }, [api, parameterKey]);\n  return useChannel(\n    {\n      [STORY_PREPARED2]: handleParameterChange,\n      [DOCS_PREPARED2]: handleParameterChange\n    },\n    [handleParameterChange]\n  ), orDefault(parameter, defaultValue);\n}\nglobalThis.STORYBOOK_ADDON_STATE = {};\nvar { STORYBOOK_ADDON_STATE } = globalThis;\nfunction useSharedState(stateId, defaultState) {\n  let api = useStorybookApi(), existingState = api.getAddonState(stateId) || STORYBOOK_ADDON_STATE[stateId], state = orDefault(\n    existingState,\n    STORYBOOK_ADDON_STATE[stateId] ? STORYBOOK_ADDON_STATE[stateId] : defaultState\n  ), quicksync = !1;\n  state === defaultState && defaultState !== void 0 && (STORYBOOK_ADDON_STATE[stateId] = defaultState, quicksync = !0), useEffect(() => {\n    quicksync && api.setAddonState(stateId, defaultState);\n  }, [quicksync]);\n  let setState = useCallback2(\n    async (s, options) => {\n      await api.setAddonState(stateId, s, options);\n      let result = api.getAddonState(stateId);\n      return STORYBOOK_ADDON_STATE[stateId] = result, result;\n    },\n    [api, stateId]\n  ), allListeners = useMemo(() => {\n    let stateChangeHandlers = {\n      [`${SHARED_STATE_CHANGED}-client-${stateId}`]: setState,\n      [`${SHARED_STATE_SET}-client-${stateId}`]: setState\n    }, stateInitializationHandlers = {\n      [SET_STORIES2]: async () => {\n        let currentState = api.getAddonState(stateId);\n        currentState ? (STORYBOOK_ADDON_STATE[stateId] = currentState, api.emit(`${SHARED_STATE_SET}-manager-${stateId}`, currentState)) : STORYBOOK_ADDON_STATE[stateId] ? (await setState(STORYBOOK_ADDON_STATE[stateId]), api.emit(`${SHARED_STATE_SET}-manager-${stateId}`, STORYBOOK_ADDON_STATE[stateId])) : defaultState !== void 0 && (await setState(defaultState), STORYBOOK_ADDON_STATE[stateId] = defaultState, api.emit(`${SHARED_STATE_SET}-manager-${stateId}`, defaultState));\n      },\n      [STORY_CHANGED2]: () => {\n        let currentState = api.getAddonState(stateId);\n        currentState !== void 0 && api.emit(`${SHARED_STATE_SET}-manager-${stateId}`, currentState);\n      }\n    };\n    return {\n      ...stateChangeHandlers,\n      ...stateInitializationHandlers\n    };\n  }, [stateId]), emit = useChannel(allListeners), stateSetter = useCallback2(\n    async (newStateOrMerger, options) => {\n      await setState(newStateOrMerger, options);\n      let result = api.getAddonState(stateId);\n      emit(`${SHARED_STATE_CHANGED}-manager-${stateId}`, result);\n    },\n    [api, emit, setState, stateId]\n  );\n  return [state, stateSetter];\n}\nfunction useAddonState(addonId, defaultState) {\n  return useSharedState(addonId, defaultState);\n}\nfunction useArgs() {\n  let { getCurrentStoryData, updateStoryArgs, resetStoryArgs } = useStorybookApi(), data = getCurrentStoryData(), args = data?.type === \"story\" ? data.args : {}, initialArgs = data?.type === \"story\" ? data.initialArgs : {}, updateArgs = useCallback2(\n    (newArgs) => updateStoryArgs(data, newArgs),\n    [data, updateStoryArgs]\n  ), resetArgs = useCallback2(\n    (argNames) => resetStoryArgs(data, argNames),\n    [data, resetStoryArgs]\n  );\n  return [args, updateArgs, resetArgs, initialArgs];\n}\nfunction useGlobals() {\n  let api = useStorybookApi();\n  return [api.getGlobals(), api.updateGlobals, api.getStoryGlobals(), api.getUserGlobals()];\n}\nfunction useGlobalTypes() {\n  return useStorybookApi().getGlobalTypes();\n}\nfunction useCurrentStory() {\n  let { getCurrentStoryData } = useStorybookApi();\n  return getCurrentStoryData();\n}\nfunction useArgTypes() {\n  let current = useCurrentStory();\n  return current?.type === \"story\" && current.argTypes || {};\n}\nvar typesX = Addon_TypesEnum;\n\n// src/shared/universal-store/mock.ts\nimport { Channel as Channel2 } from \"storybook/internal/channels\";\nvar MockUniversalStore = class _MockUniversalStore extends UniversalStore {\n  constructor(options, testUtils) {\n    UniversalStore.isInternalConstructing = !0, super(\n      { ...options, leader: !0 },\n      { channel: new Channel2({}), environment: UniversalStore.Environment.MOCK }\n    ), UniversalStore.isInternalConstructing = !1, typeof testUtils?.fn == \"function\" && (this.testUtils = testUtils, this.getState = testUtils.fn(this.getState), this.setState = testUtils.fn(this.setState), this.subscribe = testUtils.fn(this.subscribe), this.onStateChange = testUtils.fn(this.onStateChange), this.send = testUtils.fn(this.send));\n  }\n  /** Create a mock universal store. This is just an alias for the constructor */\n  static create(options, testUtils) {\n    return new _MockUniversalStore(options, testUtils);\n  }\n  unsubscribeAll() {\n    if (!this.testUtils)\n      throw new Error(\n        dedent`Cannot call unsubscribeAll on a store that does not have testUtils.\n        Please provide testUtils as the second argument when creating the store.`\n      );\n    let callReturnedUnsubscribeFn = (result) => {\n      try {\n        result.value();\n      } catch {\n      }\n    };\n    this.subscribe.mock?.results.forEach(callReturnedUnsubscribeFn), this.onStateChange.mock?.results.forEach(callReturnedUnsubscribeFn);\n  }\n};\n\n// src/shared/test-provider-store/index.ts\nvar UNIVERSAL_TEST_PROVIDER_STORE_OPTIONS = {\n  id: \"storybook/test-provider\",\n  leader: !0,\n  initialState: {}\n};\nfunction createTestProviderStore({\n  universalTestProviderStore: universalTestProviderStore2,\n  useUniversalStore: useUniversalStore2\n}) {\n  let baseStore = {\n    settingsChanged: () => {\n      universalTestProviderStore2.untilReady().then(() => {\n        universalTestProviderStore2.send({ type: \"settings-changed\" });\n      });\n    },\n    onRunAll: (listener) => universalTestProviderStore2.subscribe(\"run-all\", listener),\n    onClearAll: (listener) => universalTestProviderStore2.subscribe(\"clear-all\", listener)\n  }, fullTestProviderStore2 = {\n    ...baseStore,\n    getFullState: universalTestProviderStore2.getState,\n    setFullState: universalTestProviderStore2.setState,\n    onSettingsChanged: (listener) => universalTestProviderStore2.subscribe(\"settings-changed\", listener),\n    runAll: async () => {\n      await universalTestProviderStore2.untilReady(), universalTestProviderStore2.send({ type: \"run-all\" });\n    },\n    clearAll: async () => {\n      await universalTestProviderStore2.untilReady(), universalTestProviderStore2.send({ type: \"clear-all\" });\n    }\n  }, getTestProviderStoreById2 = (testProviderId) => {\n    let getStateForTestProvider = () => universalTestProviderStore2.getState()[testProviderId] ?? \"test-provider-state:pending\", setStateForTestProvider = (state) => {\n      universalTestProviderStore2.untilReady().then(() => {\n        universalTestProviderStore2.setState((currentState) => ({\n          ...currentState,\n          [testProviderId]: state\n        }));\n      });\n    };\n    return {\n      ...baseStore,\n      testProviderId,\n      getState: getStateForTestProvider,\n      setState: setStateForTestProvider,\n      runWithState: async (callback) => {\n        setStateForTestProvider(\"test-provider-state:running\");\n        try {\n          await callback(), setStateForTestProvider(\"test-provider-state:succeeded\");\n        } catch {\n          setStateForTestProvider(\"test-provider-state:crashed\");\n        }\n      }\n    };\n  };\n  return useUniversalStore2 ? {\n    getTestProviderStoreById: getTestProviderStoreById2,\n    fullTestProviderStore: fullTestProviderStore2,\n    universalTestProviderStore: universalTestProviderStore2,\n    useTestProviderStore: (selector) => useUniversalStore2(universalTestProviderStore2, selector)[0]\n  } : {\n    getTestProviderStoreById: getTestProviderStoreById2,\n    fullTestProviderStore: fullTestProviderStore2,\n    universalTestProviderStore: universalTestProviderStore2\n  };\n}\n\n// src/manager-api/stores/test-provider.ts\nvar testProviderStore = createTestProviderStore({\n  universalTestProviderStore: UniversalStore.create({\n    ...UNIVERSAL_TEST_PROVIDER_STORE_OPTIONS,\n    leader: globalThis.CONFIG_TYPE === \"PRODUCTION\"\n  }),\n  useUniversalStore\n}), {\n  fullTestProviderStore,\n  getTestProviderStoreById,\n  useTestProviderStore,\n  universalTestProviderStore\n} = testProviderStore;\n\n// src/shared/checklist-store/checklistData.state.ts\nvar initialState = {\n  items: {\n    accessibilityTests: { status: \"open\" },\n    autodocs: { status: \"open\" },\n    ciTests: { status: \"open\" },\n    controls: { status: \"open\" },\n    coverage: { status: \"open\" },\n    guidedTour: { status: \"open\" },\n    installA11y: { status: \"open\" },\n    installChromatic: { status: \"open\" },\n    installDocs: { status: \"open\" },\n    installVitest: { status: \"open\" },\n    mdxDocs: { status: \"open\" },\n    moreComponents: { status: \"open\" },\n    moreStories: { status: \"open\" },\n    onboardingSurvey: { status: \"open\" },\n    organizeStories: { status: \"open\" },\n    publishStorybook: { status: \"open\" },\n    renderComponent: { status: \"open\" },\n    runTests: { status: \"open\" },\n    viewports: { status: \"open\" },\n    visualTests: { status: \"open\" },\n    whatsNewStorybook10: { status: \"open\" },\n    writeInteractions: { status: \"open\" }\n  },\n  widget: {}\n};\n\n// src/shared/checklist-store/index.ts\nvar UNIVERSAL_CHECKLIST_STORE_OPTIONS = {\n  id: \"storybook/checklist\",\n  initialState\n}, createChecklistStore = (universalChecklistStore2) => ({\n  getValue: (id) => universalChecklistStore2.getState().items[id] ?? { status: \"open\", mutedAt: void 0 },\n  accept: (id) => {\n    universalChecklistStore2.setState((state) => ({\n      ...state,\n      items: { ...state.items, [id]: { ...state.items[id], status: \"accepted\" } }\n    }));\n  },\n  done: (id) => {\n    universalChecklistStore2.setState((state) => ({\n      ...state,\n      items: { ...state.items, [id]: { ...state.items[id], status: \"done\" } }\n    }));\n  },\n  skip: (id) => {\n    universalChecklistStore2.setState((state) => ({\n      ...state,\n      items: { ...state.items, [id]: { ...state.items[id], status: \"skipped\" } }\n    }));\n  },\n  reset: (id) => {\n    universalChecklistStore2.setState((state) => ({\n      ...state,\n      items: { ...state.items, [id]: { ...state.items[id], status: \"open\" } }\n    }));\n  },\n  mute: (itemIds) => {\n    universalChecklistStore2.setState((state) => ({\n      ...state,\n      items: itemIds.reduce(\n        (acc, id) => ({ ...acc, [id]: { ...state.items[id], mutedAt: Date.now() } }),\n        state.items\n      )\n    }));\n  },\n  disable: (value) => {\n    universalChecklistStore2.setState((state) => ({\n      ...state,\n      widget: { ...state.widget, disable: value },\n      items: Object.entries(state.items).reduce(\n        (acc, [id, value2]) => ({ ...acc, [id]: { ...value2, mutedAt: void 0 } }),\n        state.items\n      )\n    }));\n  }\n});\n\n// src/manager-api/stores/checklist.ts\nvar universalChecklistStore = UniversalStore.create({\n  ...UNIVERSAL_CHECKLIST_STORE_OPTIONS,\n  leader: globalThis.CONFIG_TYPE === \"PRODUCTION\"\n}), checklistStore = createChecklistStore(universalChecklistStore);\nexport {\n  ActiveTabs2 as ActiveTabs,\n  ManagerConsumer as Consumer,\n  ManagerContext,\n  ManagerProvider as Provider,\n  RequestResponseError,\n  addons,\n  combineParameters,\n  controlOrMetaKey,\n  controlOrMetaSymbol,\n  eventMatchesShortcut,\n  eventToShortcut,\n  MockUniversalStore as experimental_MockUniversalStore,\n  UniversalStore as experimental_UniversalStore,\n  getStatusStoreByTypeId as experimental_getStatusStore,\n  getTestProviderStoreById as experimental_getTestProviderStore,\n  experimental_requestResponse,\n  useStatusStore as experimental_useStatusStore,\n  useTestProviderStore as experimental_useTestProviderStore,\n  useUniversalStore as experimental_useUniversalStore,\n  checklistStore as internal_checklistStore,\n  fullStatusStore as internal_fullStatusStore,\n  fullTestProviderStore as internal_fullTestProviderStore,\n  universalChecklistStore as internal_universalChecklistStore,\n  universalStatusStore as internal_universalStatusStore,\n  universalTestProviderStore as internal_universalTestProviderStore,\n  isMacLike,\n  isShortcutTaken,\n  keyToSymbol,\n  merge_default as merge,\n  mockChannel,\n  optionOrAltSymbol,\n  shortcutMatchesShortcut,\n  shortcutToAriaKeyshortcuts,\n  shortcutToHumanString,\n  typesX as types,\n  useAddonState,\n  useArgTypes,\n  useArgs,\n  useChannel,\n  useGlobalTypes,\n  useGlobals,\n  useParameter,\n  useSharedState,\n  useStoryPrepared,\n  useStorybookApi,\n  useStorybookState\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}