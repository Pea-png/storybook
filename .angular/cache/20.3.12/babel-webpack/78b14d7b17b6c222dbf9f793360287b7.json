{"ast":null,"code":"import { FormControl, Validators } from '@angular/forms';\nimport { TextfieldComponent } from 'my-lib';\n// ========================\n// Meta configuration\n// ========================\n// กำหนดข้อมูลหลักของ Storybook component\n// title: ชื่อที่จะโชว์ใน Storybook\n// component: component ที่จะ render\n// tags: สำหรับ docs, auto generation\n// argTypes: กำหนด controls และ action สำหรับ props ของ component\nconst meta = {\n  title: 'MyLib/Textfield',\n  component: TextfieldComponent,\n  tags: ['autodocs'],\n  argTypes: {\n    valueChange: {\n      action: 'valueChange'\n    },\n    // ส่งค่าไป Action panel ของ Storybook\n    size: {\n      control: {\n        type: 'select'\n      },\n      options: ['sm', 'md', 'lg']\n    },\n    // ให้เลือก size ผ่าน control\n    color: {\n      control: {\n        type: 'select'\n      },\n      options: ['primary', 'secondary', 'success', 'error']\n    } // ให้เลือก color ผ่าน control\n  }\n};\nexport default meta;\n// ========================\n// Helper function\n// ========================\n// สร้าง FormControl พร้อม validators\n// required = true -> เพิ่ม Validators.required\n// ใช้ maxLength 10 เป็น default\nconst withControl = (value, required = false) => {\n  const validators = [Validators.maxLength(10)];\n  if (required) validators.push(Validators.required);\n  return new FormControl(value || '', {\n    nonNullable: true,\n    validators\n  });\n};\n// ========================\n// Shared render function\n// ========================\n// ใช้ renderTemplate เพื่อ reuse template ในทุก story\n// - bind control ของ Angular FormControl\n// - subscribe valueChanges เพื่อ log ใน console\n// - ส่งค่า valueChange ไป Action panel ของ Storybook\nconst renderTemplate = args => {\n  const control = withControl(args.value, args.color === 'error');\n  const valueAction = args.valueChange; // Storybook action function\n  control.valueChanges.subscribe(val => {\n    // log การเปลี่ยนค่าใน console\n    console.groupCollapsed(`Field Update: ${args.label || 'Field'}`);\n    console.table({\n      value: val,\n      valid: control.valid,\n      invalid: control.invalid,\n      touched: control.touched,\n      dirty: control.dirty,\n      pristine: control.pristine,\n      errors: control.errors\n    });\n    console.groupEnd();\n    // ส่งค่าไป Action panel\n    valueAction?.(val);\n  });\n  // return template ของ component\n  // size และ color ถูก bind แบบ hard-coded เพื่อแสดงแต่ละ story\n  return {\n    props: {\n      ...args,\n      control\n    },\n    template: `\n      <app-textfield\n        [label]=\"label\"\n        [placeholder]=\"placeholder\"\n        [size]=\"'${args.size}'\"\n        [color]=\"'${args.color}'\"\n        [helperText]=\"helperText\"\n        [disabled]=\"disabled\"\n        [onlyNumbers]=\"onlyNumbers\"\n        [control]=\"control\"\n        (valueChange)=\"valueChange($event)\" <!-- Action panel -->\n      >\n        <span class=\"material-symbols-outlined\">clear</span>\n      </app-textfield>\n    `\n  };\n};\n// ========================\n// Size Stories\n// ========================\n// แสดงขนาดของ textfield แต่ละ story\nexport const SizeSmall = {\n  render: renderTemplate,\n  args: {\n    label: 'Small Field',\n    value: '',\n    size: 'sm',\n    color: 'primary',\n    helperText: 'Max 10 chars'\n  }\n};\nexport const SizeMedium = {\n  render: renderTemplate,\n  args: {\n    label: 'Medium Field',\n    value: '',\n    size: 'md',\n    color: 'primary',\n    helperText: 'Max 10 chars'\n  }\n};\nexport const SizeLarge = {\n  render: renderTemplate,\n  args: {\n    label: 'Large Field',\n    value: '',\n    size: 'lg',\n    color: 'primary',\n    helperText: 'Max 10 chars'\n  }\n};\n// ========================\n// Color Stories\n// ========================\n// แสดงสีของ textfield แต่ละ story\nexport const ColorPrimary = {\n  render: renderTemplate,\n  args: {\n    label: 'Primary Field',\n    value: '',\n    size: 'md',\n    color: 'primary',\n    helperText: 'Max 10 chars'\n  }\n};\nexport const ColorSecondary = {\n  render: renderTemplate,\n  args: {\n    label: 'Secondary Field',\n    value: '',\n    size: 'md',\n    color: 'secondary',\n    helperText: 'Max 10 chars'\n  }\n};\nexport const ColorSuccess = {\n  render: renderTemplate,\n  args: {\n    label: 'Success Field',\n    value: '',\n    size: 'md',\n    color: 'success',\n    helperText: 'Max 10 chars'\n  }\n};\nexport const ColorError = {\n  render: renderTemplate,\n  args: {\n    label: 'Error Field',\n    value: '',\n    size: 'md',\n    color: 'error',\n    helperText: 'Max 10 chars'\n  }\n};\n// ========================\n// State Stories\n// ========================\n// แสดงสถานะต่างๆ ของ textfield\nexport const Default = {\n  render: renderTemplate,\n  args: {\n    label: 'Default',\n    value: '',\n    size: 'md',\n    color: 'primary',\n    helperText: 'Max 10 chars'\n  }\n};\nexport const WithValue = {\n  render: renderTemplate,\n  args: {\n    label: 'With Value',\n    value: 'Hello',\n    size: 'md',\n    color: 'primary',\n    helperText: 'Max 10 chars'\n  }\n};\nexport const Disabled = {\n  render: renderTemplate,\n  args: {\n    label: 'Disabled',\n    value: '',\n    size: 'md',\n    color: 'primary',\n    disabled: true,\n    helperText: 'Max 10 chars'\n  }\n};","map":{"version":3,"names":["FormControl","Validators","TextfieldComponent","meta","title","component","tags","argTypes","valueChange","action","size","control","type","options","color","withControl","value","required","validators","maxLength","push","nonNullable","renderTemplate","args","valueAction","valueChanges","subscribe","val","console","groupCollapsed","label","table","valid","invalid","touched","dirty","pristine","errors","groupEnd","props","template","SizeSmall","render","helperText","SizeMedium","SizeLarge","ColorPrimary","ColorSecondary","ColorSuccess","ColorError","Default","WithValue","Disabled","disabled"],"sources":["/Users/pea/Desktop/work/my-workspace/projects/my-lib/src/lib/textfield/textfield.stories.ts"],"sourcesContent":["import { FormControl, Validators } from '@angular/forms';\nimport { TextfieldComponent } from 'my-lib';\n// ========================\n// Meta configuration\n// ========================\n// กำหนดข้อมูลหลักของ Storybook component\n// title: ชื่อที่จะโชว์ใน Storybook\n// component: component ที่จะ render\n// tags: สำหรับ docs, auto generation\n// argTypes: กำหนด controls และ action สำหรับ props ของ component\nconst meta = {\n    title: 'MyLib/Textfield',\n    component: TextfieldComponent,\n    tags: ['autodocs'],\n    argTypes: {\n        valueChange: { action: 'valueChange' }, // ส่งค่าไป Action panel ของ Storybook\n        size: { control: { type: 'select' }, options: ['sm', 'md', 'lg'] }, // ให้เลือก size ผ่าน control\n        color: { control: { type: 'select' }, options: ['primary', 'secondary', 'success', 'error'] }, // ให้เลือก color ผ่าน control\n    },\n};\nexport default meta;\n// ========================\n// Helper function\n// ========================\n// สร้าง FormControl พร้อม validators\n// required = true -> เพิ่ม Validators.required\n// ใช้ maxLength 10 เป็น default\nconst withControl = (value, required = false) => {\n    const validators = [Validators.maxLength(10)];\n    if (required)\n        validators.push(Validators.required);\n    return new FormControl(value || '', { nonNullable: true, validators });\n};\n// ========================\n// Shared render function\n// ========================\n// ใช้ renderTemplate เพื่อ reuse template ในทุก story\n// - bind control ของ Angular FormControl\n// - subscribe valueChanges เพื่อ log ใน console\n// - ส่งค่า valueChange ไป Action panel ของ Storybook\nconst renderTemplate = (args) => {\n    const control = withControl(args.value, args.color === 'error');\n    const valueAction = args.valueChange; // Storybook action function\n    control.valueChanges.subscribe((val) => {\n        // log การเปลี่ยนค่าใน console\n        console.groupCollapsed(`Field Update: ${args.label || 'Field'}`);\n        console.table({\n            value: val,\n            valid: control.valid,\n            invalid: control.invalid,\n            touched: control.touched,\n            dirty: control.dirty,\n            pristine: control.pristine,\n            errors: control.errors,\n        });\n        console.groupEnd();\n        // ส่งค่าไป Action panel\n        valueAction?.(val);\n    });\n    // return template ของ component\n    // size และ color ถูก bind แบบ hard-coded เพื่อแสดงแต่ละ story\n    return {\n        props: { ...args, control },\n        template: `\n      <app-textfield\n        [label]=\"label\"\n        [placeholder]=\"placeholder\"\n        [size]=\"'${args.size}'\"\n        [color]=\"'${args.color}'\"\n        [helperText]=\"helperText\"\n        [disabled]=\"disabled\"\n        [onlyNumbers]=\"onlyNumbers\"\n        [control]=\"control\"\n        (valueChange)=\"valueChange($event)\" <!-- Action panel -->\n      >\n        <span class=\"material-symbols-outlined\">clear</span>\n      </app-textfield>\n    `,\n    };\n};\n// ========================\n// Size Stories\n// ========================\n// แสดงขนาดของ textfield แต่ละ story\nexport const SizeSmall = {\n    render: renderTemplate,\n    args: { label: 'Small Field', value: '', size: 'sm', color: 'primary', helperText: 'Max 10 chars' },\n};\nexport const SizeMedium = {\n    render: renderTemplate,\n    args: { label: 'Medium Field', value: '', size: 'md', color: 'primary', helperText: 'Max 10 chars' },\n};\nexport const SizeLarge = {\n    render: renderTemplate,\n    args: { label: 'Large Field', value: '', size: 'lg', color: 'primary', helperText: 'Max 10 chars' },\n};\n// ========================\n// Color Stories\n// ========================\n// แสดงสีของ textfield แต่ละ story\nexport const ColorPrimary = {\n    render: renderTemplate,\n    args: { label: 'Primary Field', value: '', size: 'md', color: 'primary', helperText: 'Max 10 chars' },\n};\nexport const ColorSecondary = {\n    render: renderTemplate,\n    args: { label: 'Secondary Field', value: '', size: 'md', color: 'secondary', helperText: 'Max 10 chars' },\n};\nexport const ColorSuccess = {\n    render: renderTemplate,\n    args: { label: 'Success Field', value: '', size: 'md', color: 'success', helperText: 'Max 10 chars' },\n};\nexport const ColorError = {\n    render: renderTemplate,\n    args: { label: 'Error Field', value: '', size: 'md', color: 'error', helperText: 'Max 10 chars' },\n};\n// ========================\n// State Stories\n// ========================\n// แสดงสถานะต่างๆ ของ textfield\nexport const Default = {\n    render: renderTemplate,\n    args: { label: 'Default', value: '', size: 'md', color: 'primary', helperText: 'Max 10 chars' },\n};\nexport const WithValue = {\n    render: renderTemplate,\n    args: { label: 'With Value', value: 'Hello', size: 'md', color: 'primary', helperText: 'Max 10 chars' },\n};\nexport const Disabled = {\n    render: renderTemplate,\n    args: { label: 'Disabled', value: '', size: 'md', color: 'primary', disabled: true, helperText: 'Max 10 chars' },\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}