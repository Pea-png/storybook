{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./searchfield.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./searchfield.component.scss?ngResource\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nlet SearchfieldComponent = class SearchfieldComponent {\n  label = '';\n  placeholder = '';\n  control;\n  size = 'sm';\n  color = 'primary';\n  value = '';\n  iconStart;\n  iconEnd;\n  valueChange = new EventEmitter();\n  iconClick = new EventEmitter();\n  onInput() {\n    const val = this.control.value || '';\n    // ตรวจสอบความยาว > 10 ตัวอักษร\n    if (val.length > 15) {\n      this.control.setErrors({\n        ...this.control.errors,\n        maxlength: {\n          requiredLength: 15,\n          actualLength: val.length\n        }\n      });\n    } else {\n      if (this.control.errors) {\n        const {\n          maxlength,\n          ...rest\n        } = this.control.errors;\n        this.control.setErrors(Object.keys(rest).length ? rest : null);\n      }\n    }\n    this.valueChange.emit(val);\n  }\n  clearInput() {\n    this.control.setValue('');\n    this.control.markAsUntouched();\n    this.valueChange.emit('');\n  }\n  clickIcon(position) {\n    this.iconClick.emit(position);\n  }\n  hasText() {\n    return !!this.control.value;\n  }\n  get inputClasses() {\n    return {\n      'has-icon-start': !!this.iconStart,\n      'has-icon-end': !!this.iconEnd || this.hasText()\n    };\n  }\n  get clearButtonClasses() {\n    return {\n      'with-end-icon': !!this.iconEnd,\n      'without-end-icon': !this.iconEnd\n    };\n  }\n  get state() {\n    if (this.control?.invalid) return 'error';\n    if (this.control?.valid && this.control?.touched) return 'success';\n    return 'default';\n  }\n  get errorText() {\n    if (!this.control?.errors) return '';\n    if (this.control.errors['required']) return 'This field is required';\n    if (this.control.errors['maxlength']) return `Maximum ${this.control.errors['maxlength'].requiredLength} characters`;\n    if (this.control.errors['pattern']) return 'Number only';\n    return 'Invalid format';\n  }\n  static propDecorators = {\n    label: [{\n      type: Input\n    }],\n    placeholder: [{\n      type: Input\n    }],\n    control: [{\n      type: Input\n    }],\n    size: [{\n      type: Input\n    }],\n    color: [{\n      type: Input\n    }],\n    value: [{\n      type: Input\n    }],\n    iconStart: [{\n      type: Input\n    }],\n    iconEnd: [{\n      type: Input\n    }],\n    valueChange: [{\n      type: Output\n    }],\n    iconClick: [{\n      type: Output\n    }]\n  };\n};\nSearchfieldComponent = __decorate([Component({\n  selector: 'app-searchfield',\n  standalone: true,\n  imports: [CommonModule, ReactiveFormsModule],\n  template: __NG_CLI_RESOURCE__0,\n  styles: [__NG_CLI_RESOURCE__1]\n})], SearchfieldComponent);\nexport { SearchfieldComponent };","map":{"version":3,"names":["__decorate","__NG_CLI_RESOURCE__0","__NG_CLI_RESOURCE__1","Component","Input","Output","EventEmitter","CommonModule","ReactiveFormsModule","SearchfieldComponent","label","placeholder","control","size","color","value","iconStart","iconEnd","valueChange","iconClick","onInput","val","length","setErrors","errors","maxlength","requiredLength","actualLength","rest","Object","keys","emit","clearInput","setValue","markAsUntouched","clickIcon","position","hasText","inputClasses","clearButtonClasses","state","invalid","valid","touched","errorText","propDecorators","type","selector","standalone","imports","template","styles"],"sources":["/Users/pea/Desktop/work/my-workspace/projects/my-lib/src/lib/searchfield/searchfield.component.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./searchfield.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./searchfield.component.scss?ngResource\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nlet SearchfieldComponent = class SearchfieldComponent {\n    label = '';\n    placeholder = '';\n    control;\n    size = 'sm';\n    color = 'primary';\n    value = '';\n    iconStart;\n    iconEnd;\n    valueChange = new EventEmitter();\n    iconClick = new EventEmitter();\n    onInput() {\n        const val = this.control.value || '';\n        // ตรวจสอบความยาว > 10 ตัวอักษร\n        if (val.length > 15) {\n            this.control.setErrors({\n                ...this.control.errors,\n                maxlength: { requiredLength: 15, actualLength: val.length },\n            });\n        }\n        else {\n            if (this.control.errors) {\n                const { maxlength, ...rest } = this.control.errors;\n                this.control.setErrors(Object.keys(rest).length ? rest : null);\n            }\n        }\n        this.valueChange.emit(val);\n    }\n    clearInput() {\n        this.control.setValue('');\n        this.control.markAsUntouched();\n        this.valueChange.emit('');\n    }\n    clickIcon(position) {\n        this.iconClick.emit(position);\n    }\n    hasText() {\n        return !!this.control.value;\n    }\n    get inputClasses() {\n        return {\n            'has-icon-start': !!this.iconStart,\n            'has-icon-end': !!this.iconEnd || this.hasText(),\n        };\n    }\n    get clearButtonClasses() {\n        return {\n            'with-end-icon': !!this.iconEnd,\n            'without-end-icon': !this.iconEnd,\n        };\n    }\n    get state() {\n        if (this.control?.invalid)\n            return 'error';\n        if (this.control?.valid && this.control?.touched)\n            return 'success';\n        return 'default';\n    }\n    get errorText() {\n        if (!this.control?.errors)\n            return '';\n        if (this.control.errors['required'])\n            return 'This field is required';\n        if (this.control.errors['maxlength'])\n            return `Maximum ${this.control.errors['maxlength'].requiredLength} characters`;\n        if (this.control.errors['pattern'])\n            return 'Number only';\n        return 'Invalid format';\n    }\n    static propDecorators = {\n        label: [{ type: Input }],\n        placeholder: [{ type: Input }],\n        control: [{ type: Input }],\n        size: [{ type: Input }],\n        color: [{ type: Input }],\n        value: [{ type: Input }],\n        iconStart: [{ type: Input }],\n        iconEnd: [{ type: Input }],\n        valueChange: [{ type: Output }],\n        iconClick: [{ type: Output }]\n    };\n};\nSearchfieldComponent = __decorate([\n    Component({\n        selector: 'app-searchfield',\n        standalone: true,\n        imports: [CommonModule, ReactiveFormsModule],\n        template: __NG_CLI_RESOURCE__0,\n        styles: [__NG_CLI_RESOURCE__1]\n    })\n], SearchfieldComponent);\nexport { SearchfieldComponent };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}