{"version":3,"file":"lib-textfield-textfield-stories.a02cc480684332a32bc0.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AA4EA;AAAA;AAAA;AAAA;AAAA;AAOA;AAPA;AAAA;AAAA;AAOA;AAPA;AAOA;AAAA;AAAA;AAPA;AAOA;AAAA;AAAA;AAAA;AAAA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAPA;AAAA;AAAA;AAOA;AAPA;AAOA;AAAA;AAAA;AAPA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAPA;AAAA;AAAA;AAAA;AAAA;AAOA;AAPA;AAAA;AAOA;AAAA;AAAA;AAAA;AAPA;AAAA;AAAA;AAOA;AAAA;AAAA;AAPA;AAAA;AAOA;AAAA;AAjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AA1CA;AA0CA;AAAA;AAAA;AAAA;AAAA;AA1CA;AAAA;AAAA;AA6CA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA","sources":["webpack://my-workspace/./dist/my-lib/fesm2022/my-lib.mjs"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { EventEmitter, forwardRef, Output, Input, Component } from '@angular/core';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\nimport * as i2 from '@angular/forms';\nimport { FormsModule, ReactiveFormsModule, NG_VALUE_ACCESSOR } from '@angular/forms';\n\nclass TextfieldComponent {\n    label = '';\n    placeholder = '';\n    size = 'sm';\n    color = 'primary';\n    helperText = '';\n    disabled = false;\n    onlyNumbers = false;\n    control;\n    value = '';\n    valueChange = new EventEmitter();\n    // ControlValueAccessor callbacks  \n    onChange = () => { };\n    onTouched = () => { };\n    writeValue(obj) {\n        this.value = obj ?? '';\n    }\n    registerOnChange(fn) {\n        this.onChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onTouched = fn;\n    }\n    setDisabledState(isDisabled) {\n        this.disabled = isDisabled;\n    }\n    onBlur() {\n        if (this.control) {\n            this.control.markAsTouched();\n            this.control.setValue(this.value);\n        }\n        this.onChange(this.value);\n        this.onTouched();\n        this.valueChange.emit(this.value);\n    }\n    // จำกัดเฉพาะตัวเลข\n    onKeyDown(event) {\n        if (this.onlyNumbers &&\n            !/[0-9]/.test(event.key) &&\n            !['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab'].includes(event.key)) {\n            event.preventDefault();\n        }\n    }\n    clearInput() {\n        if (this.control) {\n            this.control.setValue('');\n            this.control.markAsUntouched();\n        }\n        this.value = '';\n        this.onChange(this.value);\n        this.onTouched();\n        this.valueChange?.emit(this.value);\n    }\n    get state() {\n        if (this.control?.invalid && this.control?.touched)\n            return 'error';\n        if (this.control?.valid && this.control?.touched)\n            return 'success';\n        return 'default';\n    }\n    get errorText() {\n        if (!this.control?.errors)\n            return '';\n        if (this.control.errors['required'])\n            return 'This field is required';\n        if (this.control.errors['maxlength'])\n            return `Maximum ${this.control.errors['maxlength'].requiredLength} characters`;\n        if (this.control.errors['pattern'])\n            return 'Number only';\n        return 'Invalid format';\n    }\n    get hasValue() {\n        return this.control ? !!this.control.value : !!this.value;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.14\", ngImport: i0, type: TextfieldComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.3.14\", type: TextfieldComponent, isStandalone: true, selector: \"app-textfield\", inputs: { label: \"label\", placeholder: \"placeholder\", size: \"size\", color: \"color\", helperText: \"helperText\", disabled: \"disabled\", onlyNumbers: \"onlyNumbers\", control: \"control\", value: \"value\" }, outputs: { valueChange: \"valueChange\" }, providers: [\n            {\n                provide: NG_VALUE_ACCESSOR,\n                useExisting: forwardRef(() => TextfieldComponent),\n                multi: true\n            }\n        ], ngImport: i0, template: \"<div\\n  class=\\\"textfield\\\"\\n  [ngClass]=\\\"[\\n    'textfield--' + size,\\n    state === 'error' ? 'textfield--error' : 'textfield--' + state,\\n    state === 'error' ? 'color-error' : 'color-' + color\\n  ]\\\"\\n>\\n  <!-- Label -->\\n  <label class=\\\"textfield__label\\\">{{ label }}</label>\\n\\n  <!-- Input wrapper -->\\n  <div class=\\\"textfield__input-wrapper\\\">\\n\\n    <!-- \\u0E43\\u0E0A\\u0E49 FormControl \\u0E16\\u0E49\\u0E32\\u0E21\\u0E35 -->\\n    <input\\n      *ngIf=\\\"control; else ngModelInput\\\"\\n      type=\\\"text\\\"\\n      class=\\\"textfield__input\\\"\\n      [formControl]=\\\"control\\\"\\n      [placeholder]=\\\"placeholder\\\"\\n      (blur)=\\\"onBlur()\\\"\\n      (keydown)=\\\"onKeyDown($event)\\\"\\n    />\\n\\n    <!-- \\u0E16\\u0E49\\u0E32\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35 FormControl \\u0E43\\u0E0A\\u0E49 ngModel -->\\n    <ng-template #ngModelInput>\\n      <input\\n        type=\\\"text\\\"\\n        class=\\\"textfield__input\\\"\\n        [(ngModel)]=\\\"value\\\"\\n        [placeholder]=\\\"placeholder\\\"\\n        (blur)=\\\"onBlur()\\\"\\n        (keydown)=\\\"onKeyDown($event)\\\"\\n      />\\n    </ng-template>\\n\\n    <!-- \\u0E1B\\u0E38\\u0E48\\u0E21 clear -->\\n    <button\\n      *ngIf=\\\"hasValue\\\"\\n      type=\\\"button\\\"\\n      class=\\\"textfield__clear\\\"\\n      (click)=\\\"clearInput()\\\"\\n    >\\n      clear\\n    </button>\\n\\n  </div>\\n\\n  <!-- \\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21 error -->\\n  <p *ngIf=\\\"state === 'error'\\\" class=\\\"textfield__error\\\">{{ errorText }}</p>\\n\\n  <!-- helper text \\u0E41\\u0E2A\\u0E14\\u0E07\\u0E15\\u0E25\\u0E2D\\u0E14 -->\\n  <p class=\\\"textfield__helper\\\">{{ helperText }}</p>\\n</div>\", styles: [\".textfield{margin-bottom:4px;font-family:Arial,sans-serif}.textfield__label{display:block;margin-bottom:4px;font-size:12px;color:#767c89}.textfield__helper{font-size:12px;margin-top:4px;color:#767c89}.textfield__error{font-size:12px;margin-top:4px;color:#ec6a6a}.textfield__input-wrapper{position:relative}.textfield__input{width:100%;box-sizing:border-box;padding:.5rem 40px .5rem 8px;border:1px solid #d5d6d6;border-radius:6px;font-size:12px;height:40px;transition:.2s}.textfield__input:focus{outline:none;box-shadow:0 0 0 1px #2563eb}.textfield__input::placeholder{color:#a0aec0;font-size:12px;opacity:1}.textfield.color-primary .textfield__input{border-color:#c5c5c5}.textfield.color-secondary .textfield__input{border-color:#9c27b0}.textfield.color-success .textfield__input{border-color:#4caf50}.textfield.color-error .textfield__input{border-color:#ec6a6a}.textfield__clear{position:absolute;top:50%;right:8px;transform:translateY(-50%);cursor:pointer;border:none;background:transparent;font-family:Material Symbols Outlined;font-variation-settings:\\\"FILL\\\" 0,\\\"wght\\\" 400,\\\"GRAD\\\" 0,\\\"opsz\\\" 24;font-size:16px;color:#666;display:flex;align-items:center;justify-content:center;opacity:.6}.textfield__clear:hover{opacity:1}.textfield--sm .textfield__input{height:32px;font-size:12px}.textfield--md .textfield__input{height:40px;font-size:14px}.textfield--lg .textfield__input{height:42px;font-size:16px}\\n\"], dependencies: [{ kind: \"ngmodule\", type: CommonModule }, { kind: \"directive\", type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { kind: \"directive\", type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { kind: \"ngmodule\", type: FormsModule }, { kind: \"directive\", type: i2.DefaultValueAccessor, selector: \"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]\" }, { kind: \"directive\", type: i2.NgControlStatus, selector: \"[formControlName],[ngModel],[formControl]\" }, { kind: \"directive\", type: i2.NgModel, selector: \"[ngModel]:not([formControlName]):not([formControl])\", inputs: [\"name\", \"disabled\", \"ngModel\", \"ngModelOptions\"], outputs: [\"ngModelChange\"], exportAs: [\"ngModel\"] }, { kind: \"ngmodule\", type: ReactiveFormsModule }, { kind: \"directive\", type: i2.FormControlDirective, selector: \"[formControl]\", inputs: [\"formControl\", \"disabled\", \"ngModel\"], outputs: [\"ngModelChange\"], exportAs: [\"ngForm\"] }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.14\", ngImport: i0, type: TextfieldComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'app-textfield', standalone: true, imports: [CommonModule, FormsModule, ReactiveFormsModule], providers: [\n                        {\n                            provide: NG_VALUE_ACCESSOR,\n                            useExisting: forwardRef(() => TextfieldComponent),\n                            multi: true\n                        }\n                    ], template: \"<div\\n  class=\\\"textfield\\\"\\n  [ngClass]=\\\"[\\n    'textfield--' + size,\\n    state === 'error' ? 'textfield--error' : 'textfield--' + state,\\n    state === 'error' ? 'color-error' : 'color-' + color\\n  ]\\\"\\n>\\n  <!-- Label -->\\n  <label class=\\\"textfield__label\\\">{{ label }}</label>\\n\\n  <!-- Input wrapper -->\\n  <div class=\\\"textfield__input-wrapper\\\">\\n\\n    <!-- \\u0E43\\u0E0A\\u0E49 FormControl \\u0E16\\u0E49\\u0E32\\u0E21\\u0E35 -->\\n    <input\\n      *ngIf=\\\"control; else ngModelInput\\\"\\n      type=\\\"text\\\"\\n      class=\\\"textfield__input\\\"\\n      [formControl]=\\\"control\\\"\\n      [placeholder]=\\\"placeholder\\\"\\n      (blur)=\\\"onBlur()\\\"\\n      (keydown)=\\\"onKeyDown($event)\\\"\\n    />\\n\\n    <!-- \\u0E16\\u0E49\\u0E32\\u0E44\\u0E21\\u0E48\\u0E21\\u0E35 FormControl \\u0E43\\u0E0A\\u0E49 ngModel -->\\n    <ng-template #ngModelInput>\\n      <input\\n        type=\\\"text\\\"\\n        class=\\\"textfield__input\\\"\\n        [(ngModel)]=\\\"value\\\"\\n        [placeholder]=\\\"placeholder\\\"\\n        (blur)=\\\"onBlur()\\\"\\n        (keydown)=\\\"onKeyDown($event)\\\"\\n      />\\n    </ng-template>\\n\\n    <!-- \\u0E1B\\u0E38\\u0E48\\u0E21 clear -->\\n    <button\\n      *ngIf=\\\"hasValue\\\"\\n      type=\\\"button\\\"\\n      class=\\\"textfield__clear\\\"\\n      (click)=\\\"clearInput()\\\"\\n    >\\n      clear\\n    </button>\\n\\n  </div>\\n\\n  <!-- \\u0E02\\u0E49\\u0E2D\\u0E04\\u0E27\\u0E32\\u0E21 error -->\\n  <p *ngIf=\\\"state === 'error'\\\" class=\\\"textfield__error\\\">{{ errorText }}</p>\\n\\n  <!-- helper text \\u0E41\\u0E2A\\u0E14\\u0E07\\u0E15\\u0E25\\u0E2D\\u0E14 -->\\n  <p class=\\\"textfield__helper\\\">{{ helperText }}</p>\\n</div>\", styles: [\".textfield{margin-bottom:4px;font-family:Arial,sans-serif}.textfield__label{display:block;margin-bottom:4px;font-size:12px;color:#767c89}.textfield__helper{font-size:12px;margin-top:4px;color:#767c89}.textfield__error{font-size:12px;margin-top:4px;color:#ec6a6a}.textfield__input-wrapper{position:relative}.textfield__input{width:100%;box-sizing:border-box;padding:.5rem 40px .5rem 8px;border:1px solid #d5d6d6;border-radius:6px;font-size:12px;height:40px;transition:.2s}.textfield__input:focus{outline:none;box-shadow:0 0 0 1px #2563eb}.textfield__input::placeholder{color:#a0aec0;font-size:12px;opacity:1}.textfield.color-primary .textfield__input{border-color:#c5c5c5}.textfield.color-secondary .textfield__input{border-color:#9c27b0}.textfield.color-success .textfield__input{border-color:#4caf50}.textfield.color-error .textfield__input{border-color:#ec6a6a}.textfield__clear{position:absolute;top:50%;right:8px;transform:translateY(-50%);cursor:pointer;border:none;background:transparent;font-family:Material Symbols Outlined;font-variation-settings:\\\"FILL\\\" 0,\\\"wght\\\" 400,\\\"GRAD\\\" 0,\\\"opsz\\\" 24;font-size:16px;color:#666;display:flex;align-items:center;justify-content:center;opacity:.6}.textfield__clear:hover{opacity:1}.textfield--sm .textfield__input{height:32px;font-size:12px}.textfield--md .textfield__input{height:40px;font-size:14px}.textfield--lg .textfield__input{height:42px;font-size:16px}\\n\"] }]\n        }], propDecorators: { label: [{\n                type: Input\n            }], placeholder: [{\n                type: Input\n            }], size: [{\n                type: Input\n            }], color: [{\n                type: Input\n            }], helperText: [{\n                type: Input\n            }], disabled: [{\n                type: Input\n            }], onlyNumbers: [{\n                type: Input\n            }], control: [{\n                type: Input\n            }], value: [{\n                type: Input\n            }], valueChange: [{\n                type: Output\n            }] } });\n\nclass MyLib {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.3.14\", ngImport: i0, type: MyLib, deps: [], target: i0.ɵɵFactoryTarget.Component });\n    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"14.0.0\", version: \"20.3.14\", type: MyLib, isStandalone: true, selector: \"lib-my-lib\", ngImport: i0, template: `\n    <p>\n      my-lib works!\n    </p>\n  `, isInline: true, styles: [\"\"] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.3.14\", ngImport: i0, type: MyLib, decorators: [{\n            type: Component,\n            args: [{ selector: 'lib-my-lib', imports: [], template: `\n    <p>\n      my-lib works!\n    </p>\n  ` }]\n        }] });\n\n/*\n * Public API Surface of my-lib\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { MyLib, TextfieldComponent };\n//# sourceMappingURL=my-lib.mjs.map\n"],"names":[],"sourceRoot":""}