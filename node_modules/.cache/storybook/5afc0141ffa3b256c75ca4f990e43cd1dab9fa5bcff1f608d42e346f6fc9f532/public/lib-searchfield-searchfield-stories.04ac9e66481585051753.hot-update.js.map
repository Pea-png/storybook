{"version":3,"file":"lib-searchfield-searchfield-stories.04ac9e66481585051753.hot-update.js","mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://my-workspace/./projects/my-lib/src/lib/searchfield/searchfield.component.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport __NG_CLI_RESOURCE__0 from \"./searchfield.component.html?ngResource\";\nimport __NG_CLI_RESOURCE__1 from \"./searchfield.component.scss?ngResource\";\nimport { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nlet SearchfieldComponent = class SearchfieldComponent {\n    label = '';\n    placeholder = '';\n    control;\n    size = 'sm';\n    color = 'default';\n    iconStart;\n    iconEnd;\n    valueChange = new EventEmitter();\n    iconClick = new EventEmitter();\n    // Track focus\n    inputFocused = false;\n    onInput() {\n        const val = this.control.value || '';\n        if (val.length > 15) {\n            this.control.setErrors({\n                ...this.control.errors,\n                maxlength: { requiredLength: 15, actualLength: val.length },\n            });\n        }\n        else {\n            if (this.control.errors) {\n                const { maxlength, ...rest } = this.control.errors;\n                this.control.setErrors(Object.keys(rest).length ? rest : null);\n            }\n        }\n        this.valueChange.emit(val);\n    }\n    clearInput() {\n        this.control.setValue('');\n        this.control.markAsUntouched();\n        this.valueChange.emit('');\n    }\n    clickIcon(position) {\n        this.iconClick.emit(position);\n    }\n    hasText() {\n        return !!this.control.value;\n    }\n    onFocus() {\n        this.inputFocused = true;\n    }\n    onBlur() {\n        this.inputFocused = false;\n    }\n    get inputClasses() {\n        return {\n            'has-icon-start': !!this.iconStart,\n            'has-icon-end': !!this.iconEnd || this.hasText(),\n        };\n    }\n    get clearButtonClasses() {\n        return {\n            'with-end-icon': !!this.iconEnd,\n            'without-end-icon': !this.iconEnd,\n        };\n    }\n    get state() {\n        if (this.inputFocused)\n            return 'focus';\n        if (this.control?.invalid)\n            return 'error';\n        if (this.control?.valid && this.control?.touched)\n            return 'success';\n        return this.color || 'default'; // <-- คืนค่า color\n    }\n    get errorText() {\n        if (!this.control?.errors)\n            return '';\n        if (this.control.errors['required'])\n            return 'This field is required';\n        if (this.control.errors['maxlength'])\n            return `Maximum ${this.control.errors['maxlength'].requiredLength} characters`;\n        if (this.control.errors['pattern'])\n            return 'Number only';\n        return 'Invalid format';\n    }\n    static propDecorators = {\n        label: [{ type: Input }],\n        placeholder: [{ type: Input }],\n        control: [{ type: Input }],\n        size: [{ type: Input }],\n        color: [{ type: Input }],\n        iconStart: [{ type: Input }],\n        iconEnd: [{ type: Input }],\n        valueChange: [{ type: Output }],\n        iconClick: [{ type: Output }]\n    };\n};\nSearchfieldComponent = __decorate([\n    Component({\n        selector: 'app-searchfield',\n        standalone: true,\n        imports: [CommonModule, ReactiveFormsModule],\n        template: __NG_CLI_RESOURCE__0,\n        styles: [__NG_CLI_RESOURCE__1]\n    })\n], SearchfieldComponent);\nexport { SearchfieldComponent };\n"],"names":[],"sourceRoot":""}